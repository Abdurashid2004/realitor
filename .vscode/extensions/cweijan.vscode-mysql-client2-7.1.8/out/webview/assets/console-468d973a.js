import{_ as v}from"./checkbox-b9c3a5b6.js";import{_,a as g}from"./select-85394007.js";import{n as u,i as m,_ as c}from"./app-aaf1260a.js";import{_ as h}from"./switch-6bf42133.js";import{n as r,s as y,e as d}from"./notify-d9afd13e.js";import"./checkbox-4f03e503.js";import"./scrollbar-b60f2172.js";import"./index-72d37e73.js";const C={props:["full"]};var w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-container",class:{"card-container-full":t.full}},[e("div",{staticClass:"card"},[t._t("default")],2)])},$=[],x=u(C,w,$,!1,null,"a42e296e",null,null);const p=x.exports;const b={components:{Card:p},mixins:[m],data(){return{user:null,autoSync:!1,uploadConfirm:!1,removeConfirm:!1,downloadConfirm:!1,importConfirm:!1,syncKeyPath:null,uploadLoading:!1,removeLoading:!1,downloadLoading:!1,triggerChooseSyncKey:!1,isDev:!1}},computed:{isPay(){return this.user&&this.user.expireTime>new Date().getTime()}},mounted(){this.autoSync=this.extConfig.autoSync,this.on("user",o=>{this.user=o}).on("importConfirm",()=>{this.importConfirm=!0}).on("importResult",({success:o,message:t,cancel:e})=>{if(this.importConfirm=!1,e)return;r({showClose:!0,duration:o?1e3:2e3,message:t,type:o?"success":"error"})}).on("downloadConfirm",()=>{this.downloadLoading=!1,this.downloadConfirm=!0}).on("downloadResult",({success:o,message:t})=>{this.downloadLoading=!1,r({showClose:!0,duration:o?1e3:3e3,message:t,type:o?"success":"error"})}).on("uploadRes",({success:o,message:t})=>{this.uploadLoading=!1,r({showClose:!0,duration:o?1e3:3e3,message:t,type:o?"success":"error"})}).on("removeRes",({success:o,message:t})=>{this.removeLoading=!1,r({showClose:!0,duration:o?1e3:3e3,message:t,type:o?"success":"error"})}).on("syncKey",o=>{(!this.syncKeyPath||this.triggerChooseSyncKey)&&(this.syncKeyPath=o,this.triggerChooseSyncKey=!1)})},methods:{updateAutoSync(){this.emit("updateOption",{name:"autoSync",value:this.autoSync})},showLayout(){y(`Width: ${window.innerWidth}, Height: ${window.innerHeight}`)},clearCache(){this.emit("clearCache")},reportIssue(){this.emit("open","https://github.com/cweijan/vscode-database-client/issues")},editConfig(){this.emit("editConfig")},chooseSyncKey(){this.triggerChooseSyncKey=!0,this.emit("chooseSyncKey")},exportConfig(){this.emit("exportConfig")},importConfig(o){this.emit("importConfig",o)},uploadConfig(){if(!this.isPay){d("Free account not support upload configuration!");return}this.uploadConfirm=!1,this.uploadLoading=!0,this.emit("uploadConfig",this.syncKeyPath)},removeConfig(){this.removeConfirm=!1,this.removeLoading=!0,this.emit("removeConfig")},downloadConfig(o){if(!this.isPay){d("Free account not support sync data!");return}this.downloadConfirm=!1,this.downloadLoading=!0,this.emit("downloadConfig",{keyPath:this.syncKeyPath,type:o})}}};var S=function(){var t=this,e=t._self._c;return e("div",[e("Card",[e("div",{staticStyle:{"min-width":"300px"}},[e("div",{staticStyle:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},[t._v(" "+t._s(t.$t("console.configuration"))+" ")]),e("div",{staticStyle:{margin:"20px 0"}},[e("vsc-button",{attrs:{type:"secondary",icon:"codicon-edit"},on:{click:t.editConfig}},[t._v(t._s(t.$t("console.edit"))+" ")]),e("vsc-button",{attrs:{icon:"codicon-arrow-down"},on:{click:t.exportConfig}},[t._v(t._s(t.$t("console.export"))+" ")]),e(c,{staticClass:"ml-7px",attrs:{placement:"top",width:"360",value:t.importConfirm,trigger:"manual"},scopedSlots:t._u([{key:"reference",fn:function(){return[e("vsc-button",{attrs:{icon:"codicon-arrow-up"},on:{click:function(n){return t.importConfig()}}},[t._v(t._s(t.$t("console.import"))+" ")])]},proxy:!0}])},[e("p",[t._v(t._s(t.$t("console.mergeConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.importConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:function(n){return t.importConfig("merge")}}},[t._v(t._s(t.$t("console.merge")))]),e("vsc-button",{on:{click:function(n){return t.importConfig("overwrite")}}},[t._v(t._s(t.$t("console.overwrite")))])],1)])],1)])]),e("Card",[e("div",[e("div",{staticStyle:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},[t._v(" "+t._s(t.$t("console.sync"))+" ")]),e("div",{staticClass:"my-2"},[e("label",{staticClass:"mr-2"},[t._v(t._s(t.$t("console.autoSync")))]),e(h,{on:{change:t.updateAutoSync},model:{value:t.autoSync,callback:function(n){t.autoSync=n},expression:"autoSync"}})],1),e("div",[e(c,{attrs:{placement:"top",width:"360",value:t.removeConfirm,trigger:"manual"},scopedSlots:t._u([{key:"reference",fn:function(){return[e("vsc-button",{attrs:{type:"secondary",icon:"el-icon-delete",loading:t.removeLoading},on:{click:function(n){t.removeConfirm=!0}}},[t._v(t._s(t.$t("console.remove")))])]},proxy:!0}])},[e("p",{staticStyle:{"margin-top":"5px","margin-bottom":"10px"}},[t._v(t._s(t.$t("console.removeConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.removeConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:t.removeConfig}},[t._v(t._s(t.$t("result.confirm")))])],1)]),e(c,{staticClass:"ml-7px",attrs:{placement:"top",width:"360",value:t.uploadConfirm,trigger:"manual"},scopedSlots:t._u([{key:"reference",fn:function(){return[e("vsc-button",{attrs:{icon:"codicon-cloud-upload",loading:t.uploadLoading},on:{click:function(n){t.uploadConfirm=!0}}},[t._v(t._s(t.$t("console.upload")))])]},proxy:!0}])},[e("p",{staticStyle:{"margin-top":"5px","margin-bottom":"10px"}},[t._v(t._s(t.$t("console.uploadConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.uploadConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:t.uploadConfig}},[t._v(t._s(t.$t("result.confirm")))])],1)]),e(c,{staticClass:"ml-7px",attrs:{placement:"top",width:"360",value:t.downloadConfirm,trigger:"manual"},scopedSlots:t._u([{key:"reference",fn:function(){return[e("vsc-button",{attrs:{icon:"codicon-cloud-download",loading:t.downloadLoading},on:{click:function(n){return t.downloadConfig()}}},[t._v(t._s(t.$t("console.download")))])]},proxy:!0}])},[e("p",{staticStyle:{"margin-top":"5px","margin-bottom":"10px"}},[t._v(t._s(t.$t("console.mergeConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.downloadConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:function(n){return t.downloadConfig("merge")}}},[t._v(t._s(t.$t("console.merge")))]),e("vsc-button",{on:{click:function(n){return t.downloadConfig("overwrite")}}},[t._v(t._s(t.$t("console.overwrite")))])],1)]),e("div",{staticStyle:{"margin-top":"20px"}},[e("vsc-input",{staticClass:"!w-52",attrs:{size:"mini",placeholder:"Aes encryption Key"},model:{value:t.syncKeyPath,callback:function(n){t.syncKeyPath=n},expression:"syncKeyPath"}}),e("vsc-button",{staticClass:"!ml-1",attrs:{icon:"codicon-file"},on:{click:t.chooseSyncKey}})],1)],1)])]),e("Card",[e("div",[e("div",{staticStyle:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},[t._v(" Others ")]),e("div",{staticStyle:{margin:"20px 0"}},[e("vsc-button",{attrs:{icon:"codicon-github-inverted",size:"mini"},on:{click:t.reportIssue}},[t._v(" "+t._s(t.$t("toolbar.reportIssue"))+" ")]),e("vsc-button",{attrs:{icon:"codicon-clear-all",size:"mini"},on:{click:t.clearCache}},[t._v(" "+t._s(t.$t("toolbar.clearCache"))+" ")])],1),e("div",[t.isDev?e("vsc-button",{attrs:{icon:"codicon-gear",size:"mini"},on:{click:t.showLayout}},[t._v(" 获取页面宽高 ")]):t._e()],1)])])],1)},k=[],L=u(b,S,k,!1,null,"0f407a76",null,null);const O=L.exports,K={editor:["disableSqlCodeLenNew","splitSQLByNewLine","highlightSQLBlock","bindConnectionByActiveMark","executeCursorSQLByShortcut","splitEditorWhenQuery"],result:["resultRowHeight","maximumColumnWidth","showComments","rightAlignNumericData","createResultViewForEachQuery","reloadAfterDML","autoGetTableCount"],treeView:["showUser","showTrigger","saveConnectionExpandedState","showEvent","showForeignTable"],sql:["escapedAllObjectName","capitalizeKeywordsWhenFormatting","autoPagingSQL","queryWithSchema"]};function l(o,t){const e=K[o];return t.filter(n=>e.includes(n.name)).sort((n,a)=>e.indexOf(n.name)-e.indexOf(a.name))}const P={showComments:["Always","Never","Chinese Only"]};const z={components:{Card:p,CloudConfig:O},mixins:[m],data(){return{enums:P,options:[],user:null}},computed:{optionTypes(){return[{title:this.$t("console.editorOptions"),options:l("editor",this.options)},{title:this.$t("console.resultOptions"),options:l("result",this.options)},{title:this.$t("console.treeOptions"),options:l("treeView",this.options)},{title:this.$t("console.sqlOptions"),options:l("sql",this.options)}]}},async mounted(){this.emit("options").on("options",({options:o})=>{this.options=o}).on("user",o=>{this.user=o}).on("configSuccess",o=>{r({showClose:!0,duration:1e3,message:o,type:"success"})}).on("resetSuccess",o=>{r({showClose:!0,duration:1e3,message:o,type:"success"}),this.emit("options")}).init()},methods:{resetOption(o){this.emit("resetOption",o)},changeOpt(o){let t=o.value;o.type=="boolean"&&(t=!o.value,o.value=t),this.emit("updateOption",{...o,value:t})}}};var A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-wrap justify-center console-container"},[e("CloudConfig"),e("div",{staticClass:"option-container"},t._l(t.optionTypes,function(n,a){return e("Card",{key:a,staticStyle:{"max-width":"350px","min-width":"300px"}},[e("div",{staticClass:"option-title"},[t._v(" "+t._s(n.title)+" ")]),e("vsc-button",{attrs:{icon:"codicon-wand",size:"mini",title:t.$t("console.resetConfig")},on:{click:function(i){return t.resetOption(n.options)}}}),e("div",{staticClass:"option-list"},t._l(n.options,function(i,f){return e("div",{key:f,staticClass:"option-item"},[t.enums[i.name]?e("div",[t._v(" "+t._s(i.description)+" "),e(_,{staticClass:"w-28",attrs:{size:"small"},on:{change:function(s){return t.changeOpt(i)}},model:{value:i.value,callback:function(s){t.$set(i,"value",s)},expression:"option.value"}},t._l(t.enums[i.name],function(s){return e(g,{key:s,attrs:{value:s}},[t._v(" "+t._s(s)+" ")])}),1)],1):i.type=="boolean"||i.name=="escapedAllObjectName"?e(v,{attrs:{value:i.value},on:{change:function(s){return t.changeOpt(i)}}},[t._v(" "+t._s(i.description)+" ")]):["string","number"].includes(i.type)?e("div",[t._v(" "+t._s(i.description)+" "),e("vsc-input",{staticClass:"!w-20 ml-1",attrs:{size:"mini"},on:{change:function(s){return t.changeOpt(i)}},model:{value:i.value,callback:function(s){t.$set(i,"value",s)},expression:"option.value"}})],1):t._e()],1)}),0)],1)}),1)],1)},R=[],F=u(z,A,R,!1,null,"b4357842",null,null);const E=F.exports;export{E as default};
