"use strict";var S=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var Ye=S((ri,Jc)=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.default=void 0;var Rw=(1<<16)*(1<<16),jc=1/Rw,Lw=Buffer.from([254,255,255,255,255,255,255,255]),Xc=Buffer.alloc(0),ni=class{constructor(t,r,a){this.initialSize=void 0,this.encoding=void 0,this.doubleSizeGrowth=void 0,this.buffer=void 0,this.compositeBuffer=void 0,this.position=void 0,this.initialSize=t,this.encoding=r||"ucs2",this.doubleSizeGrowth=a||!1,this.buffer=Buffer.alloc(this.initialSize,0),this.compositeBuffer=Xc,this.position=0}get data(){return this.newBuffer(0),this.compositeBuffer}copyFrom(t){let r=t.length;this.makeRoomFor(r),t.copy(this.buffer,this.position),this.position+=r}makeRoomFor(t){if(this.buffer.length-this.position<t)if(this.doubleSizeGrowth){let r=Math.max(128,this.buffer.length*2);for(;r<t;)r*=2;this.newBuffer(r)}else this.newBuffer(t)}newBuffer(t){let r=this.buffer.slice(0,this.position);this.compositeBuffer=Buffer.concat([this.compositeBuffer,r]),this.buffer=t===0?Xc:Buffer.alloc(t,0),this.position=0}writeUInt8(t){this.makeRoomFor(1),this.buffer.writeUInt8(t,this.position),this.position+=1}writeUInt16LE(t){this.makeRoomFor(2),this.buffer.writeUInt16LE(t,this.position),this.position+=2}writeUShort(t){this.writeUInt16LE(t)}writeUInt16BE(t){this.makeRoomFor(2),this.buffer.writeUInt16BE(t,this.position),this.position+=2}writeUInt24LE(t){this.makeRoomFor(3),this.buffer[this.position+2]=t>>>16&255,this.buffer[this.position+1]=t>>>8&255,this.buffer[this.position]=t&255,this.position+=3}writeUInt32LE(t){this.makeRoomFor(4),this.buffer.writeUInt32LE(t,this.position),this.position+=4}writeBigInt64LE(t){this.makeRoomFor(8),this.buffer.writeBigInt64LE(t,this.position),this.position+=8}writeInt64LE(t){this.writeBigInt64LE(BigInt(t))}writeUInt64LE(t){this.writeBigUInt64LE(BigInt(t))}writeBigUInt64LE(t){this.makeRoomFor(8),this.buffer.writeBigUInt64LE(t,this.position),this.position+=8}writeUInt32BE(t){this.makeRoomFor(4),this.buffer.writeUInt32BE(t,this.position),this.position+=4}writeUInt40LE(t){this.writeInt32LE(t&-1),this.writeUInt8(Math.floor(t*jc))}writeInt8(t){this.makeRoomFor(1),this.buffer.writeInt8(t,this.position),this.position+=1}writeInt16LE(t){this.makeRoomFor(2),this.buffer.writeInt16LE(t,this.position),this.position+=2}writeInt16BE(t){this.makeRoomFor(2),this.buffer.writeInt16BE(t,this.position),this.position+=2}writeInt32LE(t){this.makeRoomFor(4),this.buffer.writeInt32LE(t,this.position),this.position+=4}writeInt32BE(t){this.makeRoomFor(4),this.buffer.writeInt32BE(t,this.position),this.position+=4}writeFloatLE(t){this.makeRoomFor(4),this.buffer.writeFloatLE(t,this.position),this.position+=4}writeDoubleLE(t){this.makeRoomFor(8),this.buffer.writeDoubleLE(t,this.position),this.position+=8}writeString(t,r){r==null&&(r=this.encoding);let a=Buffer.byteLength(t,r);this.makeRoomFor(a),this.buffer.write(t,this.position,r),this.position+=a}writeBVarchar(t,r){this.writeUInt8(t.length),this.writeString(t,r)}writeUsVarchar(t,r){this.writeUInt16LE(t.length),this.writeString(t,r)}writeUsVarbyte(t,r){r==null&&(r=this.encoding);let a;t instanceof Buffer?a=t.length:(t=t.toString(),a=Buffer.byteLength(t,r)),this.writeUInt16LE(a),t instanceof Buffer?this.writeBuffer(t):(this.makeRoomFor(a),this.buffer.write(t,this.position,r),this.position+=a)}writePLPBody(t,r){r==null&&(r=this.encoding);let a;t instanceof Buffer?a=t.length:(t=t.toString(),a=Buffer.byteLength(t,r)),this.writeBuffer(Lw),a>0&&(this.writeUInt32LE(a),t instanceof Buffer?this.writeBuffer(t):(this.makeRoomFor(a),this.buffer.write(t,this.position,r),this.position+=a)),this.writeUInt32LE(0)}writeBuffer(t){let r=t.length;this.makeRoomFor(r),t.copy(this.buffer,this.position),this.position+=r}writeMoney(t){this.writeInt32LE(Math.floor(t*jc)),this.writeInt32LE(t&-1)}},Cw=ni;ri.default=Cw;Jc.exports=ni});var Le=S(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.Token=V.TYPE=V.SSPIToken=V.RowToken=V.RoutingEnvChangeToken=V.RollbackTransactionEnvChangeToken=V.ReturnValueToken=V.ReturnStatusToken=V.ResetConnectionEnvChangeToken=V.PacketSizeEnvChangeToken=V.OrderToken=V.NBCRowToken=V.LoginAckToken=V.LanguageEnvChangeToken=V.InfoMessageToken=V.FedAuthInfoToken=V.FeatureExtAckToken=V.ErrorMessageToken=V.DoneToken=V.DoneProcToken=V.DoneInProcToken=V.DatabaseMirroringPartnerEnvChangeToken=V.DatabaseEnvChangeToken=V.CommitTransactionEnvChangeToken=V.CollationChangeToken=V.ColMetadataToken=V.CharsetEnvChangeToken=V.BeginTransactionEnvChangeToken=void 0;var Mw={ALTMETADATA:136,ALTROW:211,COLMETADATA:129,COLINFO:165,DONE:253,DONEPROC:254,DONEINPROC:255,ENVCHANGE:227,ERROR:170,FEATUREEXTACK:174,FEDAUTHINFO:238,INFO:171,LOGINACK:173,NBCROW:210,OFFSET:120,ORDER:169,RETURNSTATUS:121,RETURNVALUE:172,ROW:209,SSPI:237,TABNAME:164};V.TYPE=Mw;var pe=class{constructor(t,r){this.name=void 0,this.handlerName=void 0,this.name=t,this.handlerName=r}};V.Token=pe;var ma=class extends pe{constructor(t){super("COLMETADATA","onColMetadata"),this.columns=void 0,this.columns=t}};V.ColMetadataToken=ma;var Ea=class extends pe{constructor({more:t,sqlError:r,attention:a,serverError:f,rowCount:l,curCmd:h}){super("DONE","onDone"),this.more=void 0,this.sqlError=void 0,this.attention=void 0,this.serverError=void 0,this.rowCount=void 0,this.curCmd=void 0,this.more=t,this.sqlError=r,this.attention=a,this.serverError=f,this.rowCount=l,this.curCmd=h}};V.DoneToken=Ea;var va=class extends pe{constructor({more:t,sqlError:r,attention:a,serverError:f,rowCount:l,curCmd:h}){super("DONEINPROC","onDoneInProc"),this.more=void 0,this.sqlError=void 0,this.attention=void 0,this.serverError=void 0,this.rowCount=void 0,this.curCmd=void 0,this.more=t,this.sqlError=r,this.attention=a,this.serverError=f,this.rowCount=l,this.curCmd=h}};V.DoneInProcToken=va;var ga=class extends pe{constructor({more:t,sqlError:r,attention:a,serverError:f,rowCount:l,curCmd:h}){super("DONEPROC","onDoneProc"),this.more=void 0,this.sqlError=void 0,this.attention=void 0,this.serverError=void 0,this.rowCount=void 0,this.curCmd=void 0,this.more=t,this.sqlError=r,this.attention=a,this.serverError=f,this.rowCount=l,this.curCmd=h}};V.DoneProcToken=ga;var ya=class extends pe{constructor(t,r){super("ENVCHANGE","onDatabaseChange"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="DATABASE",this.newValue=t,this.oldValue=r}};V.DatabaseEnvChangeToken=ya;var Ta=class extends pe{constructor(t,r){super("ENVCHANGE","onLanguageChange"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="LANGUAGE",this.newValue=t,this.oldValue=r}};V.LanguageEnvChangeToken=Ta;var wa=class extends pe{constructor(t,r){super("ENVCHANGE","onCharsetChange"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="CHARSET",this.newValue=t,this.oldValue=r}};V.CharsetEnvChangeToken=wa;var Sa=class extends pe{constructor(t,r){super("ENVCHANGE","onPacketSizeChange"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="PACKET_SIZE",this.newValue=t,this.oldValue=r}};V.PacketSizeEnvChangeToken=Sa;var Oa=class extends pe{constructor(t,r){super("ENVCHANGE","onBeginTransaction"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="BEGIN_TXN",this.newValue=t,this.oldValue=r}};V.BeginTransactionEnvChangeToken=Oa;var Na=class extends pe{constructor(t,r){super("ENVCHANGE","onCommitTransaction"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="COMMIT_TXN",this.newValue=t,this.oldValue=r}};V.CommitTransactionEnvChangeToken=Na;var Ia=class extends pe{constructor(t,r){super("ENVCHANGE","onRollbackTransaction"),this.type=void 0,this.oldValue=void 0,this.newValue=void 0,this.type="ROLLBACK_TXN",this.newValue=t,this.oldValue=r}};V.RollbackTransactionEnvChangeToken=Ia;var Aa=class extends pe{constructor(t,r){super("ENVCHANGE","onDatabaseMirroringPartner"),this.type=void 0,this.oldValue=void 0,this.newValue=void 0,this.type="DATABASE_MIRRORING_PARTNER",this.newValue=t,this.oldValue=r}};V.DatabaseMirroringPartnerEnvChangeToken=Aa;var Da=class extends pe{constructor(t,r){super("ENVCHANGE","onResetConnection"),this.type=void 0,this.oldValue=void 0,this.newValue=void 0,this.type="RESET_CONNECTION",this.newValue=t,this.oldValue=r}};V.ResetConnectionEnvChangeToken=Da;var ba=class extends pe{constructor(t,r){super("ENVCHANGE","onSqlCollationChange"),this.type=void 0,this.oldValue=void 0,this.newValue=void 0,this.type="SQL_COLLATION",this.newValue=t,this.oldValue=r}};V.CollationChangeToken=ba;var Ra=class extends pe{constructor(t,r){super("ENVCHANGE","onRoutingChange"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="ROUTING_CHANGE",this.newValue=t,this.oldValue=r}};V.RoutingEnvChangeToken=Ra;var La=class extends pe{constructor(t,r){super("FEATUREEXTACK","onFeatureExtAck"),this.fedAuth=void 0,this.utf8Support=void 0,this.fedAuth=t,this.utf8Support=r}};V.FeatureExtAckToken=La;var Ca=class extends pe{constructor(t,r){super("FEDAUTHINFO","onFedAuthInfo"),this.spn=void 0,this.stsurl=void 0,this.spn=t,this.stsurl=r}};V.FedAuthInfoToken=Ca;var Ma=class extends pe{constructor({number:t,state:r,class:a,message:f,serverName:l,procName:h,lineNumber:E}){super("INFO","onInfoMessage"),this.number=void 0,this.state=void 0,this.class=void 0,this.message=void 0,this.serverName=void 0,this.procName=void 0,this.lineNumber=void 0,this.number=t,this.state=r,this.class=a,this.message=f,this.serverName=l,this.procName=h,this.lineNumber=E}};V.InfoMessageToken=Ma;var Pa=class extends pe{constructor({number:t,state:r,class:a,message:f,serverName:l,procName:h,lineNumber:E}){super("ERROR","onErrorMessage"),this.number=void 0,this.state=void 0,this.class=void 0,this.message=void 0,this.serverName=void 0,this.procName=void 0,this.lineNumber=void 0,this.number=t,this.state=r,this.class=a,this.message=f,this.serverName=l,this.procName=h,this.lineNumber=E}};V.ErrorMessageToken=Pa;var Fa=class extends pe{constructor({interface:t,tdsVersion:r,progName:a,progVersion:f}){super("LOGINACK","onLoginAck"),this.interface=void 0,this.tdsVersion=void 0,this.progName=void 0,this.progVersion=void 0,this.interface=t,this.tdsVersion=r,this.progName=a,this.progVersion=f}};V.LoginAckToken=Fa;var xa=class extends pe{constructor(t){super("NBCROW","onRow"),this.columns=void 0,this.columns=t}};V.NBCRowToken=xa;var Ua=class extends pe{constructor(t){super("ORDER","onOrder"),this.orderColumns=void 0,this.orderColumns=t}};V.OrderToken=Ua;var Ba=class extends pe{constructor(t){super("RETURNSTATUS","onReturnStatus"),this.value=void 0,this.value=t}};V.ReturnStatusToken=Ba;var qa=class extends pe{constructor({paramOrdinal:t,paramName:r,metadata:a,value:f}){super("RETURNVALUE","onReturnValue"),this.paramOrdinal=void 0,this.paramName=void 0,this.metadata=void 0,this.value=void 0,this.paramOrdinal=t,this.paramName=r,this.metadata=a,this.value=f}};V.ReturnValueToken=qa;var Ya=class extends pe{constructor(t){super("ROW","onRow"),this.columns=void 0,this.columns=t}};V.RowToken=Ya;var ka=class extends pe{constructor(t,r){super("SSPICHALLENGE","onSSPI"),this.ntlmpacket=void 0,this.ntlmpacketBuffer=void 0,this.ntlmpacket=t,this.ntlmpacketBuffer=r}};V.SSPIToken=ka});var Ga=S((oi,eh)=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.default=void 0;var Pw=require("events"),Qc=xw(Ye()),Fw=require("stream"),Ha=Le();function xw(n){return n&&n.__esModule?n:{default:n}}var Va={nullable:1<<0,caseSen:1<<1,updateableReadWrite:1<<2,updateableUnknown:1<<3,identity:1<<4,computed:1<<5,fixedLenCLRType:1<<8,sparseColumnSet:1<<10,hidden:1<<13,key:1<<14,nullableUnknown:1<<15},Uw={FINAL:0,MORE:1,ERROR:2,INXACT:4,COUNT:16,ATTN:32,SRVERROR:256},Bw=Buffer.from([Ha.TYPE.ROW]),qw=Buffer.from([16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Yw=Buffer.from([0]),Wa=class extends Fw.Transform{constructor(t){super({writableObjectMode:!0}),this.columnMetadataWritten=void 0,this.bulkLoad=void 0,this.mainOptions=void 0,this.columns=void 0,this.bulkLoad=t,this.mainOptions=t.options,this.columns=t.columns,this.columnMetadataWritten=!1}_transform(t,r,a){this.columnMetadataWritten||(this.push(this.bulkLoad.getColMetaData()),this.columnMetadataWritten=!0),this.push(Bw);for(let f=0;f<this.columns.length;f++){let l=this.columns[f],h=Array.isArray(t)?t[f]:t[l.objName];if(!this.bulkLoad.firstRowWritten)try{h=l.type.validate(h,l.collation)}catch(v){return a(v)}let E={length:l.length,scale:l.scale,precision:l.precision,value:h};if(l.type.name==="Text"||l.type.name==="Image"||l.type.name==="NText"){if(h==null){this.push(Yw);continue}this.push(qw)}this.push(l.type.generateParameterLength(E,this.mainOptions));for(let v of l.type.generateParameterData(E,this.mainOptions))this.push(v)}process.nextTick(a)}_flush(t){this.push(this.bulkLoad.createDoneToken()),process.nextTick(t)}},ii=class extends Pw.EventEmitter{constructor(t,r,a,{checkConstraints:f=!1,fireTriggers:l=!1,keepNulls:h=!1,lockTable:E=!1,order:v={}},O){if(typeof f!="boolean")throw new TypeError('The "options.checkConstraints" property must be of type boolean.');if(typeof l!="boolean")throw new TypeError('The "options.fireTriggers" property must be of type boolean.');if(typeof h!="boolean")throw new TypeError('The "options.keepNulls" property must be of type boolean.');if(typeof E!="boolean")throw new TypeError('The "options.lockTable" property must be of type boolean.');if(typeof v!="object"||v===null)throw new TypeError('The "options.order" property must be of type object.');for(let[A,b]of Object.entries(v))if(b!=="ASC"&&b!=="DESC")throw new TypeError('The value of the "'+A+'" key in the "options.order" object must be either "ASC" or "DESC".');super(),this.error=void 0,this.canceled=void 0,this.executionStarted=void 0,this.streamingMode=void 0,this.table=void 0,this.timeout=void 0,this.options=void 0,this.callback=void 0,this.columns=void 0,this.columnsByName=void 0,this.firstRowWritten=void 0,this.rowToPacketTransform=void 0,this.bulkOptions=void 0,this.connection=void 0,this.rows=void 0,this.rst=void 0,this.rowCount=void 0,this.collation=void 0,this.error=void 0,this.canceled=!1,this.executionStarted=!1,this.collation=r,this.table=t,this.options=a,this.callback=O,this.columns=[],this.columnsByName={},this.firstRowWritten=!1,this.streamingMode=!1,this.rowToPacketTransform=new Wa(this),this.bulkOptions={checkConstraints:f,fireTriggers:l,keepNulls:h,lockTable:E,order:v}}addColumn(t,r,{output:a=!1,length:f,precision:l,scale:h,objName:E=t,nullable:v=!0}){if(this.firstRowWritten)throw new Error("Columns cannot be added to bulk insert after the first row has been written.");if(this.executionStarted)throw new Error("Columns cannot be added to bulk insert after execution has started.");let O={type:r,name:t,value:null,output:a,length:f,precision:l,scale:h,objName:E,nullable:v,collation:this.collation};(r.id&48)===32&&O.length==null&&r.resolveLength&&(O.length=r.resolveLength(O)),r.resolvePrecision&&O.precision==null&&(O.precision=r.resolvePrecision(O)),r.resolveScale&&O.scale==null&&(O.scale=r.resolveScale(O)),this.columns.push(O),this.columnsByName[t]=O}getOptionsSql(){let t=[];if(this.bulkOptions.checkConstraints&&t.push("CHECK_CONSTRAINTS"),this.bulkOptions.fireTriggers&&t.push("FIRE_TRIGGERS"),this.bulkOptions.keepNulls&&t.push("KEEP_NULLS"),this.bulkOptions.lockTable&&t.push("TABLOCK"),this.bulkOptions.order){let r=[];for(let[a,f]of Object.entries(this.bulkOptions.order))r.push(`${a} ${f}`);r.length&&t.push(`ORDER (${r.join(", ")})`)}return t.length>0?` WITH (${t.join(",")})`:""}getBulkInsertSql(){let t="insert bulk "+this.table+"(";for(let r=0,a=this.columns.length;r<a;r++){let f=this.columns[r];r!==0&&(t+=", "),t+="["+f.name+"] "+f.type.declaration(f)}return t+=")",t+=this.getOptionsSql(),t}getTableCreationSql(){let t="CREATE TABLE "+this.table+`(
`;for(let r=0,a=this.columns.length;r<a;r++){let f=this.columns[r];r!==0&&(t+=`,
`),t+="["+f.name+"] "+f.type.declaration(f),f.nullable!==void 0&&(t+=" "+(f.nullable?"NULL":"NOT NULL"))}return t+=`
)`,t}getColMetaData(){let t=new Qc.default(100,null,!0);t.writeUInt8(Ha.TYPE.COLMETADATA),t.writeUInt16LE(this.columns.length);for(let r=0,a=this.columns.length;r<a;r++){let f=this.columns[r];this.options.tdsVersion<"7_2"?t.writeUInt16LE(0):t.writeUInt32LE(0);let l=Va.updateableReadWrite;f.nullable?l|=Va.nullable:f.nullable===void 0&&this.options.tdsVersion>="7_2"&&(l|=Va.nullableUnknown),t.writeUInt16LE(l),t.writeBuffer(f.type.generateTypeInfo(f,this.options)),f.type.hasTableName&&t.writeUsVarchar(this.table,"ucs2"),t.writeBVarchar(f.name,"ucs2")}return t.data}setTimeout(t){this.timeout=t}createDoneToken(){let t=new Qc.default(this.options.tdsVersion<"7_2"?9:13);t.writeUInt8(Ha.TYPE.DONE);let r=Uw.FINAL;return t.writeUInt16LE(r),t.writeUInt16LE(0),t.writeUInt32LE(0),this.options.tdsVersion>="7_2"&&t.writeUInt32LE(0),t.data}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}},kw=ii;oi.default=kw;eh.exports=ii});var nh=S((yF,th)=>{th.exports={}});var oh=S((ai,ih)=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.default=void 0;var Vw=require("events"),Hw=Ww(require("util"));function rh(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(rh=function(a){return a?r:t})(n)}function Ww(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=rh(t);if(r&&r.has(n))return r.get(n);var a={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if(l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)){var h=f?Object.getOwnPropertyDescriptor(n,l):null;h&&(h.get||h.set)?Object.defineProperty(a,l,h):a[l]=n[l]}return a.default=n,r&&r.set(n,a),a}var si=class extends Vw.EventEmitter{constructor({data:t=!1,payload:r=!1,packet:a=!1,token:f=!1}={}){super(),this.options=void 0,this.indent=void 0,this.options={data:t,payload:r,packet:a,token:f},this.indent="  "}packet(t,r){this.haveListeners()&&this.options.packet&&(this.log(""),this.log(t),this.log(r.headerToString(this.indent)))}data(t){this.haveListeners()&&this.options.data&&this.log(t.dataToString(this.indent))}payload(t){this.haveListeners()&&this.options.payload&&this.log(t())}token(t){this.haveListeners()&&this.options.token&&this.log(Hw.inspect(t,{showHidden:!1,depth:5,colors:!0}))}haveListeners(){return this.listeners("debug").length>0}log(t){this.emit("debug",t)}},Gw=si;ai.default=Gw;ih.exports=si});var fi=S(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.default=void 0;var $a=class extends Error{constructor(){super("The operation was aborted"),this.code=void 0,this.code="ABORT_ERR",this.name="AbortError"}};ui.default=$a});var fh=S(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.sendInParallel=uh;ci.sendMessage=Zw;var $w=Ka(require("dgram")),sh=Ka(require("net")),Kw=zw(require("punycode")),li=Ka(fi());function ah(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(ah=function(a){return a?r:t})(n)}function zw(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=ah(t);if(r&&r.has(n))return r.get(n);var a={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if(l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)){var h=f?Object.getOwnPropertyDescriptor(n,l):null;h&&(h.get||h.set)?Object.defineProperty(a,l,h):a[l]=n[l]}return a.default=n,r&&r.set(n,a),a}function Ka(n){return n&&n.__esModule?n:{default:n}}async function uh(n,t,r,a){if(a.aborted)throw new li.default;return await new Promise((f,l)=>{let h=[],E=0,v=C=>{E++,E===n.length&&(a.removeEventListener("abort",A),b(),l(C))},O=C=>{a.removeEventListener("abort",A),b(),f(C)},A=()=>{b(),l(new li.default)},b=()=>{for(let C of h)C.removeListener("error",v),C.removeListener("message",O),C.close()};a.addEventListener("abort",A,{once:!0});for(let C=0;C<n.length;C++){let Y=n[C].family===6?"udp6":"udp4",F=$w.default.createSocket(Y);h.push(F),F.on("error",v),F.on("message",O),F.send(r,0,r.length,t,n[C].address)}})}async function Zw(n,t,r,a,f){if(a.aborted)throw new li.default;let l;return sh.default.isIP(n)?l=[{address:n,family:sh.default.isIPv6(n)?6:4}]:l=await new Promise((h,E)=>{let v=()=>{E(new li.default)};a.addEventListener("abort",v),r(Kw.toASCII(n),{all:!0},(O,A)=>{a.removeEventListener("abort",v),O?E(O):h(A)})}),await uh(l,t,f,a)}});var za=S((SF,lh)=>{var{EventEmitter:jw}=require("events"),hi=class{constructor(){this.eventEmitter=new jw,this.onabort=null,this.aborted=!1,this.reason=void 0}toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(t,r){this.eventEmitter.removeListener(t,r)}addEventListener(t,r){this.eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},a=`on${t}`;typeof this[a]=="function"&&this[a](r),this.eventEmitter.emit(t,r)}throwIfAborted(){if(this.aborted)throw this.reason}static abort(t){let r=new nr;return r.abort(),r.signal}static timeout(t){let r=new nr;return setTimeout(()=>r.abort(new Error("TimeoutError")),t),r.signal}},nr=class{constructor(){this.signal=new hi}abort(t){this.signal.aborted||(this.signal.aborted=!0,t?this.signal.reason=t:this.signal.reason=new Error("AbortError"),this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}};lh.exports={AbortController:nr,AbortSignal:hi}});var ch=S(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.default=void 0;var Za=class extends Error{constructor(){super("The operation was aborted due to timeout"),this.code=void 0,this.code="TIMEOUT_ERR",this.name="TimeoutError"}};di.default=Za});var hh=S(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.withTimeout=eS;var Xw=za(),Jw=Qw(ch());function Qw(n){return n&&n.__esModule?n:{default:n}}async function eS(n,t,r){let a=new Xw.AbortController,f=()=>{a.abort()},l=setTimeout(f,n);r?.addEventListener("abort",f,{once:!0});try{return await t(a.signal)}catch(h){throw h instanceof Error&&h.name==="AbortError"&&!(r&&r.aborted)?new Jw.default:h}finally{r?.removeEventListener("abort",f),clearTimeout(l)}}});var _h=S(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.instanceLookup=fS;pi.parseBrowserResponse=ph;var tS=dh(require("dns")),nS=dh(fi()),rS=fh(),iS=hh();function dh(n){return n&&n.__esModule?n:{default:n}}var oS=1434,sS=2*1e3,aS=3,uS=3;async function fS(n){let t=n.server;if(typeof t!="string")throw new TypeError('Invalid arguments: "server" must be a string');let r=n.instanceName;if(typeof r!="string")throw new TypeError('Invalid arguments: "instanceName" must be a string');let a=n.timeout===void 0?sS:n.timeout;if(typeof a!="number")throw new TypeError('Invalid arguments: "timeout" must be a number');let f=n.retries===void 0?aS:n.retries;if(typeof f!="number")throw new TypeError('Invalid arguments: "retries" must be a number');if(n.lookup!==void 0&&typeof n.lookup!="function")throw new TypeError('Invalid arguments: "lookup" must be a function');let l=n.lookup??tS.default.lookup;if(n.port!==void 0&&typeof n.port!="number")throw new TypeError('Invalid arguments: "port" must be a number');let h=n.port??oS,E=n.signal;if(E.aborted)throw new nS.default;let v;for(let b=0;b<=f;b++)try{v=await(0,iS.withTimeout)(a,async C=>{let Y=Buffer.from([2]);return await(0,rS.sendMessage)(n.server,h,l,C,Y)},E)}catch(C){if(!E.aborted&&C instanceof Error&&C.name==="TimeoutError")continue;throw C}if(!v)throw new Error("Failed to get response from SQL Server Browser on "+t);let O=v.toString("ascii",uS),A=ph(O,r);if(!A)throw new Error("Port for "+r+" not found in "+n.server);return A}function ph(n,t){let r,a=n.split(";;");for(let f=0,l=a.length;f<l;f++){let E=a[f].split(";");for(let v=0,O=E.length;v<O;v+=2){let A=E[v],b=E[v+1];if(A==="tcp"&&r)return parseInt(b,10);A==="InstanceName"&&(b.toUpperCase()===t.toUpperCase()?r=!0:r=!1)}}}});var mh=S(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.TransientErrorLookup=void 0;var Xa=class{isTransientError(t){return[4060,10928,10929,40197,40501,40613].indexOf(t)!==-1}};_i.TransientErrorLookup=Xa});var vn=S(mi=>{(function(){"use strict";var n={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(h){return a(l(h),arguments)}function r(h,E){return t.apply(null,[h].concat(E||[]))}function a(h,E){var v=1,O=h.length,A,b="",C,Y,F,y,U,w,M,I;for(C=0;C<O;C++)if(typeof h[C]=="string")b+=h[C];else if(typeof h[C]=="object"){if(F=h[C],F.keys)for(A=E[v],Y=0;Y<F.keys.length;Y++){if(A==null)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',F.keys[Y],F.keys[Y-1]));A=A[F.keys[Y]]}else F.param_no?A=E[F.param_no]:A=E[v++];if(n.not_type.test(F.type)&&n.not_primitive.test(F.type)&&A instanceof Function&&(A=A()),n.numeric_arg.test(F.type)&&typeof A!="number"&&isNaN(A))throw new TypeError(t("[sprintf] expecting number but found %T",A));switch(n.number.test(F.type)&&(M=A>=0),F.type){case"b":A=parseInt(A,10).toString(2);break;case"c":A=String.fromCharCode(parseInt(A,10));break;case"d":case"i":A=parseInt(A,10);break;case"j":A=JSON.stringify(A,null,F.width?parseInt(F.width):0);break;case"e":A=F.precision?parseFloat(A).toExponential(F.precision):parseFloat(A).toExponential();break;case"f":A=F.precision?parseFloat(A).toFixed(F.precision):parseFloat(A);break;case"g":A=F.precision?String(Number(A.toPrecision(F.precision))):parseFloat(A);break;case"o":A=(parseInt(A,10)>>>0).toString(8);break;case"s":A=String(A),A=F.precision?A.substring(0,F.precision):A;break;case"t":A=String(!!A),A=F.precision?A.substring(0,F.precision):A;break;case"T":A=Object.prototype.toString.call(A).slice(8,-1).toLowerCase(),A=F.precision?A.substring(0,F.precision):A;break;case"u":A=parseInt(A,10)>>>0;break;case"v":A=A.valueOf(),A=F.precision?A.substring(0,F.precision):A;break;case"x":A=(parseInt(A,10)>>>0).toString(16);break;case"X":A=(parseInt(A,10)>>>0).toString(16).toUpperCase();break}n.json.test(F.type)?b+=A:(n.number.test(F.type)&&(!M||F.sign)?(I=M?"+":"-",A=A.toString().replace(n.sign,"")):I="",U=F.pad_char?F.pad_char==="0"?"0":F.pad_char.charAt(1):" ",w=F.width-(I+A).length,y=F.width&&w>0?U.repeat(w):"",b+=F.align?I+A+y:U==="0"?I+y+A:y+I+A)}return b}var f=Object.create(null);function l(h){if(f[h])return f[h];for(var E=h,v,O=[],A=0;E;){if((v=n.text.exec(E))!==null)O.push(v[0]);else if((v=n.modulo.exec(E))!==null)O.push("%");else if((v=n.placeholder.exec(E))!==null){if(v[2]){A|=1;var b=[],C=v[2],Y=[];if((Y=n.key.exec(C))!==null)for(b.push(Y[1]);(C=C.substring(Y[0].length))!=="";)if((Y=n.key_access.exec(C))!==null)b.push(Y[1]);else if((Y=n.index_access.exec(C))!==null)b.push(Y[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");v[2]=b}else A|=2;if(A===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");O.push({placeholder:v[0],param_no:v[1],keys:v[2],sign:v[3],pad_char:v[4],align:v[5],width:v[6],precision:v[7],type:v[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");E=E.substring(v[0].length)}return f[h]=O}typeof mi<"u"&&(mi.sprintf=t,mi.vsprintf=r),typeof window<"u"&&(window.sprintf=t,window.vsprintf=r,typeof define=="function"&&define.amd&&define(function(){return{sprintf:t,vsprintf:r}}))})()});var rr=S(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.TYPE=Je.Packet=Je.OFFSET=Je.HEADER_LENGTH=void 0;Je.isPacketComplete=pS;Je.packetLength=_S;var Ja=vn(),Ei=8;Je.HEADER_LENGTH=Ei;var Qa={SQL_BATCH:1,RPC_REQUEST:3,TABULAR_RESULT:4,ATTENTION:6,BULK_LOAD:7,TRANSACTION_MANAGER:14,LOGIN7:16,NTLMAUTH_PKT:17,PRELOGIN:18,FEDAUTH_TOKEN:8};Je.TYPE=Qa;var Eh={};for(let n in Qa)Eh[Qa[n]]=n;var pt={NORMAL:0,EOM:1,IGNORE:2,RESETCONNECTION:8,RESETCONNECTIONSKIPTRAN:16},_e={Type:0,Status:1,Length:2,SPID:4,PacketID:6,Window:7};Je.OFFSET=_e;var lS=0,cS=1,hS=0,dS=`
`,eu=class{constructor(t){if(this.buffer=void 0,t instanceof Buffer)this.buffer=t;else{let r=t;this.buffer=Buffer.alloc(Ei,0),this.buffer.writeUInt8(r,_e.Type),this.buffer.writeUInt8(pt.NORMAL,_e.Status),this.buffer.writeUInt16BE(lS,_e.SPID),this.buffer.writeUInt8(cS,_e.PacketID),this.buffer.writeUInt8(hS,_e.Window),this.setLength()}}setLength(){this.buffer.writeUInt16BE(this.buffer.length,_e.Length)}length(){return this.buffer.readUInt16BE(_e.Length)}resetConnection(t){let r=this.buffer.readUInt8(_e.Status);t?r|=pt.RESETCONNECTION:r&=255-pt.RESETCONNECTION,this.buffer.writeUInt8(r,_e.Status)}last(t){let r=this.buffer.readUInt8(_e.Status);return arguments.length>0&&(t?r|=pt.EOM:r&=255-pt.EOM,this.buffer.writeUInt8(r,_e.Status)),this.isLast()}ignore(t){let r=this.buffer.readUInt8(_e.Status);t?r|=pt.IGNORE:r&=255-pt.IGNORE,this.buffer.writeUInt8(r,_e.Status)}isLast(){return!!(this.buffer.readUInt8(_e.Status)&pt.EOM)}packetId(t){return t&&this.buffer.writeUInt8(t%256,_e.PacketID),this.buffer.readUInt8(_e.PacketID)}addData(t){return this.buffer=Buffer.concat([this.buffer,t]),this.setLength(),this}data(){return this.buffer.slice(Ei)}type(){return this.buffer.readUInt8(_e.Type)}statusAsString(){let t=this.buffer.readUInt8(_e.Status),r=[];for(let a in pt){let f=pt[a];t&f?r.push(a):r.push(void 0)}return r.join(" ").trim()}headerToString(t=""){let r=(0,Ja.sprintf)("type:0x%02X(%s), status:0x%02X(%s), length:0x%04X, spid:0x%04X, packetId:0x%02X, window:0x%02X",this.buffer.readUInt8(_e.Type),Eh[this.buffer.readUInt8(_e.Type)],this.buffer.readUInt8(_e.Status),this.statusAsString(),this.buffer.readUInt16BE(_e.Length),this.buffer.readUInt16BE(_e.SPID),this.buffer.readUInt8(_e.PacketID),this.buffer.readUInt8(_e.Window));return t+r}dataToString(t=""){let l=this.data(),h="",E="";for(let v=0;v<l.length;v++)v%32===0&&(h+=t,h+=(0,Ja.sprintf)("%04X  ",v)),l[v]<32||l[v]>126?(E+=".",(v+1)%8===0&&(v+1)%32!==0&&(E+=" ")):E+=String.fromCharCode(l[v]),l[v]!=null&&(h+=(0,Ja.sprintf)("%02X",l[v])),(v+1)%4===0&&(v+1)%32!==0&&(h+=" "),(v+1)%32===0&&(h+="  "+E,E="",v<l.length-1&&(h+=dS));return E.length&&(h+="  "+E),h}toString(t=""){return this.headerToString(t)+`
`+this.dataToString(t+t)}payloadString(){return""}};Je.Packet=eu;function pS(n){return n.length<Ei?!1:n.length>=n.readUInt16BE(_e.Length)}function _S(n){return n.readUInt16BE(_e.Length)}});var Th=S((yi,yh)=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.default=void 0;var mS=vn(),gn=ES(Ye());function ES(n){return n&&n.__esModule?n:{default:n}}var yn=20,ke={VERSION:0,ENCRYPTION:1,INSTOPT:2,THREADID:3,MARS:4,FEDAUTHREQUIRED:6,TERMINATOR:255},vi={OFF:0,ON:1,NOT_SUP:2,REQ:3},vh={};for(let n in vi){let t=vi[n];vh[t]=n}var tu={OFF:0,ON:1},gh={};for(let n in tu){let t=tu[n];gh[t]=n}var gi=class{constructor(t={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}){this.data=void 0,this.options=void 0,this.version=void 0,this.encryption=void 0,this.encryptionString=void 0,this.instance=void 0,this.threadId=void 0,this.mars=void 0,this.marsString=void 0,this.fedAuthRequired=void 0,t instanceof Buffer?(this.data=t,this.options={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}):(this.options=t,this.createOptions()),this.extractOptions()}createOptions(){let t=[this.createVersionOption(),this.createEncryptionOption(),this.createInstanceOption(),this.createThreadIdOption(),this.createMarsOption(),this.createFedAuthOption()],r=0;for(let l=0,h=t.length;l<h;l++){let E=t[l];r+=5+E.data.length}r++,this.data=Buffer.alloc(r,0);let a=0,f=5*t.length+1;for(let l=0,h=t.length;l<h;l++){let E=t[l];this.data.writeUInt8(E.token,a+0),this.data.writeUInt16BE(f,a+1),this.data.writeUInt16BE(E.data.length,a+3),a+=5,E.data.copy(this.data,f),f+=E.data.length}this.data.writeUInt8(ke.TERMINATOR,a)}createVersionOption(){let t=new gn.default(yn);return t.writeUInt8(this.options.version.major),t.writeUInt8(this.options.version.minor),t.writeUInt16BE(this.options.version.build),t.writeUInt16BE(this.options.version.subbuild),{token:ke.VERSION,data:t.data}}createEncryptionOption(){let t=new gn.default(yn);return this.options.encrypt?t.writeUInt8(vi.ON):t.writeUInt8(vi.NOT_SUP),{token:ke.ENCRYPTION,data:t.data}}createInstanceOption(){let t=new gn.default(yn);return t.writeUInt8(0),{token:ke.INSTOPT,data:t.data}}createThreadIdOption(){let t=new gn.default(yn);return t.writeUInt32BE(0),{token:ke.THREADID,data:t.data}}createMarsOption(){let t=new gn.default(yn);return t.writeUInt8(tu.OFF),{token:ke.MARS,data:t.data}}createFedAuthOption(){let t=new gn.default(yn);return t.writeUInt8(1),{token:ke.FEDAUTHREQUIRED,data:t.data}}extractOptions(){let t=0;for(;this.data[t]!==ke.TERMINATOR;){let r=this.data.readUInt16BE(t+1),a=this.data.readUInt16BE(t+3);switch(this.data[t]){case ke.VERSION:this.extractVersion(r);break;case ke.ENCRYPTION:this.extractEncryption(r);break;case ke.INSTOPT:this.extractInstance(r);break;case ke.THREADID:a>0&&this.extractThreadId(r);break;case ke.MARS:this.extractMars(r);break;case ke.FEDAUTHREQUIRED:this.extractFedAuth(r);break}t+=5,r+=a}}extractVersion(t){this.version={major:this.data.readUInt8(t+0),minor:this.data.readUInt8(t+1),build:this.data.readUInt16BE(t+2),subbuild:this.data.readUInt16BE(t+4)}}extractEncryption(t){this.encryption=this.data.readUInt8(t),this.encryptionString=vh[this.encryption]}extractInstance(t){this.instance=this.data.readUInt8(t)}extractThreadId(t){this.threadId=this.data.readUInt32BE(t)}extractMars(t){this.mars=this.data.readUInt8(t),this.marsString=gh[this.mars]}extractFedAuth(t){this.fedAuthRequired=this.data.readUInt8(t)}toString(t=""){return t+"PreLogin - "+(0,mS.sprintf)("version:%d.%d.%d.%d, encryption:0x%02X(%s), instopt:0x%02X, threadId:0x%08X, mars:0x%02X(%s)",this.version.major,this.version.minor,this.version.build,this.version.subbuild,this.encryption?this.encryption:0,this.encryptionString?this.encryptionString:"",this.instance?this.instance:0,this.threadId?this.threadId:0,this.mars?this.mars:0,this.marsString?this.marsString:"")}},vS=gi;yi.default=vS;yh.exports=gi});var ir=S(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.versionsByValue=Tn.versions=void 0;var nu={"7_1":1895825409,"7_2":1913192450,"7_3_A":1930035203,"7_3_B":1930100739,"7_4":1946157060};Tn.versions=nu;var wh={};Tn.versionsByValue=wh;for(let n in nu)wh[nu[n]]=n});var Oh=S((Oi,Sh)=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.default=void 0;var Ti=vn(),gS=ir(),Lt={ENDIAN_LITTLE:0,ENDIAN_BIG:1,CHARSET_ASCII:0,CHARSET_EBCDIC:2,FLOAT_IEEE_754:0,FLOAT_VAX:4,FLOAT_ND5000:8,BCP_DUMPLOAD_ON:0,BCP_DUMPLOAD_OFF:16,USE_DB_ON:0,USE_DB_OFF:32,INIT_DB_WARN:0,INIT_DB_FATAL:64,SET_LANG_WARN_OFF:0,SET_LANG_WARN_ON:128},or={INIT_LANG_WARN:0,INIT_LANG_FATAL:1,ODBC_OFF:0,ODBC_ON:2,F_TRAN_BOUNDARY:4,F_CACHE_CONNECT:8,USER_NORMAL:0,USER_SERVER:16,USER_REMUSER:32,USER_SQLREPL:64,INTEGRATED_SECURITY_OFF:0,INTEGRATED_SECURITY_ON:128},wi={SQL_DFLT:0,SQL_TSQL:8,OLEDB_OFF:0,OLEDB_ON:16,READ_WRITE_INTENT:0,READ_ONLY_INTENT:32},ru={CHANGE_PASSWORD_NO:0,CHANGE_PASSWORD_YES:1,BINARY_XML:2,SPAWN_USER_INSTANCE:4,UNKNOWN_COLLATION_HANDLING:8,EXTENSION_USED:16},Nt={FEATURE_ID:2,LIBRARY_SECURITYTOKEN:1,LIBRARY_ADAL:2,FEDAUTH_YES_ECHO:1,FEDAUTH_NO_ECHO:0,ADAL_WORKFLOW_USER_PASS:1,ADAL_WORKFLOW_INTEGRATED:2},yS=255,Si=class{constructor({tdsVersion:t,packetSize:r,clientProgVer:a,clientPid:f,connectionId:l,clientTimeZone:h,clientLcid:E}){this.tdsVersion=void 0,this.packetSize=void 0,this.clientProgVer=void 0,this.clientPid=void 0,this.connectionId=void 0,this.clientTimeZone=void 0,this.clientLcid=void 0,this.readOnlyIntent=void 0,this.initDbFatal=void 0,this.userName=void 0,this.password=void 0,this.serverName=void 0,this.appName=void 0,this.hostname=void 0,this.libraryName=void 0,this.language=void 0,this.database=void 0,this.clientId=void 0,this.sspi=void 0,this.attachDbFile=void 0,this.changePassword=void 0,this.fedAuth=void 0,this.tdsVersion=t,this.packetSize=r,this.clientProgVer=a,this.clientPid=f,this.connectionId=l,this.clientTimeZone=h,this.clientLcid=E,this.readOnlyIntent=!1,this.initDbFatal=!1,this.fedAuth=void 0,this.userName=void 0,this.password=void 0,this.serverName=void 0,this.appName=void 0,this.hostname=void 0,this.libraryName=void 0,this.language=void 0,this.database=void 0,this.clientId=void 0,this.sspi=void 0,this.attachDbFile=void 0,this.changePassword=void 0}toBuffer(){let t=Buffer.alloc(94),r=[t],a=0,f=t.length;if(a=t.writeUInt32LE(0,a),a=t.writeUInt32LE(this.tdsVersion,a),a=t.writeUInt32LE(this.packetSize,a),a=t.writeUInt32LE(this.clientProgVer,a),a=t.writeUInt32LE(this.clientPid,a),a=t.writeUInt32LE(this.connectionId,a),a=t.writeUInt8(this.buildOptionFlags1(),a),a=t.writeUInt8(this.buildOptionFlags2(),a),a=t.writeUInt8(this.buildTypeFlags(),a),a=t.writeUInt8(this.buildOptionFlags3(),a),a=t.writeInt32LE(this.clientTimeZone,a),a=t.writeUInt32LE(this.clientLcid,a),a=t.writeUInt16LE(f,a),this.hostname){let v=Buffer.from(this.hostname,"ucs2");a=t.writeUInt16LE(v.length/2,a),f+=v.length,r.push(v)}else a=t.writeUInt16LE(f,a);if(a=t.writeUInt16LE(f,a),this.userName){let v=Buffer.from(this.userName,"ucs2");a=t.writeUInt16LE(v.length/2,a),f+=v.length,r.push(v)}else a=t.writeUInt16LE(0,a);if(a=t.writeUInt16LE(f,a),this.password){let v=Buffer.from(this.password,"ucs2");a=t.writeUInt16LE(v.length/2,a),f+=v.length,r.push(this.scramblePassword(v))}else a=t.writeUInt16LE(0,a);if(a=t.writeUInt16LE(f,a),this.appName){let v=Buffer.from(this.appName,"ucs2");a=t.writeUInt16LE(v.length/2,a),f+=v.length,r.push(v)}else a=t.writeUInt16LE(0,a);if(a=t.writeUInt16LE(f,a),this.serverName){let v=Buffer.from(this.serverName,"ucs2");a=t.writeUInt16LE(v.length/2,a),f+=v.length,r.push(v)}else a=t.writeUInt16LE(0,a);a=t.writeUInt16LE(f,a);let l=this.buildFeatureExt();a=t.writeUInt16LE(4,a);let h=Buffer.alloc(4);if(h.writeUInt32LE(f+=4,0),f+=l.length,r.push(h,l),a=t.writeUInt16LE(f,a),this.libraryName){let v=Buffer.from(this.libraryName,"ucs2");a=t.writeUInt16LE(v.length/2,a),f+=v.length,r.push(v)}else a=t.writeUInt16LE(0,a);if(a=t.writeUInt16LE(f,a),this.language){let v=Buffer.from(this.language,"ucs2");a=t.writeUInt16LE(v.length/2,a),f+=v.length,r.push(v)}else a=t.writeUInt16LE(0,a);if(a=t.writeUInt16LE(f,a),this.database){let v=Buffer.from(this.database,"ucs2");a=t.writeUInt16LE(v.length/2,a),f+=v.length,r.push(v)}else a=t.writeUInt16LE(0,a);if(this.clientId&&this.clientId.copy(t,a,0,6),a+=6,a=t.writeUInt16LE(f,a),this.sspi?(this.sspi.length>65535?a=t.writeUInt16LE(65535,a):a=t.writeUInt16LE(this.sspi.length,a),r.push(this.sspi)):a=t.writeUInt16LE(0,a),a=t.writeUInt16LE(f,a),this.attachDbFile){let v=Buffer.from(this.attachDbFile,"ucs2");a=t.writeUInt16LE(v.length/2,a),f+=v.length,r.push(v)}else a=t.writeUInt16LE(0,a);if(a=t.writeUInt16LE(f,a),this.changePassword){let v=Buffer.from(this.changePassword,"ucs2");a=t.writeUInt16LE(v.length/2,a),f+=v.length,r.push(v)}else a=t.writeUInt16LE(0,a);this.sspi&&this.sspi.length>65535?t.writeUInt32LE(this.sspi.length,a):t.writeUInt32LE(0,a);let E=Buffer.concat(r);return E.writeUInt32LE(E.length,0),E}buildOptionFlags1(){let t=Lt.ENDIAN_LITTLE|Lt.CHARSET_ASCII|Lt.FLOAT_IEEE_754|Lt.BCP_DUMPLOAD_OFF|Lt.USE_DB_OFF|Lt.SET_LANG_WARN_ON;return this.initDbFatal?t|=Lt.INIT_DB_FATAL:t|=Lt.INIT_DB_WARN,t}buildFeatureExt(){let t=[],r=this.fedAuth;if(r)switch(r.type){case"ADAL":let a=Buffer.alloc(7);a.writeUInt8(Nt.FEATURE_ID,0),a.writeUInt32LE(2,1),a.writeUInt8(Nt.LIBRARY_ADAL<<1|(r.echo?Nt.FEDAUTH_YES_ECHO:Nt.FEDAUTH_NO_ECHO),5),a.writeUInt8(r.workflow==="integrated"?2:Nt.ADAL_WORKFLOW_USER_PASS,6),t.push(a);break;case"SECURITYTOKEN":let f=Buffer.from(r.fedAuthToken,"ucs2"),l=Buffer.alloc(10),h=0;h=l.writeUInt8(Nt.FEATURE_ID,h),h=l.writeUInt32LE(f.length+4+1,h),h=l.writeUInt8(Nt.LIBRARY_SECURITYTOKEN<<1|(r.echo?Nt.FEDAUTH_YES_ECHO:Nt.FEDAUTH_NO_ECHO),h),l.writeInt32LE(f.length,h),t.push(l),t.push(f);break}if(this.tdsVersion>=gS.versions["7_4"]){let l=Buffer.alloc(6);l.writeUInt8(10,0),l.writeUInt32LE(1,1),l.writeUInt8(1,5),t.push(l)}return t.push(Buffer.from([yS])),Buffer.concat(t)}buildOptionFlags2(){let t=or.INIT_LANG_WARN|or.ODBC_OFF|or.USER_NORMAL;return this.sspi?t|=or.INTEGRATED_SECURITY_ON:t|=or.INTEGRATED_SECURITY_OFF,t}buildTypeFlags(){let t=wi.SQL_DFLT|wi.OLEDB_OFF;return this.readOnlyIntent?t|=wi.READ_ONLY_INTENT:t|=wi.READ_WRITE_INTENT,t}buildOptionFlags3(){return ru.CHANGE_PASSWORD_NO|ru.UNKNOWN_COLLATION_HANDLING|ru.EXTENSION_USED}scramblePassword(t){for(let r=0,a=t.length;r<a;r++){let f=t[r],l=f&15,h=f>>4;f=l<<4|h,f=f^165,t[r]=f}return t}toString(t=""){return t+"Login7 - "+(0,Ti.sprintf)("TDS:0x%08X, PacketSize:0x%08X, ClientProgVer:0x%08X, ClientPID:0x%08X, ConnectionID:0x%08X",this.tdsVersion,this.packetSize,this.clientProgVer,this.clientPid,this.connectionId)+`
`+t+"         "+(0,Ti.sprintf)("Flags1:0x%02X, Flags2:0x%02X, TypeFlags:0x%02X, Flags3:0x%02X, ClientTimezone:%d, ClientLCID:0x%08X",this.buildOptionFlags1(),this.buildOptionFlags2(),this.buildTypeFlags(),this.buildOptionFlags3(),this.clientTimeZone,this.clientLcid)+`
`+t+"         "+(0,Ti.sprintf)("Hostname:'%s', Username:'%s', Password:'%s', AppName:'%s', ServerName:'%s', LibraryName:'%s'",this.hostname,this.userName,this.password,this.appName,this.serverName,this.libraryName)+`
`+t+"         "+(0,Ti.sprintf)("Language:'%s', Database:'%s', SSPI:'%s', AttachDbFile:'%s', ChangePassword:'%s'",this.language,this.database,this.sspi,this.attachDbFile,this.changePassword)}},TS=Si;Oi.default=TS;Sh.exports=Si});var Nh=S((LF,Ni)=>{(function(){"use strict";var n=typeof window=="object"?window:{},t=!n.JS_MD4_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;t&&(n=global);var r=!n.JS_MD4_NO_COMMON_JS&&typeof Ni=="object"&&Ni.exports,a=typeof define=="function"&&define.amd,f=!n.JS_MD4_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),h=[128,32768,8388608,-2147483648],E=[0,8,16,24],v=["hex","array","digest","buffer","arrayBuffer"],O=[],A;if(f){var b=new ArrayBuffer(68);A=new Uint8Array(b),O=new Uint32Array(b)}var C=function(w){return function(M){return new y(!0).update(M)[w]()}},Y=function(){var w=C("hex");t&&(w=F(w)),w.create=function(){return new y},w.update=function(L){return w.create().update(L)};for(var M=0;M<v.length;++M){var I=v[M];w[I]=C(I)}return w},F=function(w){var M=require("crypto"),I=require("buffer").Buffer,L=function(_){if(typeof _=="string")return M.createHash("md4").update(_,"utf8").digest("hex");if(f&&_ instanceof ArrayBuffer)_=new Uint8Array(_);else if(_.length===void 0)return w(_);return M.createHash("md4").update(new I(_)).digest("hex")};return L};function y(w){if(w)O[0]=O[16]=O[1]=O[2]=O[3]=O[4]=O[5]=O[6]=O[7]=O[8]=O[9]=O[10]=O[11]=O[12]=O[13]=O[14]=O[15]=0,this.blocks=O,this.buffer8=A;else if(f){var M=new ArrayBuffer(68);this.buffer8=new Uint8Array(M),this.blocks=new Uint32Array(M)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}y.prototype.update=function(w){if(!this.finalized){var M=typeof w!="string";M&&f&&w instanceof ArrayBuffer&&(w=new Uint8Array(w));for(var I,L=0,_,Q=w.length||0,$=this.blocks,Z=this.buffer8;L<Q;){if(this.hashed&&(this.hashed=!1,$[0]=$[16],$[16]=$[1]=$[2]=$[3]=$[4]=$[5]=$[6]=$[7]=$[8]=$[9]=$[10]=$[11]=$[12]=$[13]=$[14]=$[15]=0),M)if(f)for(_=this.start;L<Q&&_<64;++L)Z[_++]=w[L];else for(_=this.start;L<Q&&_<64;++L)$[_>>2]|=w[L]<<E[_++&3];else if(f)for(_=this.start;L<Q&&_<64;++L)I=w.charCodeAt(L),I<128?Z[_++]=I:I<2048?(Z[_++]=192|I>>6,Z[_++]=128|I&63):I<55296||I>=57344?(Z[_++]=224|I>>12,Z[_++]=128|I>>6&63,Z[_++]=128|I&63):(I=65536+((I&1023)<<10|w.charCodeAt(++L)&1023),Z[_++]=240|I>>18,Z[_++]=128|I>>12&63,Z[_++]=128|I>>6&63,Z[_++]=128|I&63);else for(_=this.start;L<Q&&_<64;++L)I=w.charCodeAt(L),I<128?$[_>>2]|=I<<E[_++&3]:I<2048?($[_>>2]|=(192|I>>6)<<E[_++&3],$[_>>2]|=(128|I&63)<<E[_++&3]):I<55296||I>=57344?($[_>>2]|=(224|I>>12)<<E[_++&3],$[_>>2]|=(128|I>>6&63)<<E[_++&3],$[_>>2]|=(128|I&63)<<E[_++&3]):(I=65536+((I&1023)<<10|w.charCodeAt(++L)&1023),$[_>>2]|=(240|I>>18)<<E[_++&3],$[_>>2]|=(128|I>>12&63)<<E[_++&3],$[_>>2]|=(128|I>>6&63)<<E[_++&3],$[_>>2]|=(128|I&63)<<E[_++&3]);this.lastByteIndex=_,this.bytes+=_-this.start,_>=64?(this.start=_-64,this.hash(),this.hashed=!0):this.start=_}return this}},y.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var w=this.blocks,M=this.lastByteIndex;w[M>>2]|=h[M&3],M>=56&&(this.hashed||this.hash(),w[0]=w[16],w[16]=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=w[10]=w[11]=w[12]=w[13]=w[14]=w[15]=0),w[14]=this.bytes<<3,this.hash()}},y.prototype.hash=function(){var w,M,I,L,_,Q,$,Z,B=this.blocks;this.first?(w=B[0]-1,w=w<<3|w>>>29,L=(w&4023233417|~w&2562383102)+B[1]+271733878,L=L<<7|L>>>25,I=(L&w|~L&4023233417)+B[2]-1732584194,I=I<<11|I>>>21,M=(I&L|~I&w)+B[3]-271733879,M=M<<19|M>>>13):(w=this.h0,M=this.h1,I=this.h2,L=this.h3,w+=(M&I|~M&L)+B[0],w=w<<3|w>>>29,L+=(w&M|~w&I)+B[1],L=L<<7|L>>>25,I+=(L&w|~L&M)+B[2],I=I<<11|I>>>21,M+=(I&L|~I&w)+B[3],M=M<<19|M>>>13),w+=(M&I|~M&L)+B[4],w=w<<3|w>>>29,L+=(w&M|~w&I)+B[5],L=L<<7|L>>>25,I+=(L&w|~L&M)+B[6],I=I<<11|I>>>21,M+=(I&L|~I&w)+B[7],M=M<<19|M>>>13,w+=(M&I|~M&L)+B[8],w=w<<3|w>>>29,L+=(w&M|~w&I)+B[9],L=L<<7|L>>>25,I+=(L&w|~L&M)+B[10],I=I<<11|I>>>21,M+=(I&L|~I&w)+B[11],M=M<<19|M>>>13,w+=(M&I|~M&L)+B[12],w=w<<3|w>>>29,L+=(w&M|~w&I)+B[13],L=L<<7|L>>>25,I+=(L&w|~L&M)+B[14],I=I<<11|I>>>21,M+=(I&L|~I&w)+B[15],M=M<<19|M>>>13,Q=M&I,w+=(Q|M&L|I&L)+B[0]+1518500249,w=w<<3|w>>>29,_=w&M,L+=(_|w&I|Q)+B[4]+1518500249,L=L<<5|L>>>27,Z=L&w,I+=(Z|L&M|_)+B[8]+1518500249,I=I<<9|I>>>23,$=I&L,M+=($|I&w|Z)+B[12]+1518500249,M=M<<13|M>>>19,Q=M&I,w+=(Q|M&L|$)+B[1]+1518500249,w=w<<3|w>>>29,_=w&M,L+=(_|w&I|Q)+B[5]+1518500249,L=L<<5|L>>>27,Z=L&w,I+=(Z|L&M|_)+B[9]+1518500249,I=I<<9|I>>>23,$=I&L,M+=($|I&w|Z)+B[13]+1518500249,M=M<<13|M>>>19,Q=M&I,w+=(Q|M&L|$)+B[2]+1518500249,w=w<<3|w>>>29,_=w&M,L+=(_|w&I|Q)+B[6]+1518500249,L=L<<5|L>>>27,Z=L&w,I+=(Z|L&M|_)+B[10]+1518500249,I=I<<9|I>>>23,$=I&L,M+=($|I&w|Z)+B[14]+1518500249,M=M<<13|M>>>19,Q=M&I,w+=(Q|M&L|$)+B[3]+1518500249,w=w<<3|w>>>29,_=w&M,L+=(_|w&I|Q)+B[7]+1518500249,L=L<<5|L>>>27,Z=L&w,I+=(Z|L&M|_)+B[11]+1518500249,I=I<<9|I>>>23,M+=(I&L|I&w|Z)+B[15]+1518500249,M=M<<13|M>>>19,Q=M^I,w+=(Q^L)+B[0]+1859775393,w=w<<3|w>>>29,L+=(Q^w)+B[8]+1859775393,L=L<<9|L>>>23,Z=L^w,I+=(Z^M)+B[4]+1859775393,I=I<<11|I>>>21,M+=(Z^I)+B[12]+1859775393,M=M<<15|M>>>17,Q=M^I,w+=(Q^L)+B[2]+1859775393,w=w<<3|w>>>29,L+=(Q^w)+B[10]+1859775393,L=L<<9|L>>>23,Z=L^w,I+=(Z^M)+B[6]+1859775393,I=I<<11|I>>>21,M+=(Z^I)+B[14]+1859775393,M=M<<15|M>>>17,Q=M^I,w+=(Q^L)+B[1]+1859775393,w=w<<3|w>>>29,L+=(Q^w)+B[9]+1859775393,L=L<<9|L>>>23,Z=L^w,I+=(Z^M)+B[5]+1859775393,I=I<<11|I>>>21,M+=(Z^I)+B[13]+1859775393,M=M<<15|M>>>17,Q=M^I,w+=(Q^L)+B[3]+1859775393,w=w<<3|w>>>29,L+=(Q^w)+B[11]+1859775393,L=L<<9|L>>>23,Z=L^w,I+=(Z^M)+B[7]+1859775393,I=I<<11|I>>>21,M+=(Z^I)+B[15]+1859775393,M=M<<15|M>>>17,this.first?(this.h0=w+1732584193<<0,this.h1=M-271733879<<0,this.h2=I-1732584194<<0,this.h3=L+271733878<<0,this.first=!1):(this.h0=this.h0+w<<0,this.h1=this.h1+M<<0,this.h2=this.h2+I<<0,this.h3=this.h3+L<<0)},y.prototype.hex=function(){this.finalize();var w=this.h0,M=this.h1,I=this.h2,L=this.h3;return l[w>>4&15]+l[w&15]+l[w>>12&15]+l[w>>8&15]+l[w>>20&15]+l[w>>16&15]+l[w>>28&15]+l[w>>24&15]+l[M>>4&15]+l[M&15]+l[M>>12&15]+l[M>>8&15]+l[M>>20&15]+l[M>>16&15]+l[M>>28&15]+l[M>>24&15]+l[I>>4&15]+l[I&15]+l[I>>12&15]+l[I>>8&15]+l[I>>20&15]+l[I>>16&15]+l[I>>28&15]+l[I>>24&15]+l[L>>4&15]+l[L&15]+l[L>>12&15]+l[L>>8&15]+l[L>>20&15]+l[L>>16&15]+l[L>>28&15]+l[L>>24&15]},y.prototype.toString=y.prototype.hex,y.prototype.digest=function(){this.finalize();var w=this.h0,M=this.h1,I=this.h2,L=this.h3;return[w&255,w>>8&255,w>>16&255,w>>24&255,M&255,M>>8&255,M>>16&255,M>>24&255,I&255,I>>8&255,I>>16&255,I>>24&255,L&255,L>>8&255,L>>16&255,L>>24&255]},y.prototype.array=y.prototype.digest,y.prototype.arrayBuffer=function(){this.finalize();var w=new ArrayBuffer(16),M=new Uint32Array(w);return M[0]=this.h0,M[1]=this.h1,M[2]=this.h2,M[3]=this.h3,w},y.prototype.buffer=y.prototype.arrayBuffer;var U=Y();r?Ni.exports=U:(n.md4=U,a&&define(function(){return U}))})()});var bh=S((Ai,Dh)=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.default=void 0;var wS=Ah(Ye()),SS=NS(require("crypto")),OS=Ah(Nh());function Ih(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Ih=function(a){return a?r:t})(n)}function NS(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=Ih(t);if(r&&r.has(n))return r.get(n);var a={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if(l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)){var h=f?Object.getOwnPropertyDescriptor(n,l):null;h&&(h.get||h.set)?Object.defineProperty(a,l,h):a[l]=n[l]}return a.default=n,r&&r.set(n,a),a}function Ah(n){return n&&n.__esModule?n:{default:n}}var Ii=class{constructor(t){this.data=void 0,this.data=this.createResponse(t)}toString(t=""){return t+"NTLM Auth"}createResponse(t){let r=this.createClientNonce(),a=24,f=16,l=t.domain,h=t.userName,E=t.password,v=t.ntlmpacket,O=v.target,A=v.nonce,b=64+l.length*2+h.length*2+a+f+8+8+8+4+O.length+4,C=new wS.default(b);C.position=0,C.writeString("NTLMSSP\0","utf8"),C.writeUInt32LE(3);let Y=64,F=Y,y=F+l.length*2,U=y+h.length*2,w=U+a;C.writeUInt16LE(a),C.writeUInt16LE(a),C.writeUInt32LE(U),C.writeUInt16LE(f),C.writeUInt16LE(f),C.writeUInt32LE(w),C.writeUInt16LE(l.length*2),C.writeUInt16LE(l.length*2),C.writeUInt32LE(F),C.writeUInt16LE(h.length*2),C.writeUInt16LE(h.length*2),C.writeUInt32LE(y),C.writeUInt16LE(0),C.writeUInt16LE(0),C.writeUInt32LE(Y),C.writeUInt16LE(0),C.writeUInt16LE(0),C.writeUInt32LE(Y),C.writeUInt16LE(33281),C.writeUInt16LE(8),C.writeString(l,"ucs2"),C.writeString(h,"ucs2");let M=this.lmv2Response(l,h,E,A,r);C.copyFrom(M);let I=new Date().getTime(),L=this.ntlmv2Response(l,h,E,A,O,r,I);C.copyFrom(L),C.writeUInt32LE(257),C.writeUInt32LE(0);let _=this.createTimestamp(I);return C.copyFrom(_),C.copyFrom(r),C.writeUInt32LE(0),C.copyFrom(O),C.writeUInt32LE(0),C.data}createClientNonce(){let t=Buffer.alloc(8,0),r=0;for(;r<8;)t.writeUInt8(Math.ceil(Math.random()*255),r),r++;return t}ntlmv2Response(t,r,a,f,l,h,E){let v=this.createTimestamp(E),O=this.ntv2Hash(t,r,a),A=40+l.length,b=Buffer.alloc(A,0);return f.copy(b,0,0,8),b.writeUInt32LE(257,8),b.writeUInt32LE(0,12),v.copy(b,16,0,8),h.copy(b,24,0,8),b.writeUInt32LE(0,32),l.copy(b,36,0,l.length),b.writeUInt32LE(0,36+l.length),this.hmacMD5(b,O)}createTimestamp(t){let r=(BigInt(t)+BigInt(11644473600))*BigInt(1e7),a=Number(r&BigInt(4294967295)),f=Number(r>>BigInt(32)&BigInt(4294967295)),l=Buffer.alloc(8);return l.writeUInt32LE(a,0),l.writeUInt32LE(f,4),l}lmv2Response(t,r,a,f,l){let h=this.ntv2Hash(t,r,a),E=Buffer.alloc(f.length+l.length,0);f.copy(E),l.copy(E,f.length,0,l.length);let v=this.hmacMD5(E,h),O=Buffer.alloc(v.length+l.length,0);return v.copy(O),l.copy(O,v.length,0,l.length),O}ntv2Hash(t,r,a){let f=this.ntHash(a),l=Buffer.from(r.toUpperCase()+t.toUpperCase(),"ucs2");return this.hmacMD5(l,f)}ntHash(t){let r=Buffer.from(t,"ucs2");return Buffer.from(OS.default.arrayBuffer(r))}hmacMD5(t,r){return SS.createHmac("MD5",r).update(t).digest()}},IS=Ii;Ai.default=IS;Dh.exports=Ii});var Sn=S(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.RequestError=wn.ConnectionError=void 0;var iu=class extends Error{constructor(t,r){super(t),this.code=void 0,this.isTransient=void 0,this.code=r}};wn.ConnectionError=iu;var ou=class extends Error{constructor(t,r){super(t),this.code=void 0,this.number=void 0,this.state=void 0,this.class=void 0,this.serverName=void 0,this.procName=void 0,this.lineNumber=void 0,this.code=r}};wn.RequestError=ou});var Rh=S(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.SQLServerStatementColumnEncryptionSetting=Ve.SQLServerEncryptionType=Ve.DescribeParameterEncryptionResultSet2=Ve.DescribeParameterEncryptionResultSet1=void 0;var su;Ve.SQLServerEncryptionType=su;(function(n){n[n.Deterministic=1]="Deterministic",n[n.Randomized=2]="Randomized",n[n.PlainText=0]="PlainText"})(su||(Ve.SQLServerEncryptionType=su={}));var au;Ve.DescribeParameterEncryptionResultSet1=au;(function(n){n[n.KeyOrdinal=0]="KeyOrdinal",n[n.DbId=1]="DbId",n[n.KeyId=2]="KeyId",n[n.KeyVersion=3]="KeyVersion",n[n.KeyMdVersion=4]="KeyMdVersion",n[n.EncryptedKey=5]="EncryptedKey",n[n.ProviderName=6]="ProviderName",n[n.KeyPath=7]="KeyPath",n[n.KeyEncryptionAlgorithm=8]="KeyEncryptionAlgorithm"})(au||(Ve.DescribeParameterEncryptionResultSet1=au={}));var uu;Ve.DescribeParameterEncryptionResultSet2=uu;(function(n){n[n.ParameterOrdinal=0]="ParameterOrdinal",n[n.ParameterName=1]="ParameterName",n[n.ColumnEncryptionAlgorithm=2]="ColumnEncryptionAlgorithm",n[n.ColumnEncrytionType=3]="ColumnEncrytionType",n[n.ColumnEncryptionKeyOrdinal=4]="ColumnEncryptionKeyOrdinal",n[n.NormalizationRuleVersion=5]="NormalizationRuleVersion"})(uu||(Ve.DescribeParameterEncryptionResultSet2=uu={}));var fu;Ve.SQLServerStatementColumnEncryptionSetting=fu;(function(n){n[n.UseConnectionSetting=0]="UseConnectionSetting",n[n.Enabled=1]="Enabled",n[n.ResultSetOnly=2]="ResultSetOnly",n[n.Disabled=3]="Disabled"})(fu||(Ve.SQLServerStatementColumnEncryptionSetting=fu={}))});var Ri=S((bi,Lh)=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.default=void 0;var AS=require("events"),DS=Sn(),bS=Rh(),Di=class extends AS.EventEmitter{on(t,r){return super.on(t,r)}emit(t,...r){return super.emit(t,...r)}constructor(t,r,a){super(),this.sqlTextOrProcedure=void 0,this.parameters=void 0,this.parametersByName=void 0,this.preparing=void 0,this.canceled=void 0,this.paused=void 0,this.userCallback=void 0,this.handle=void 0,this.error=void 0,this.connection=void 0,this.timeout=void 0,this.rows=void 0,this.rst=void 0,this.rowCount=void 0,this.callback=void 0,this.shouldHonorAE=void 0,this.statementColumnEncryptionSetting=void 0,this.cryptoMetadataLoaded=void 0,this.sqlTextOrProcedure=t,this.parameters=[],this.parametersByName={},this.preparing=!1,this.handle=void 0,this.canceled=!1,this.paused=!1,this.error=void 0,this.connection=void 0,this.timeout=void 0,this.userCallback=r,this.statementColumnEncryptionSetting=a&&a.statementColumnEncryptionSetting||bS.SQLServerStatementColumnEncryptionSetting.UseConnectionSetting,this.cryptoMetadataLoaded=!1,this.callback=function(f,l,h){this.preparing?(this.preparing=!1,f?this.emit("error",f):this.emit("prepared")):(this.userCallback(f,l,h),this.emit("requestCompleted"))}}addParameter(t,r,a,f){let{output:l=!1,length:h,precision:E,scale:v}=f??{},O={type:r,name:t,value:a,output:l,length:h,precision:E,scale:v};this.parameters.push(O),this.parametersByName[t]=O}addOutputParameter(t,r,a,f){this.addParameter(t,r,a,{...f,output:!0})}makeParamsParameter(t){let r="";for(let a=0,f=t.length;a<f;a++){let l=t[a];r.length>0&&(r+=", "),r+="@"+l.name+" ",r+=l.type.declaration(l),l.output&&(r+=" OUTPUT")}return r}validateParameters(t){for(let r=0,a=this.parameters.length;r<a;r++){let f=this.parameters[r];try{f.value=f.type.validate(f.value,t)}catch(l){throw new DS.RequestError("Validation failed for parameter '"+f.name+"'. "+l.message,"EPARAM")}}}pause(){this.paused||(this.emit("pause"),this.paused=!0)}resume(){!this.paused||(this.paused=!1,this.emit("resume"))}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}setTimeout(t){this.timeout=t}},RS=Di;bi.default=RS;Lh.exports=Di});var Li=S(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.writeToTrackingBuffer=PS;var LS={QUERY_NOTIFICATIONS:1,TXN_DESCRIPTOR:2,TRACE_ACTIVITY:3},CS=4+8,MS=4+2+CS;function PS(n,t,r){n.writeUInt32LE(0),n.writeUInt32LE(MS),n.writeUInt16LE(LS.TXN_DESCRIPTOR),n.writeBuffer(t),n.writeUInt32LE(r);let a=n.data;return a.writeUInt32LE(a.length,0),n}});var Fh=S((Mi,Ph)=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.default=void 0;var Ch=xS(Ye()),FS=Li(),Mh;function xS(n){return n&&n.__esModule?n:{default:n}}var US={BY_REF_VALUE:1,DEFAULT_VALUE:2};Mh=Symbol.iterator;var Ci=class{constructor(t,r,a,f,l){this.procedure=void 0,this.parameters=void 0,this.options=void 0,this.txnDescriptor=void 0,this.collation=void 0,this.procedure=t,this.parameters=r,this.options=f,this.txnDescriptor=a,this.collation=l}[Mh](){return this.generateData()}*generateData(){let t=new Ch.default(500);this.options.tdsVersion>="7_2"&&(0,FS.writeToTrackingBuffer)(t,this.txnDescriptor,1),typeof this.procedure=="string"?t.writeUsVarchar(this.procedure):(t.writeUShort(65535),t.writeUShort(this.procedure));let r=0;t.writeUInt16LE(r),yield t.data;let a=this.parameters.length;for(let f=0;f<a;f++)yield*this.generateParameterData(this.parameters[f])}toString(t=""){return t+("RPC Request - "+this.procedure)}*generateParameterData(t){let r=new Ch.default(3+Buffer.byteLength(t.name,"ucs-2")+1);r.writeBVarchar("@"+t.name);let a=0;t.output&&(a|=US.BY_REF_VALUE),r.writeUInt8(a),yield r.data;let f={value:t.value},l=t.type;(l.id&48)===32&&(t.length?f.length=t.length:l.resolveLength&&(f.length=l.resolveLength(t))),t.precision?f.precision=t.precision:l.resolvePrecision&&(f.precision=l.resolvePrecision(t)),t.scale?f.scale=t.scale:l.resolveScale&&(f.scale=l.resolveScale(t)),this.collation&&(f.collation=this.collation),yield l.generateTypeInfo(f,this.options),yield l.generateParameterLength(f,this.options),yield*l.generateParameterData(f,this.options)}},BS=Ci;Mi.default=BS;Ph.exports=Ci});var Bh=S((Fi,Uh)=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.default=void 0;var qS=kS(Ye()),YS=Li(),xh;function kS(n){return n&&n.__esModule?n:{default:n}}xh=Symbol.iterator;var Pi=class{constructor(t,r,a){this.sqlText=void 0,this.txnDescriptor=void 0,this.options=void 0,this.sqlText=t,this.txnDescriptor=r,this.options=a}*[xh](){if(this.options.tdsVersion>="7_2"){let t=new qS.default(18,"ucs2"),r=1;(0,YS.writeToTrackingBuffer)(t,this.txnDescriptor,r),yield t.data}yield Buffer.from(this.sqlText,"ucs2")}toString(t=""){return t+("SQL Batch - "+this.sqlText)}},VS=Pi;Fi.default=VS;Uh.exports=Pi});var Yh=S((FF,qh)=>{"use strict";var HS=require("stream").Duplex,xi=Symbol("Callback"),Kt=Symbol("Other"),Ui=class extends HS{constructor(t){super(t),this[xi]=null,this[Kt]=null}_read(){let t=this[xi];t&&(this[xi]=null,t())}_write(t,r,a){this[Kt][xi]=a,this[Kt].push(t)}_final(t){this[Kt].on("end",t),this[Kt].push(null)}},cu=class{constructor(t){this.socket1=new Ui(t),this.socket2=new Ui(t),this.socket1[Kt]=this.socket2,this.socket2[Kt]=this.socket1}};qh.exports=cu});var Yi=S((qi,kh)=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.default=void 0;var WS=require("stream"),Bi=class extends WS.PassThrough{constructor({type:t,resetConnection:r=!1}){super(),this.type=void 0,this.resetConnection=void 0,this.ignore=void 0,this.type=t,this.resetConnection=r,this.ignore=!1}},GS=Bi;qi.default=GS;kh.exports=Bi});var hu=S((xF,Vh)=>{Vh.exports=require("stream")});var zh=S((UF,Kh)=>{"use strict";function Hh(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,a)}return r}function Wh(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hh(Object(r),!0).forEach(function(a){$S(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Hh(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function $S(n,t,r){return t=$h(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function KS(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Gh(n,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,$h(a.key),a)}}function zS(n,t,r){return t&&Gh(n.prototype,t),r&&Gh(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function $h(n){var t=ZS(n,"string");return typeof t=="symbol"?t:String(t)}function ZS(n,t){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var jS=require("buffer"),ki=jS.Buffer,XS=require("util"),du=XS.inspect,JS=du&&du.custom||"inspect";function QS(n,t,r){ki.prototype.copy.call(n,t,r)}Kh.exports=function(){function n(){KS(this,n),this.head=null,this.tail=null,this.length=0}return zS(n,[{key:"push",value:function(r){var a={data:r,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}},{key:"unshift",value:function(r){var a={data:r,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var a=this.head,f=""+a.data;a=a.next;)f+=r+a.data;return f}},{key:"concat",value:function(r){if(this.length===0)return ki.alloc(0);for(var a=ki.allocUnsafe(r>>>0),f=this.head,l=0;f;)QS(f.data,a,l),l+=f.data.length,f=f.next;return a}},{key:"consume",value:function(r,a){var f;return r<this.head.data.length?(f=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?f=this.shift():f=a?this._getString(r):this._getBuffer(r),f}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var a=this.head,f=1,l=a.data;for(r-=l.length;a=a.next;){var h=a.data,E=r>h.length?h.length:r;if(E===h.length?l+=h:l+=h.slice(0,r),r-=E,r===0){E===h.length?(++f,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=h.slice(E));break}++f}return this.length-=f,l}},{key:"_getBuffer",value:function(r){var a=ki.allocUnsafe(r),f=this.head,l=1;for(f.data.copy(a),r-=f.data.length;f=f.next;){var h=f.data,E=r>h.length?h.length:r;if(h.copy(a,a.length-r,0,E),r-=E,r===0){E===h.length?(++l,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=h.slice(E));break}++l}return this.length-=l,a}},{key:JS,value:function(r,a){return du(this,Wh(Wh({},a),{},{depth:0,customInspect:!1}))}}]),n}()});var _u=S((BF,jh)=>{"use strict";function eO(n,t){var r=this,a=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return a||f?(t?t(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(pu,this,n)):process.nextTick(pu,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(l){!t&&l?r._writableState?r._writableState.errorEmitted?process.nextTick(Vi,r):(r._writableState.errorEmitted=!0,process.nextTick(Zh,r,l)):process.nextTick(Zh,r,l):t?(process.nextTick(Vi,r),t(l)):process.nextTick(Vi,r)}),this)}function Zh(n,t){pu(n,t),Vi(n)}function Vi(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function tO(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function pu(n,t){n.emit("error",t)}function nO(n,t){var r=n._readableState,a=n._writableState;r&&r.autoDestroy||a&&a.autoDestroy?n.destroy(t):n.emit("error",t)}jh.exports={destroy:eO,undestroy:tO,errorOrDestroy:nO}});var Ct=S((qF,Qh)=>{"use strict";var Jh={};function Qe(n,t,r){r||(r=Error);function a(l,h,E){return typeof t=="string"?t:t(l,h,E)}class f extends r{constructor(h,E,v){super(a(h,E,v))}}f.prototype.name=r.name,f.prototype.code=n,Jh[n]=f}function Xh(n,t){if(Array.isArray(n)){let r=n.length;return n=n.map(a=>String(a)),r>2?`one of ${t} ${n.slice(0,r-1).join(", ")}, or `+n[r-1]:r===2?`one of ${t} ${n[0]} or ${n[1]}`:`of ${t} ${n[0]}`}else return`of ${t} ${String(n)}`}function rO(n,t,r){return n.substr(!r||r<0?0:+r,t.length)===t}function iO(n,t,r){return(r===void 0||r>n.length)&&(r=n.length),n.substring(r-t.length,r)===t}function oO(n,t,r){return typeof r!="number"&&(r=0),r+t.length>n.length?!1:n.indexOf(t,r)!==-1}Qe("ERR_INVALID_OPT_VALUE",function(n,t){return'The value "'+t+'" is invalid for option "'+n+'"'},TypeError);Qe("ERR_INVALID_ARG_TYPE",function(n,t,r){let a;typeof t=="string"&&rO(t,"not ")?(a="must not be",t=t.replace(/^not /,"")):a="must be";let f;if(iO(n," argument"))f=`The ${n} ${a} ${Xh(t,"type")}`;else{let l=oO(n,".")?"property":"argument";f=`The "${n}" ${l} ${a} ${Xh(t,"type")}`}return f+=`. Received type ${typeof r}`,f},TypeError);Qe("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Qe("ERR_METHOD_NOT_IMPLEMENTED",function(n){return"The "+n+" method is not implemented"});Qe("ERR_STREAM_PREMATURE_CLOSE","Premature close");Qe("ERR_STREAM_DESTROYED",function(n){return"Cannot call "+n+" after a stream was destroyed"});Qe("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Qe("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Qe("ERR_STREAM_WRITE_AFTER_END","write after end");Qe("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Qe("ERR_UNKNOWN_ENCODING",function(n){return"Unknown encoding: "+n},TypeError);Qe("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Qh.exports.codes=Jh});var mu=S((YF,ed)=>{"use strict";var sO=Ct().codes.ERR_INVALID_OPT_VALUE;function aO(n,t,r){return n.highWaterMark!=null?n.highWaterMark:t?n[r]:null}function uO(n,t,r,a){var f=aO(t,a,r);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var l=a?r:"highWaterMark";throw new sO(l,f)}return Math.floor(f)}return n.objectMode?16:16*1024}ed.exports={getHighWaterMark:uO}});var td=S((kF,Eu)=>{typeof Object.create=="function"?Eu.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Eu.exports=function(t,r){if(r){t.super_=r;var a=function(){};a.prototype=r.prototype,t.prototype=new a,t.prototype.constructor=t}}});var zt=S((VF,gu)=>{try{if(vu=require("util"),typeof vu.inherits!="function")throw"";gu.exports=vu.inherits}catch{gu.exports=td()}var vu});var rd=S((HF,nd)=>{nd.exports=require("util").deprecate});var wu=S((WF,fd)=>{"use strict";fd.exports=Te;function od(n){var t=this;this.next=null,this.entry=null,this.finish=function(){FO(t,n)}}var On;Te.WritableState=ar;var fO={deprecate:rd()},sd=hu(),Wi=require("buffer").Buffer,lO=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function cO(n){return Wi.from(n)}function hO(n){return Wi.isBuffer(n)||n instanceof lO}var Tu=_u(),dO=mu(),pO=dO.getHighWaterMark,Mt=Ct().codes,_O=Mt.ERR_INVALID_ARG_TYPE,mO=Mt.ERR_METHOD_NOT_IMPLEMENTED,EO=Mt.ERR_MULTIPLE_CALLBACK,vO=Mt.ERR_STREAM_CANNOT_PIPE,gO=Mt.ERR_STREAM_DESTROYED,yO=Mt.ERR_STREAM_NULL_VALUES,TO=Mt.ERR_STREAM_WRITE_AFTER_END,wO=Mt.ERR_UNKNOWN_ENCODING,Nn=Tu.errorOrDestroy;zt()(Te,sd);function SO(){}function ar(n,t,r){On=On||Zt(),n=n||{},typeof r!="boolean"&&(r=t instanceof On),this.objectMode=!!n.objectMode,r&&(this.objectMode=this.objectMode||!!n.writableObjectMode),this.highWaterMark=pO(this,n,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=n.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(f){RO(t,f)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=n.emitClose!==!1,this.autoDestroy=!!n.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new od(this)}ar.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(ar.prototype,"buffer",{get:fO.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Hi;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Hi=Function.prototype[Symbol.hasInstance],Object.defineProperty(Te,Symbol.hasInstance,{value:function(t){return Hi.call(this,t)?!0:this!==Te?!1:t&&t._writableState instanceof ar}})):Hi=function(t){return t instanceof this};function Te(n){On=On||Zt();var t=this instanceof On;if(!t&&!Hi.call(Te,this))return new Te(n);this._writableState=new ar(n,this,t),this.writable=!0,n&&(typeof n.write=="function"&&(this._write=n.write),typeof n.writev=="function"&&(this._writev=n.writev),typeof n.destroy=="function"&&(this._destroy=n.destroy),typeof n.final=="function"&&(this._final=n.final)),sd.call(this)}Te.prototype.pipe=function(){Nn(this,new vO)};function OO(n,t){var r=new TO;Nn(n,r),process.nextTick(t,r)}function NO(n,t,r,a){var f;return r===null?f=new yO:typeof r!="string"&&!t.objectMode&&(f=new _O("chunk",["string","Buffer"],r)),f?(Nn(n,f),process.nextTick(a,f),!1):!0}Te.prototype.write=function(n,t,r){var a=this._writableState,f=!1,l=!a.objectMode&&hO(n);return l&&!Wi.isBuffer(n)&&(n=cO(n)),typeof t=="function"&&(r=t,t=null),l?t="buffer":t||(t=a.defaultEncoding),typeof r!="function"&&(r=SO),a.ending?OO(this,r):(l||NO(this,a,n,r))&&(a.pendingcb++,f=AO(this,a,l,n,t,r)),f};Te.prototype.cork=function(){this._writableState.corked++};Te.prototype.uncork=function(){var n=this._writableState;n.corked&&(n.corked--,!n.writing&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&ad(this,n))};Te.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new wO(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(Te.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function IO(n,t,r){return!n.objectMode&&n.decodeStrings!==!1&&typeof t=="string"&&(t=Wi.from(t,r)),t}Object.defineProperty(Te.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function AO(n,t,r,a,f,l){if(!r){var h=IO(t,a,f);a!==h&&(r=!0,f="buffer",a=h)}var E=t.objectMode?1:a.length;t.length+=E;var v=t.length<t.highWaterMark;if(v||(t.needDrain=!0),t.writing||t.corked){var O=t.lastBufferedRequest;t.lastBufferedRequest={chunk:a,encoding:f,isBuf:r,callback:l,next:null},O?O.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else yu(n,t,!1,E,a,f,l);return v}function yu(n,t,r,a,f,l,h){t.writelen=a,t.writecb=h,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new gO("write")):r?n._writev(f,t.onwrite):n._write(f,l,t.onwrite),t.sync=!1}function DO(n,t,r,a,f){--t.pendingcb,r?(process.nextTick(f,a),process.nextTick(sr,n,t),n._writableState.errorEmitted=!0,Nn(n,a)):(f(a),n._writableState.errorEmitted=!0,Nn(n,a),sr(n,t))}function bO(n){n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0}function RO(n,t){var r=n._writableState,a=r.sync,f=r.writecb;if(typeof f!="function")throw new EO;if(bO(r),t)DO(n,r,a,t,f);else{var l=ud(r)||n.destroyed;!l&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&ad(n,r),a?process.nextTick(id,n,r,l,f):id(n,r,l,f)}}function id(n,t,r,a){r||LO(n,t),t.pendingcb--,a(),sr(n,t)}function LO(n,t){t.length===0&&t.needDrain&&(t.needDrain=!1,n.emit("drain"))}function ad(n,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(n._writev&&r&&r.next){var a=t.bufferedRequestCount,f=new Array(a),l=t.corkedRequestsFree;l.entry=r;for(var h=0,E=!0;r;)f[h]=r,r.isBuf||(E=!1),r=r.next,h+=1;f.allBuffers=E,yu(n,t,!0,t.length,f,"",l.finish),t.pendingcb++,t.lastBufferedRequest=null,l.next?(t.corkedRequestsFree=l.next,l.next=null):t.corkedRequestsFree=new od(t),t.bufferedRequestCount=0}else{for(;r;){var v=r.chunk,O=r.encoding,A=r.callback,b=t.objectMode?1:v.length;if(yu(n,t,!1,b,v,O,A),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Te.prototype._write=function(n,t,r){r(new mO("_write()"))};Te.prototype._writev=null;Te.prototype.end=function(n,t,r){var a=this._writableState;return typeof n=="function"?(r=n,n=null,t=null):typeof t=="function"&&(r=t,t=null),n!=null&&this.write(n,t),a.corked&&(a.corked=1,this.uncork()),a.ending||PO(this,a,r),this};Object.defineProperty(Te.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ud(n){return n.ending&&n.length===0&&n.bufferedRequest===null&&!n.finished&&!n.writing}function CO(n,t){n._final(function(r){t.pendingcb--,r&&Nn(n,r),t.prefinished=!0,n.emit("prefinish"),sr(n,t)})}function MO(n,t){!t.prefinished&&!t.finalCalled&&(typeof n._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(CO,n,t)):(t.prefinished=!0,n.emit("prefinish")))}function sr(n,t){var r=ud(t);if(r&&(MO(n,t),t.pendingcb===0&&(t.finished=!0,n.emit("finish"),t.autoDestroy))){var a=n._readableState;(!a||a.autoDestroy&&a.endEmitted)&&n.destroy()}return r}function PO(n,t,r){t.ending=!0,sr(n,t),r&&(t.finished?process.nextTick(r):n.once("finish",r)),t.ended=!0,n.writable=!1}function FO(n,t,r){var a=n.entry;for(n.entry=null;a;){var f=a.callback;t.pendingcb--,f(r),a=a.next}t.corkedRequestsFree.next=n}Object.defineProperty(Te.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});Te.prototype.destroy=Tu.destroy;Te.prototype._undestroy=Tu.undestroy;Te.prototype._destroy=function(n,t){t(n)}});var Zt=S((GF,cd)=>{"use strict";var xO=Object.keys||function(n){var t=[];for(var r in n)t.push(r);return t};cd.exports=_t;var ld=Nu(),Ou=wu();zt()(_t,ld);for(Su=xO(Ou.prototype),Gi=0;Gi<Su.length;Gi++)$i=Su[Gi],_t.prototype[$i]||(_t.prototype[$i]=Ou.prototype[$i]);var Su,$i,Gi;function _t(n){if(!(this instanceof _t))return new _t(n);ld.call(this,n),Ou.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",UO)))}Object.defineProperty(_t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(_t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(_t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function UO(){this._writableState.ended||process.nextTick(BO,this)}function BO(n){n.end()}Object.defineProperty(_t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var pd=S((Iu,dd)=>{var Ki=require("buffer"),mt=Ki.Buffer;function hd(n,t){for(var r in n)t[r]=n[r]}mt.from&&mt.alloc&&mt.allocUnsafe&&mt.allocUnsafeSlow?dd.exports=Ki:(hd(Ki,Iu),Iu.Buffer=jt);function jt(n,t,r){return mt(n,t,r)}jt.prototype=Object.create(mt.prototype);hd(mt,jt);jt.from=function(n,t,r){if(typeof n=="number")throw new TypeError("Argument must not be a number");return mt(n,t,r)};jt.alloc=function(n,t,r){if(typeof n!="number")throw new TypeError("Argument must be a number");var a=mt(n);return t!==void 0?typeof r=="string"?a.fill(t,r):a.fill(t):a.fill(0),a};jt.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return mt(n)};jt.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return Ki.SlowBuffer(n)}});var bu=S(md=>{"use strict";var Du=pd().Buffer,_d=Du.isEncoding||function(n){switch(n=""+n,n&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function qO(n){if(!n)return"utf8";for(var t;;)switch(n){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return n;default:if(t)return;n=(""+n).toLowerCase(),t=!0}}function YO(n){var t=qO(n);if(typeof t!="string"&&(Du.isEncoding===_d||!_d(n)))throw new Error("Unknown encoding: "+n);return t||n}md.StringDecoder=ur;function ur(n){this.encoding=YO(n);var t;switch(this.encoding){case"utf16le":this.text=$O,this.end=KO,t=4;break;case"utf8":this.fillLast=HO,t=4;break;case"base64":this.text=zO,this.end=ZO,t=3;break;default:this.write=jO,this.end=XO;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Du.allocUnsafe(t)}ur.prototype.write=function(n){if(n.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(n),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<n.length?t?t+this.text(n,r):this.text(n,r):t||""};ur.prototype.end=GO;ur.prototype.text=WO;ur.prototype.fillLast=function(n){if(this.lastNeed<=n.length)return n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,n.length),this.lastNeed-=n.length};function Au(n){return n<=127?0:n>>5===6?2:n>>4===14?3:n>>3===30?4:n>>6===2?-1:-2}function kO(n,t,r){var a=t.length-1;if(a<r)return 0;var f=Au(t[a]);return f>=0?(f>0&&(n.lastNeed=f-1),f):--a<r||f===-2?0:(f=Au(t[a]),f>=0?(f>0&&(n.lastNeed=f-2),f):--a<r||f===-2?0:(f=Au(t[a]),f>=0?(f>0&&(f===2?f=0:n.lastNeed=f-3),f):0))}function VO(n,t,r){if((t[0]&192)!==128)return n.lastNeed=0,"\uFFFD";if(n.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return n.lastNeed=1,"\uFFFD";if(n.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return n.lastNeed=2,"\uFFFD"}}function HO(n){var t=this.lastTotal-this.lastNeed,r=VO(this,n,t);if(r!==void 0)return r;if(this.lastNeed<=n.length)return n.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,t,0,n.length),this.lastNeed-=n.length}function WO(n,t){var r=kO(this,n,t);if(!this.lastNeed)return n.toString("utf8",t);this.lastTotal=r;var a=n.length-(r-this.lastNeed);return n.copy(this.lastChar,0,a),n.toString("utf8",t,a)}function GO(n){var t=n&&n.length?this.write(n):"";return this.lastNeed?t+"\uFFFD":t}function $O(n,t){if((n.length-t)%2===0){var r=n.toString("utf16le",t);if(r){var a=r.charCodeAt(r.length-1);if(a>=55296&&a<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=n[n.length-1],n.toString("utf16le",t,n.length-1)}function KO(n){var t=n&&n.length?this.write(n):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function zO(n,t){var r=(n.length-t)%3;return r===0?n.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=n[n.length-1]:(this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1]),n.toString("base64",t,n.length-r))}function ZO(n){var t=n&&n.length?this.write(n):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function jO(n){return n.toString(this.encoding)}function XO(n){return n&&n.length?this.write(n):""}});var zi=S((KF,gd)=>{"use strict";var Ed=Ct().codes.ERR_STREAM_PREMATURE_CLOSE;function JO(n){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,a=new Array(r),f=0;f<r;f++)a[f]=arguments[f];n.apply(this,a)}}}function QO(){}function eN(n){return n.setHeader&&typeof n.abort=="function"}function vd(n,t,r){if(typeof t=="function")return vd(n,null,t);t||(t={}),r=JO(r||QO);var a=t.readable||t.readable!==!1&&n.readable,f=t.writable||t.writable!==!1&&n.writable,l=function(){n.writable||E()},h=n._writableState&&n._writableState.finished,E=function(){f=!1,h=!0,a||r.call(n)},v=n._readableState&&n._readableState.endEmitted,O=function(){a=!1,v=!0,f||r.call(n)},A=function(F){r.call(n,F)},b=function(){var F;if(a&&!v)return(!n._readableState||!n._readableState.ended)&&(F=new Ed),r.call(n,F);if(f&&!h)return(!n._writableState||!n._writableState.ended)&&(F=new Ed),r.call(n,F)},C=function(){n.req.on("finish",E)};return eN(n)?(n.on("complete",E),n.on("abort",b),n.req?C():n.on("request",C)):f&&!n._writableState&&(n.on("end",l),n.on("close",l)),n.on("end",O),n.on("finish",E),t.error!==!1&&n.on("error",A),n.on("close",b),function(){n.removeListener("complete",E),n.removeListener("abort",b),n.removeListener("request",C),n.req&&n.req.removeListener("finish",E),n.removeListener("end",l),n.removeListener("close",l),n.removeListener("finish",E),n.removeListener("end",O),n.removeListener("error",A),n.removeListener("close",b)}}gd.exports=vd});var Td=S((zF,yd)=>{"use strict";var Zi;function Pt(n,t,r){return t=tN(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function tN(n){var t=nN(n,"string");return typeof t=="symbol"?t:String(t)}function nN(n,t){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var rN=zi(),Ft=Symbol("lastResolve"),Xt=Symbol("lastReject"),fr=Symbol("error"),ji=Symbol("ended"),Jt=Symbol("lastPromise"),Ru=Symbol("handlePromise"),Qt=Symbol("stream");function xt(n,t){return{value:n,done:t}}function iN(n){var t=n[Ft];if(t!==null){var r=n[Qt].read();r!==null&&(n[Jt]=null,n[Ft]=null,n[Xt]=null,t(xt(r,!1)))}}function oN(n){process.nextTick(iN,n)}function sN(n,t){return function(r,a){n.then(function(){if(t[ji]){r(xt(void 0,!0));return}t[Ru](r,a)},a)}}var aN=Object.getPrototypeOf(function(){}),uN=Object.setPrototypeOf((Zi={get stream(){return this[Qt]},next:function(){var t=this,r=this[fr];if(r!==null)return Promise.reject(r);if(this[ji])return Promise.resolve(xt(void 0,!0));if(this[Qt].destroyed)return new Promise(function(h,E){process.nextTick(function(){t[fr]?E(t[fr]):h(xt(void 0,!0))})});var a=this[Jt],f;if(a)f=new Promise(sN(a,this));else{var l=this[Qt].read();if(l!==null)return Promise.resolve(xt(l,!1));f=new Promise(this[Ru])}return this[Jt]=f,f}},Pt(Zi,Symbol.asyncIterator,function(){return this}),Pt(Zi,"return",function(){var t=this;return new Promise(function(r,a){t[Qt].destroy(null,function(f){if(f){a(f);return}r(xt(void 0,!0))})})}),Zi),aN),fN=function(t){var r,a=Object.create(uN,(r={},Pt(r,Qt,{value:t,writable:!0}),Pt(r,Ft,{value:null,writable:!0}),Pt(r,Xt,{value:null,writable:!0}),Pt(r,fr,{value:null,writable:!0}),Pt(r,ji,{value:t._readableState.endEmitted,writable:!0}),Pt(r,Ru,{value:function(l,h){var E=a[Qt].read();E?(a[Jt]=null,a[Ft]=null,a[Xt]=null,l(xt(E,!1))):(a[Ft]=l,a[Xt]=h)},writable:!0}),r));return a[Jt]=null,rN(t,function(f){if(f&&f.code!=="ERR_STREAM_PREMATURE_CLOSE"){var l=a[Xt];l!==null&&(a[Jt]=null,a[Ft]=null,a[Xt]=null,l(f)),a[fr]=f;return}var h=a[Ft];h!==null&&(a[Jt]=null,a[Ft]=null,a[Xt]=null,h(xt(void 0,!0))),a[ji]=!0}),t.on("readable",oN.bind(null,a)),a};yd.exports=fN});var Nd=S((ZF,Od)=>{"use strict";function wd(n,t,r,a,f,l,h){try{var E=n[l](h),v=E.value}catch(O){r(O);return}E.done?t(v):Promise.resolve(v).then(a,f)}function lN(n){return function(){var t=this,r=arguments;return new Promise(function(a,f){var l=n.apply(t,r);function h(v){wd(l,a,f,h,E,"next",v)}function E(v){wd(l,a,f,h,E,"throw",v)}h(void 0)})}}function Sd(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,a)}return r}function cN(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sd(Object(r),!0).forEach(function(a){hN(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Sd(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function hN(n,t,r){return t=dN(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function dN(n){var t=pN(n,"string");return typeof t=="symbol"?t:String(t)}function pN(n,t){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var _N=Ct().codes.ERR_INVALID_ARG_TYPE;function mN(n,t,r){var a;if(t&&typeof t.next=="function")a=t;else if(t&&t[Symbol.asyncIterator])a=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])a=t[Symbol.iterator]();else throw new _N("iterable",["Iterable"],t);var f=new n(cN({objectMode:!0},r)),l=!1;f._read=function(){l||(l=!0,h())};function h(){return E.apply(this,arguments)}function E(){return E=lN(function*(){try{var v=yield a.next(),O=v.value,A=v.done;A?f.push(null):f.push(yield O)?h():l=!1}catch(b){f.destroy(b)}}),E.apply(this,arguments)}return f}Od.exports=mN});var Nu=S((XF,Fd)=>{"use strict";Fd.exports=ue;var In;ue.ReadableState=bd;var jF=require("events").EventEmitter,Dd=function(t,r){return t.listeners(r).length},cr=hu(),Xi=require("buffer").Buffer,EN=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function vN(n){return Xi.from(n)}function gN(n){return Xi.isBuffer(n)||n instanceof EN}var Lu=require("util"),te;Lu&&Lu.debuglog?te=Lu.debuglog("stream"):te=function(){};var yN=zh(),Bu=_u(),TN=mu(),wN=TN.getHighWaterMark,Ji=Ct().codes,SN=Ji.ERR_INVALID_ARG_TYPE,ON=Ji.ERR_STREAM_PUSH_AFTER_EOF,NN=Ji.ERR_METHOD_NOT_IMPLEMENTED,IN=Ji.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,An,Cu,Mu;zt()(ue,cr);var lr=Bu.errorOrDestroy,Pu=["error","close","destroy","pause","resume"];function AN(n,t,r){if(typeof n.prependListener=="function")return n.prependListener(t,r);!n._events||!n._events[t]?n.on(t,r):Array.isArray(n._events[t])?n._events[t].unshift(r):n._events[t]=[r,n._events[t]]}function bd(n,t,r){In=In||Zt(),n=n||{},typeof r!="boolean"&&(r=t instanceof In),this.objectMode=!!n.objectMode,r&&(this.objectMode=this.objectMode||!!n.readableObjectMode),this.highWaterMark=wN(this,n,"readableHighWaterMark",r),this.buffer=new yN,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=n.emitClose!==!1,this.autoDestroy=!!n.autoDestroy,this.destroyed=!1,this.defaultEncoding=n.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,n.encoding&&(An||(An=bu().StringDecoder),this.decoder=new An(n.encoding),this.encoding=n.encoding)}function ue(n){if(In=In||Zt(),!(this instanceof ue))return new ue(n);var t=this instanceof In;this._readableState=new bd(n,this,t),this.readable=!0,n&&(typeof n.read=="function"&&(this._read=n.read),typeof n.destroy=="function"&&(this._destroy=n.destroy)),cr.call(this)}Object.defineProperty(ue.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});ue.prototype.destroy=Bu.destroy;ue.prototype._undestroy=Bu.undestroy;ue.prototype._destroy=function(n,t){t(n)};ue.prototype.push=function(n,t){var r=this._readableState,a;return r.objectMode?a=!0:typeof n=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(n=Xi.from(n,t),t=""),a=!0),Rd(this,n,t,!1,a)};ue.prototype.unshift=function(n){return Rd(this,n,null,!0,!1)};function Rd(n,t,r,a,f){te("readableAddChunk",t);var l=n._readableState;if(t===null)l.reading=!1,RN(n,l);else{var h;if(f||(h=DN(l,t)),h)lr(n,h);else if(l.objectMode||t&&t.length>0)if(typeof t!="string"&&!l.objectMode&&Object.getPrototypeOf(t)!==Xi.prototype&&(t=vN(t)),a)l.endEmitted?lr(n,new IN):Fu(n,l,t,!0);else if(l.ended)lr(n,new ON);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||t.length!==0?Fu(n,l,t,!1):Uu(n,l)):Fu(n,l,t,!1)}else a||(l.reading=!1,Uu(n,l))}return!l.ended&&(l.length<l.highWaterMark||l.length===0)}function Fu(n,t,r,a){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,n.emit("data",r)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Qi(n)),Uu(n,t)}function DN(n,t){var r;return!gN(t)&&typeof t!="string"&&t!==void 0&&!n.objectMode&&(r=new SN("chunk",["string","Buffer","Uint8Array"],t)),r}ue.prototype.isPaused=function(){return this._readableState.flowing===!1};ue.prototype.setEncoding=function(n){An||(An=bu().StringDecoder);var t=new An(n);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,a="";r!==null;)a+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),a!==""&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};var Id=1073741824;function bN(n){return n>=Id?n=Id:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function Ad(n,t){return n<=0||t.length===0&&t.ended?0:t.objectMode?1:n!==n?t.flowing&&t.length?t.buffer.head.data.length:t.length:(n>t.highWaterMark&&(t.highWaterMark=bN(n)),n<=t.length?n:t.ended?t.length:(t.needReadable=!0,0))}ue.prototype.read=function(n){te("read",n),n=parseInt(n,10);var t=this._readableState,r=n;if(n!==0&&(t.emittedReadable=!1),n===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return te("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?xu(this):Qi(this),null;if(n=Ad(n,t),n===0&&t.ended)return t.length===0&&xu(this),null;var a=t.needReadable;te("need readable",a),(t.length===0||t.length-n<t.highWaterMark)&&(a=!0,te("length less than watermark",a)),t.ended||t.reading?(a=!1,te("reading or ended",a)):a&&(te("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(n=Ad(r,t)));var f;return n>0?f=Md(n,t):f=null,f===null?(t.needReadable=t.length<=t.highWaterMark,n=0):(t.length-=n,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==n&&t.ended&&xu(this)),f!==null&&this.emit("data",f),f};function RN(n,t){if(te("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?Qi(n):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Ld(n)))}}function Qi(n){var t=n._readableState;te("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(te("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(Ld,n))}function Ld(n){var t=n._readableState;te("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(n.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,qu(n)}function Uu(n,t){t.readingMore||(t.readingMore=!0,process.nextTick(LN,n,t))}function LN(n,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(te("maybeReadMore read 0"),n.read(0),r===t.length)break}t.readingMore=!1}ue.prototype._read=function(n){lr(this,new NN("_read()"))};ue.prototype.pipe=function(n,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=n;break;case 1:a.pipes=[a.pipes,n];break;default:a.pipes.push(n);break}a.pipesCount+=1,te("pipe count=%d opts=%j",a.pipesCount,t);var f=(!t||t.end!==!1)&&n!==process.stdout&&n!==process.stderr,l=f?E:y;a.endEmitted?process.nextTick(l):r.once("end",l),n.on("unpipe",h);function h(U,w){te("onunpipe"),U===r&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,A())}function E(){te("onend"),n.end()}var v=CN(r);n.on("drain",v);var O=!1;function A(){te("cleanup"),n.removeListener("close",Y),n.removeListener("finish",F),n.removeListener("drain",v),n.removeListener("error",C),n.removeListener("unpipe",h),r.removeListener("end",E),r.removeListener("end",y),r.removeListener("data",b),O=!0,a.awaitDrain&&(!n._writableState||n._writableState.needDrain)&&v()}r.on("data",b);function b(U){te("ondata");var w=n.write(U);te("dest.write",w),w===!1&&((a.pipesCount===1&&a.pipes===n||a.pipesCount>1&&Pd(a.pipes,n)!==-1)&&!O&&(te("false write response, pause",a.awaitDrain),a.awaitDrain++),r.pause())}function C(U){te("onerror",U),y(),n.removeListener("error",C),Dd(n,"error")===0&&lr(n,U)}AN(n,"error",C);function Y(){n.removeListener("finish",F),y()}n.once("close",Y);function F(){te("onfinish"),n.removeListener("close",Y),y()}n.once("finish",F);function y(){te("unpipe"),r.unpipe(n)}return n.emit("pipe",r),a.flowing||(te("pipe resume"),r.resume()),n};function CN(n){return function(){var r=n._readableState;te("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Dd(n,"data")&&(r.flowing=!0,qu(n))}}ue.prototype.unpipe=function(n){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return n&&n!==t.pipes?this:(n||(n=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,n&&n.emit("unpipe",this,r),this);if(!n){var a=t.pipes,f=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var l=0;l<f;l++)a[l].emit("unpipe",this,{hasUnpiped:!1});return this}var h=Pd(t.pipes,n);return h===-1?this:(t.pipes.splice(h,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),n.emit("unpipe",this,r),this)};ue.prototype.on=function(n,t){var r=cr.prototype.on.call(this,n,t),a=this._readableState;return n==="data"?(a.readableListening=this.listenerCount("readable")>0,a.flowing!==!1&&this.resume()):n==="readable"&&!a.endEmitted&&!a.readableListening&&(a.readableListening=a.needReadable=!0,a.flowing=!1,a.emittedReadable=!1,te("on readable",a.length,a.reading),a.length?Qi(this):a.reading||process.nextTick(MN,this)),r};ue.prototype.addListener=ue.prototype.on;ue.prototype.removeListener=function(n,t){var r=cr.prototype.removeListener.call(this,n,t);return n==="readable"&&process.nextTick(Cd,this),r};ue.prototype.removeAllListeners=function(n){var t=cr.prototype.removeAllListeners.apply(this,arguments);return(n==="readable"||n===void 0)&&process.nextTick(Cd,this),t};function Cd(n){var t=n._readableState;t.readableListening=n.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:n.listenerCount("data")>0&&n.resume()}function MN(n){te("readable nexttick read 0"),n.read(0)}ue.prototype.resume=function(){var n=this._readableState;return n.flowing||(te("resume"),n.flowing=!n.readableListening,PN(this,n)),n.paused=!1,this};function PN(n,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(FN,n,t))}function FN(n,t){te("resume",t.reading),t.reading||n.read(0),t.resumeScheduled=!1,n.emit("resume"),qu(n),t.flowing&&!t.reading&&n.read(0)}ue.prototype.pause=function(){return te("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(te("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function qu(n){var t=n._readableState;for(te("flow",t.flowing);t.flowing&&n.read()!==null;);}ue.prototype.wrap=function(n){var t=this,r=this._readableState,a=!1;n.on("end",function(){if(te("wrapped end"),r.decoder&&!r.ended){var h=r.decoder.end();h&&h.length&&t.push(h)}t.push(null)}),n.on("data",function(h){if(te("wrapped data"),r.decoder&&(h=r.decoder.write(h)),!(r.objectMode&&h==null)&&!(!r.objectMode&&(!h||!h.length))){var E=t.push(h);E||(a=!0,n.pause())}});for(var f in n)this[f]===void 0&&typeof n[f]=="function"&&(this[f]=function(E){return function(){return n[E].apply(n,arguments)}}(f));for(var l=0;l<Pu.length;l++)n.on(Pu[l],this.emit.bind(this,Pu[l]));return this._read=function(h){te("wrapped _read",h),a&&(a=!1,n.resume())},this};typeof Symbol=="function"&&(ue.prototype[Symbol.asyncIterator]=function(){return Cu===void 0&&(Cu=Td()),Cu(this)});Object.defineProperty(ue.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ue.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ue.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});ue._fromList=Md;Object.defineProperty(ue.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Md(n,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!n||n>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(n,t.decoder),r}function xu(n){var t=n._readableState;te("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(xN,t,n))}function xN(n,t){if(te("endReadableNT",n.endEmitted,n.length),!n.endEmitted&&n.length===0&&(n.endEmitted=!0,t.readable=!1,t.emit("end"),n.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(ue.from=function(n,t){return Mu===void 0&&(Mu=Nd()),Mu(ue,n,t)});function Pd(n,t){for(var r=0,a=n.length;r<a;r++)if(n[r]===t)return r;return-1}});var Yu=S((JF,Ud)=>{"use strict";Ud.exports=It;var eo=Ct().codes,UN=eo.ERR_METHOD_NOT_IMPLEMENTED,BN=eo.ERR_MULTIPLE_CALLBACK,qN=eo.ERR_TRANSFORM_ALREADY_TRANSFORMING,YN=eo.ERR_TRANSFORM_WITH_LENGTH_0,to=Zt();zt()(It,to);function kN(n,t){var r=this._transformState;r.transforming=!1;var a=r.writecb;if(a===null)return this.emit("error",new BN);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),a(n);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function It(n){if(!(this instanceof It))return new It(n);to.call(this,n),this._transformState={afterTransform:kN.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",VN)}function VN(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){xd(n,t,r)}):xd(this,null,null)}It.prototype.push=function(n,t){return this._transformState.needTransform=!1,to.prototype.push.call(this,n,t)};It.prototype._transform=function(n,t,r){r(new UN("_transform()"))};It.prototype._write=function(n,t,r){var a=this._transformState;if(a.writecb=r,a.writechunk=n,a.writeencoding=t,!a.transforming){var f=this._readableState;(a.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}};It.prototype._read=function(n){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};It.prototype._destroy=function(n,t){to.prototype._destroy.call(this,n,function(r){t(r)})};function xd(n,t,r){if(t)return n.emit("error",t);if(r!=null&&n.push(r),n._writableState.length)throw new YN;if(n._transformState.transforming)throw new qN;return n.push(null)}});var Yd=S((QF,qd)=>{"use strict";qd.exports=hr;var Bd=Yu();zt()(hr,Bd);function hr(n){if(!(this instanceof hr))return new hr(n);Bd.call(this,n)}hr.prototype._transform=function(n,t,r){r(null,n)}});var Gd=S((ex,Wd)=>{"use strict";var ku;function HN(n){var t=!1;return function(){t||(t=!0,n.apply(void 0,arguments))}}var Hd=Ct().codes,WN=Hd.ERR_MISSING_ARGS,GN=Hd.ERR_STREAM_DESTROYED;function kd(n){if(n)throw n}function $N(n){return n.setHeader&&typeof n.abort=="function"}function KN(n,t,r,a){a=HN(a);var f=!1;n.on("close",function(){f=!0}),ku===void 0&&(ku=zi()),ku(n,{readable:t,writable:r},function(h){if(h)return a(h);f=!0,a()});var l=!1;return function(h){if(!f&&!l){if(l=!0,$N(n))return n.abort();if(typeof n.destroy=="function")return n.destroy();a(h||new GN("pipe"))}}}function Vd(n){n()}function zN(n,t){return n.pipe(t)}function ZN(n){return!n.length||typeof n[n.length-1]!="function"?kd:n.pop()}function jN(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];var a=ZN(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new WN("streams");var f,l=t.map(function(h,E){var v=E<t.length-1,O=E>0;return KN(h,v,O,function(A){f||(f=A),A&&l.forEach(Vd),!v&&(l.forEach(Vd),a(f))})});return t.reduce(zN)}Wd.exports=jN});var $d=S((et,pr)=>{var dr=require("stream");process.env.READABLE_STREAM==="disable"&&dr?(pr.exports=dr.Readable,Object.assign(pr.exports,dr),pr.exports.Stream=dr):(et=pr.exports=Nu(),et.Stream=dr||et,et.Readable=et,et.Writable=wu(),et.Duplex=Zt(),et.Transform=Yu(),et.PassThrough=Yd(),et.finished=zi(),et.pipeline=Gd())});var Zd=S((tx,zd)=>{"use strict";var{Buffer:st}=require("buffer"),Kd=Symbol.for("BufferList");function Ee(n){if(!(this instanceof Ee))return new Ee(n);Ee._init.call(this,n)}Ee._init=function(t){Object.defineProperty(this,Kd,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)};Ee.prototype._new=function(t){return new Ee(t)};Ee.prototype._offset=function(t){if(t===0)return[0,0];let r=0;for(let a=0;a<this._bufs.length;a++){let f=r+this._bufs[a].length;if(t<f||a===this._bufs.length-1)return[a,t-r];r=f}};Ee.prototype._reverseOffset=function(n){let t=n[0],r=n[1];for(let a=0;a<t;a++)r+=this._bufs[a].length;return r};Ee.prototype.get=function(t){if(t>this.length||t<0)return;let r=this._offset(t);return this._bufs[r[0]][r[1]]};Ee.prototype.slice=function(t,r){return typeof t=="number"&&t<0&&(t+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,t,r)};Ee.prototype.copy=function(t,r,a,f){if((typeof a!="number"||a<0)&&(a=0),(typeof f!="number"||f>this.length)&&(f=this.length),a>=this.length||f<=0)return t||st.alloc(0);let l=!!t,h=this._offset(a),E=f-a,v=E,O=l&&r||0,A=h[1];if(a===0&&f===this.length){if(!l)return this._bufs.length===1?this._bufs[0]:st.concat(this._bufs,this.length);for(let b=0;b<this._bufs.length;b++)this._bufs[b].copy(t,O),O+=this._bufs[b].length;return t}if(v<=this._bufs[h[0]].length-A)return l?this._bufs[h[0]].copy(t,r,A,A+v):this._bufs[h[0]].slice(A,A+v);l||(t=st.allocUnsafe(E));for(let b=h[0];b<this._bufs.length;b++){let C=this._bufs[b].length-A;if(v>C)this._bufs[b].copy(t,O,A),O+=C;else{this._bufs[b].copy(t,O,A,A+v),O+=C;break}v-=C,A&&(A=0)}return t.length>O?t.slice(0,O):t};Ee.prototype.shallowSlice=function(t,r){if(t=t||0,r=typeof r!="number"?this.length:r,t<0&&(t+=this.length),r<0&&(r+=this.length),t===r)return this._new();let a=this._offset(t),f=this._offset(r),l=this._bufs.slice(a[0],f[0]+1);return f[1]===0?l.pop():l[l.length-1]=l[l.length-1].slice(0,f[1]),a[1]!==0&&(l[0]=l[0].slice(a[1])),this._new(l)};Ee.prototype.toString=function(t,r,a){return this.slice(r,a).toString(t)};Ee.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this};Ee.prototype.duplicate=function(){let t=this._new();for(let r=0;r<this._bufs.length;r++)t.append(this._bufs[r]);return t};Ee.prototype.append=function(t){if(t==null)return this;if(t.buffer)this._appendBuffer(st.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let r=0;r<t.length;r++)this.append(t[r]);else if(this._isBufferList(t))for(let r=0;r<t._bufs.length;r++)this.append(t._bufs[r]);else typeof t=="number"&&(t=t.toString()),this._appendBuffer(st.from(t));return this};Ee.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length};Ee.prototype.indexOf=function(n,t,r){if(r===void 0&&typeof t=="string"&&(r=t,t=void 0),typeof n=="function"||Array.isArray(n))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof n=="number"?n=st.from([n]):typeof n=="string"?n=st.from(n,r):this._isBufferList(n)?n=n.slice():Array.isArray(n.buffer)?n=st.from(n.buffer,n.byteOffset,n.byteLength):st.isBuffer(n)||(n=st.from(n)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),n.length===0)return t>this.length?this.length:t;let a=this._offset(t),f=a[0],l=a[1];for(;f<this._bufs.length;f++){let h=this._bufs[f];for(;l<h.length;)if(h.length-l>=n.length){let v=h.indexOf(n,l);if(v!==-1)return this._reverseOffset([f,v]);l=h.length-n.length+1}else{let v=this._reverseOffset([f,l]);if(this._match(v,n))return v;l++}l=0}return-1};Ee.prototype._match=function(n,t){if(this.length-n<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(n+r)!==t[r])return!1;return!0};(function(){let n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in n)(function(r){n[r]===null?Ee.prototype[r]=function(a,f){return this.slice(a,a+f)[r](0,f)}:Ee.prototype[r]=function(a=0){return this.slice(a,a+n[r])[r](0)}})(t)})();Ee.prototype._isBufferList=function(t){return t instanceof Ee||Ee.isBufferList(t)};Ee.isBufferList=function(t){return t!=null&&t[Kd]};zd.exports=Ee});var Hu=S((nx,no)=>{"use strict";var Vu=$d().Duplex,XN=zt(),_r=Zd();function Ce(n){if(!(this instanceof Ce))return new Ce(n);if(typeof n=="function"){this._callback=n;let t=function(a){this._callback&&(this._callback(a),this._callback=null)}.bind(this);this.on("pipe",function(a){a.on("error",t)}),this.on("unpipe",function(a){a.removeListener("error",t)}),n=null}_r._init.call(this,n),Vu.call(this)}XN(Ce,Vu);Object.assign(Ce.prototype,_r.prototype);Ce.prototype._new=function(t){return new Ce(t)};Ce.prototype._write=function(t,r,a){this._appendBuffer(t),typeof a=="function"&&a()};Ce.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)};Ce.prototype.end=function(t){Vu.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)};Ce.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)};Ce.prototype._isBufferList=function(t){return t instanceof Ce||t instanceof _r||Ce.isBufferList(t)};Ce.isBufferList=_r.isBufferList;no.exports=Ce;no.exports.BufferListStream=Ce;no.exports.BufferList=_r});var Jd=S((io,Xd)=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.default=void 0;var JN=jd(Hu()),QN=require("stream"),eI=jd(Yi()),Wu=rr(),tI=Sn();function jd(n){return n&&n.__esModule?n:{default:n}}var ro=class extends QN.Transform{constructor(t){super({readableObjectMode:!0}),this.debug=void 0,this.bl=void 0,this.currentMessage=void 0,this.debug=t,this.currentMessage=void 0,this.bl=new JN.default}pause(){return super.pause(),this.currentMessage&&this.currentMessage.pause(),this}resume(){return super.resume(),this.currentMessage&&this.currentMessage.resume(),this}processBufferedData(t){for(;this.bl.length>=Wu.HEADER_LENGTH;){let r=this.bl.readUInt16BE(2);if(r<Wu.HEADER_LENGTH)return t(new tI.ConnectionError("Unable to process incoming packet"));if(this.bl.length>=r){let a=this.bl.slice(0,r);this.bl.consume(r);let f=new Wu.Packet(a);this.debug.packet("Received",f),this.debug.data(f);let l=this.currentMessage;if(l===void 0&&(this.currentMessage=l=new eI.default({type:f.type(),resetConnection:!1}),this.push(l)),f.isLast()){l.once("end",()=>{this.currentMessage=void 0,this.processBufferedData(t)}),l.end(f.data());return}else if(!l.write(f.data())){l.once("drain",()=>{this.processBufferedData(t)});return}}else break}t()}_transform(t,r,a){this.bl.append(t),this.processBufferedData(a)}},nI=ro;io.default=nI;Xd.exports=ro});var ep=S((so,Qd)=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.default=void 0;var rI=oI(Hu()),iI=require("stream"),Gu=rr();function oI(n){return n&&n.__esModule?n:{default:n}}var oo=class extends iI.Duplex{constructor(t,{packetSize:r}){super({writableObjectMode:!0}),this.packetSize=void 0,this.debug=void 0,this.bl=void 0,this.currentMessage=void 0,this.packetSize=r,this.debug=t,this.bl=new rI.default,this.on("finish",()=>{this.push(null)})}_write(t,r,a){let f=this.packetSize-Gu.HEADER_LENGTH,l=0;this.currentMessage=t,this.currentMessage.on("data",h=>{if(!t.ignore)for(this.bl.append(h);this.bl.length>f;){let E=this.bl.slice(0,f);this.bl.consume(f);let v=new Gu.Packet(t.type);v.packetId(l+=1),v.resetConnection(t.resetConnection),v.addData(E),this.debug.packet("Sent",v),this.debug.data(v),this.push(v.buffer)===!1&&t.pause()}}),this.currentMessage.on("end",()=>{let h=this.bl.slice();this.bl.consume(h.length);let E=new Gu.Packet(t.type);E.packetId(l+=1),E.resetConnection(t.resetConnection),E.last(!0),E.ignore(t.ignore),E.addData(h),this.debug.packet("Sent",E),this.debug.data(E),this.push(E.buffer),this.currentMessage=void 0,a()})}_read(t){this.currentMessage&&this.currentMessage.resume()}},sI=oo;so.default=sI;Qd.exports=oo});var op=S((fo,ip)=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.default=void 0;var aI=uo(Yh()),tp=hI(require("tls")),uI=require("events"),np=uo(Yi()),fI=rr(),lI=uo(Jd()),cI=uo(ep());function rp(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(rp=function(a){return a?r:t})(n)}function hI(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=rp(t);if(r&&r.has(n))return r.get(n);var a={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if(l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)){var h=f?Object.getOwnPropertyDescriptor(n,l):null;h&&(h.get||h.set)?Object.defineProperty(a,l,h):a[l]=n[l]}return a.default=n,r&&r.set(n,a),a}function uo(n){return n&&n.__esModule?n:{default:n}}var ao=class extends uI.EventEmitter{constructor(t,r,a){super(),this.socket=void 0,this.debug=void 0,this.tlsNegotiationComplete=void 0,this.incomingMessageStream=void 0,this.outgoingMessageStream=void 0,this.securePair=void 0,this.incomingMessageIterator=void 0,this.socket=t,this.debug=a,this.tlsNegotiationComplete=!1,this.incomingMessageStream=new lI.default(this.debug),this.incomingMessageIterator=this.incomingMessageStream[Symbol.asyncIterator](),this.outgoingMessageStream=new cI.default(this.debug,{packetSize:r}),this.socket.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(this.socket)}packetSize(...t){if(t.length>0){let r=t[0];this.debug.log("Packet size changed from "+this.outgoingMessageStream.packetSize+" to "+r),this.outgoingMessageStream.packetSize=r}return this.securePair&&this.securePair.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.packetSize}startTls(t,r,a){(!t.maxVersion||!["TLSv1.2","TLSv1.1","TLSv1"].includes(t.maxVersion))&&(t.maxVersion="TLSv1.2");let f=tp.createSecureContext(t);return new Promise((l,h)=>{let E=new aI.default,v=this.securePair={cleartext:tp.connect({socket:E.socket1,servername:r,secureContext:f,rejectUnauthorized:!a}),encrypted:E.socket2},O=()=>{v.encrypted.removeListener("readable",b),v.cleartext.removeListener("error",A),v.cleartext.removeListener("secureConnect",O),v.cleartext.once("error",Y=>{this.socket.destroy(Y)});let C=v.cleartext.getCipher();C&&this.debug.log("TLS negotiated ("+C.name+", "+C.version+")"),this.emit("secure",v.cleartext),v.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.unpipe(this.socket),this.socket.unpipe(this.incomingMessageStream),this.socket.pipe(v.encrypted),v.encrypted.pipe(this.socket),v.cleartext.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(v.cleartext),this.tlsNegotiationComplete=!0,l()},A=C=>{v.encrypted.removeListener("readable",b),v.cleartext.removeListener("error",A),v.cleartext.removeListener("secureConnect",O),v.cleartext.destroy(),v.encrypted.destroy(),h(C)},b=()=>{let C=new np.default({type:fI.TYPE.PRELOGIN,resetConnection:!1}),Y;for(;Y=v.encrypted.read();)C.write(Y);this.outgoingMessageStream.write(C),C.end(),this.readMessage().then(async F=>{v.encrypted.once("readable",b);for await(let y of F)v.encrypted.write(y)}).catch(A)};v.cleartext.once("error",A),v.cleartext.once("secureConnect",O),v.encrypted.once("readable",b)})}sendMessage(t,r,a){let f=new np.default({type:t,resetConnection:a});return f.end(r),this.outgoingMessageStream.write(f),f}async readMessage(){let t=await this.incomingMessageIterator.next();if(t.done)throw new Error("unexpected end of message stream");return t.value}},dI=ao;fo.default=dI;ip.exports=ao});var Ku=S(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.codepageBySortId=Et.codepageByLanguageId=Et.Flags=Et.Collation=void 0;var sp={[1025]:"CP1256",[1028]:"CP950",[1029]:"CP1250",[1030]:"CP1252",[1032]:"CP1253",[1033]:"CP1252",[1034]:"CP1252",[1035]:"CP1252",[1036]:"CP1252",[1037]:"CP1255",[1038]:"CP1250",[1039]:"CP1252",[1041]:"CP932",[1042]:"CP949",[1044]:"CP1252",[1045]:"CP1250",[1047]:"CP1252",[1048]:"CP1250",[1049]:"CP1251",[1050]:"CP1250",[1051]:"CP1250",[1052]:"CP1250",[1054]:"CP874",[1055]:"CP1254",[1056]:"CP1256",[1058]:"CP1251",[1060]:"CP1250",[1061]:"CP1257",[1062]:"CP1257",[1063]:"CP1257",[1065]:"CP1256",[1066]:"CP1258",[1068]:"CP1254",[1070]:"CP1252",[1071]:"CP1251",[1083]:"CP1252",[1087]:"CP1251",[1090]:"CP1250",[1091]:"CP1254",[1092]:"CP1251",[1106]:"CP1252",[1122]:"CP1252",[1133]:"CP1251",[1146]:"CP1252",[1148]:"CP1252",[1150]:"CP1252",[1152]:"CP1256",[1155]:"CP1252",[1157]:"CP1251",[1164]:"CP1256",[2052]:"CP936",[2074]:"CP1250",[2092]:"CP1251",[2107]:"CP1252",[2143]:"CP1252",[3076]:"CP950",[3082]:"CP1252",[3098]:"CP1251",[5124]:"CP950",[5146]:"CP1250",[8218]:"CP1251",[1031]:"CP1252",[1079]:"CP1252"};Et.codepageByLanguageId=sp;var ap={[30]:"CP437",[31]:"CP437",[32]:"CP437",[33]:"CP437",[34]:"CP437",[40]:"CP850",[41]:"CP850",[42]:"CP850",[43]:"CP850",[44]:"CP850",[49]:"CP850",[51]:"CP1252",[52]:"CP1252",[53]:"CP1252",[54]:"CP1252",[55]:"CP850",[56]:"CP850",[57]:"CP850",[58]:"CP850",[59]:"CP850",[60]:"CP850",[61]:"CP850",[80]:"CP1250",[81]:"CP1250",[82]:"CP1250",[83]:"CP1250",[84]:"CP1250",[85]:"CP1250",[86]:"CP1250",[87]:"CP1250",[88]:"CP1250",[89]:"CP1250",[90]:"CP1250",[91]:"CP1250",[92]:"CP1250",[93]:"CP1250",[94]:"CP1250",[95]:"CP1250",[96]:"CP1250",[104]:"CP1251",[105]:"CP1251",[106]:"CP1251",[107]:"CP1251",[108]:"CP1251",[112]:"CP1253",[113]:"CP1253",[114]:"CP1253",[120]:"CP1253",[121]:"CP1253",[122]:"CP1253",[124]:"CP1253",[128]:"CP1254",[129]:"CP1254",[130]:"CP1254",[136]:"CP1255",[137]:"CP1255",[138]:"CP1255",[144]:"CP1256",[145]:"CP1256",[146]:"CP1256",[152]:"CP1257",[153]:"CP1257",[154]:"CP1257",[155]:"CP1257",[156]:"CP1257",[157]:"CP1257",[158]:"CP1257",[159]:"CP1257",[160]:"CP1257",[183]:"CP1252",[184]:"CP1252",[185]:"CP1252",[186]:"CP1252"};Et.codepageBySortId=ap;var up={IGNORE_CASE:1<<0,IGNORE_ACCENT:1<<1,IGNORE_KANA:1<<2,IGNORE_WIDTH:1<<3,BINARY:1<<4,BINARY2:1<<5,UTF8:1<<6};Et.Flags=up;var $u=class{static fromBuffer(t,r=0){let a=(t[r+2]&15)<<16;a|=t[r+1]<<8,a|=t[r+0];let f=(t[r+3]&15)<<4;f|=(t[r+2]&240)>>>4;let l=(t[r+3]&240)>>>4,h=t[r+4];return new this(a,f,l,h)}constructor(t,r,a,f){if(this.lcid=void 0,this.flags=void 0,this.version=void 0,this.sortId=void 0,this.codepage=void 0,this.buffer=void 0,this.buffer=void 0,this.lcid=t,this.flags=r,this.version=a,this.sortId=f,this.flags&up.UTF8)this.codepage="utf-8";else if(this.sortId)this.codepage=ap[this.sortId];else{let l=this.lcid&65535;this.codepage=sp[l]}}toBuffer(){return this.buffer?this.buffer:(this.buffer=Buffer.alloc(5),this.buffer[0]=this.lcid&255,this.buffer[1]=this.lcid>>>8&255,this.buffer[2]=this.lcid>>>16&15|(this.flags&15)<<4,this.buffer[3]=(this.flags&240)>>>4|(this.version&15)<<4,this.buffer[4]=this.sortId&255,this.buffer)}};Et.Collation=$u});var cp=S((lo,lp)=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.default=void 0;var fp={id:31,type:"NULL",name:"Null",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},pI=fp;lo.default=pI;lp.exports=fp});var Dn=S((co,dp)=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.default=void 0;var hp={id:38,type:"INTN",name:"IntN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},_I=hp;co.default=_I;dp.exports=hp});var mp=S((ho,_p)=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.default=void 0;var mI=EI(Dn());function EI(n){return n&&n.__esModule?n:{default:n}}var vI=Buffer.from([1]),gI=Buffer.from([0]),pp={id:48,type:"INT1",name:"TinyInt",declaration:function(){return"tinyint"},generateTypeInfo(){return Buffer.from([mI.default.id,1])},generateParameterLength(n,t){return n.value==null?gI:vI},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(1);r.writeUInt8(Number(n.value),0),yield r},validate:function(n){if(n==null)return null;if(typeof n!="number"&&(n=Number(n)),isNaN(n))throw new TypeError("Invalid number.");if(n<0||n>255)throw new TypeError("Value must be between 0 and 255, inclusive.");return n|0}},yI=pp;ho.default=yI;_p.exports=pp});var zu=S((po,vp)=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.default=void 0;var Ep={id:104,type:"BITN",name:"BitN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},*generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},TI=Ep;po.default=TI;vp.exports=Ep});var Tp=S((_o,yp)=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.default=void 0;var wI=SI(zu());function SI(n){return n&&n.__esModule?n:{default:n}}var OI=Buffer.from([1]),NI=Buffer.from([0]),gp={id:50,type:"BIT",name:"Bit",declaration:function(){return"bit"},generateTypeInfo(){return Buffer.from([wI.default.id,1])},generateParameterLength(n,t){return n.value==null?NI:OI},*generateParameterData(n,t){n.value!=null&&(yield n.value?Buffer.from([1]):Buffer.from([0]))},validate:function(n){return n==null?null:!!n}},II=gp;_o.default=II;yp.exports=gp});var Op=S((mo,Sp)=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.default=void 0;var AI=DI(Dn());function DI(n){return n&&n.__esModule?n:{default:n}}var bI=Buffer.from([2]),RI=Buffer.from([0]),wp={id:52,type:"INT2",name:"SmallInt",declaration:function(){return"smallint"},generateTypeInfo(){return Buffer.from([AI.default.id,2])},generateParameterLength(n,t){return n.value==null?RI:bI},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(2);r.writeInt16LE(Number(n.value),0),yield r},validate:function(n){if(n==null)return null;if(typeof n!="number"&&(n=Number(n)),isNaN(n))throw new TypeError("Invalid number.");if(n<-32768||n>32767)throw new TypeError("Value must be between -32768 and 32767, inclusive.");return n|0}},LI=wp;mo.default=LI;Sp.exports=wp});var Ap=S((Eo,Ip)=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.default=void 0;var CI=MI(Dn());function MI(n){return n&&n.__esModule?n:{default:n}}var PI=Buffer.from([0]),FI=Buffer.from([4]),Np={id:56,type:"INT4",name:"Int",declaration:function(){return"int"},generateTypeInfo(){return Buffer.from([CI.default.id,4])},generateParameterLength(n,t){return n.value==null?PI:FI},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(4);r.writeInt32LE(Number(n.value),0),yield r},validate:function(n){if(n==null)return null;if(typeof n!="number"&&(n=Number(n)),isNaN(n))throw new TypeError("Invalid number.");if(n<-2147483648||n>2147483647)throw new TypeError("Value must be between -2147483648 and 2147483647, inclusive.");return n|0}},xI=Np;Eo.default=xI;Ip.exports=Np});var go=S((vo,bp)=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.default=void 0;var Dp={id:111,type:"DATETIMN",name:"DateTimeN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},UI=Dp;vo.default=UI;bp.exports=Dp});var Mp=S((yo,Cp)=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.default=void 0;var BI=qI(go());function qI(n){return n&&n.__esModule?n:{default:n}}var Rp=new Date(1900,0,1),YI=new Date(Date.UTC(1900,0,1)),kI=Buffer.from([4]),VI=Buffer.from([0]),Lp={id:58,type:"DATETIM4",name:"SmallDateTime",declaration:function(){return"smalldatetime"},generateTypeInfo(){return Buffer.from([BI.default.id,4])},generateParameterLength(n,t){return n.value==null?VI:kI},generateParameterData:function*(n,t){if(n.value==null)return;let r=Buffer.alloc(4),a,f,l;t.useUTC?(a=Math.floor((n.value.getTime()-YI.getTime())/(1e3*60*60*24)),l=n.value.getUTCHours()*60+n.value.getUTCMinutes()):(f=-(n.value.getTimezoneOffset()-Rp.getTimezoneOffset())*60*1e3,a=Math.floor((n.value.getTime()-Rp.getTime()+f)/(1e3*60*60*24)),l=n.value.getHours()*60+n.value.getMinutes()),r.writeUInt16LE(a,0),r.writeUInt16LE(l,2),yield r},validate:function(n){if(n==null)return null;if(n instanceof Date||(n=new Date(Date.parse(n))),isNaN(n))throw new TypeError("Invalid date.");return n}},HI=Lp;yo.default=HI;Cp.exports=Lp});var wo=S((To,Fp)=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.default=void 0;var Pp={id:109,type:"FLTN",name:"FloatN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},WI=Pp;To.default=WI;Fp.exports=Pp});var Bp=S((So,Up)=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.default=void 0;var GI=$I(wo());function $I(n){return n&&n.__esModule?n:{default:n}}var KI=Buffer.from([0]),zI=Buffer.from([4]),xp={id:59,type:"FLT4",name:"Real",declaration:function(){return"real"},generateTypeInfo(){return Buffer.from([GI.default.id,4])},generateParameterLength(n,t){return n.value==null?KI:zI},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(4);r.writeFloatLE(parseFloat(n.value),0),yield r},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");return n}},ZI=xp;So.default=ZI;Up.exports=xp});var No=S((Oo,Yp)=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.default=void 0;var qp={id:110,type:"MONEYN",name:"MoneyN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},jI=qp;Oo.default=jI;Yp.exports=qp});var Hp=S((Io,Vp)=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.default=void 0;var XI=JI(No());function JI(n){return n&&n.__esModule?n:{default:n}}var QI=(1<<16)*(1<<16),eA=1/QI,tA=Buffer.from([0]),nA=Buffer.from([8]),kp={id:60,type:"MONEY",name:"Money",declaration:function(){return"money"},generateTypeInfo:function(){return Buffer.from([XI.default.id,8])},generateParameterLength(n,t){return n.value==null?tA:nA},*generateParameterData(n,t){if(n.value==null)return;let r=n.value*1e4,a=Buffer.alloc(8);a.writeInt32LE(Math.floor(r*eA),0),a.writeInt32LE(r&-1,4),yield a},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");return n}},rA=kp;Io.default=rA;Vp.exports=kp});var mr=S((Ao,Wp)=>{(function(n,t){typeof Ao=="object"&&typeof Wp<"u"?t(Ao):typeof define=="function"&&define.amd?define(["exports"],t):(n=typeof globalThis<"u"?globalThis:n||self,t(n.JSJoda={}))})(Ao,function(n){"use strict";function t(p,u,s){s===void 0&&(s=Error);function i(e){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,u&&u.apply(this,arguments),this.toString=function(){return this.name+": "+this.message}}return i.prototype=Object.create(s.prototype),i.prototype.name=p,i.prototype.constructor=i,i}var r=t("DateTimeException",O),a=t("DateTimeParseException",A),f=t("UnsupportedTemporalTypeException",null,r),l=t("ArithmeticException"),h=t("IllegalArgumentException"),E=t("IllegalStateException"),v=t("NullPointerException");function O(p,u){u===void 0&&(u=null);var s=p||this.name;u!==null&&u instanceof Error&&(s+=`
-------
Caused by: `+u.stack+`
-------
`),this.message=s}function A(p,u,s,i){u===void 0&&(u=""),s===void 0&&(s=0),i===void 0&&(i=null);var e=p||this.name;e+=": "+u+", at index: "+s,i!==null&&i instanceof Error&&(e+=`
-------
Caused by: `+i.stack+`
-------
`),this.message=e,this.parsedString=function(){return u},this.errorIndex=function(){return s}}function b(p,u){p.prototype=Object.create(u.prototype),p.prototype.constructor=p,C(p,u)}function C(p,u){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,e){return i.__proto__=e,i},C(p,u)}function Y(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function F(p,u,s){if(!p)throw s?new s(u):new Error(u)}function y(p,u){if(p==null)throw new v(u+" must not be null");return p}function U(p,u,s){if(!(p instanceof u))throw new h(s+" must be an instance of "+(u.name?u.name:u)+(p&&p.constructor&&p.constructor.name?", but is "+p.constructor.name:""));return p}function w(p){throw new TypeError('abstract method "'+p+'" is not implemented')}var M=Object.freeze({__proto__:null,assert:F,requireNonNull:y,requireInstance:U,abstractMethodFail:w});var I=9007199254740991,L=-9007199254740991,_=function(){function p(){}return p.intDiv=function(s,i){var e=s/i;return e=p.roundDown(e),p.safeZero(e)},p.intMod=function(s,i){var e=s-p.intDiv(s,i)*i;return e=p.roundDown(e),p.safeZero(e)},p.roundDown=function(s){return s<0?Math.ceil(s):Math.floor(s)},p.floorDiv=function(s,i){var e=Math.floor(s/i);return p.safeZero(e)},p.floorMod=function(s,i){var e=s-p.floorDiv(s,i)*i;return p.safeZero(e)},p.safeAdd=function(s,i){if(p.verifyInt(s),p.verifyInt(i),s===0)return p.safeZero(i);if(i===0)return p.safeZero(s);var e=p.safeToInt(s+i);if(e===s||e===i)throw new l("Invalid addition beyond MAX_SAFE_INTEGER!");return e},p.safeSubtract=function(s,i){return p.verifyInt(s),p.verifyInt(i),s===0&&i===0?0:s===0?p.safeZero(-1*i):i===0?p.safeZero(s):p.safeToInt(s-i)},p.safeMultiply=function(s,i){if(p.verifyInt(s),p.verifyInt(i),s===1)return p.safeZero(i);if(i===1)return p.safeZero(s);if(s===0||i===0)return 0;var e=p.safeToInt(s*i);if(e/i!==s||s===L&&i===-1||i===L&&s===-1)throw new l("Multiplication overflows: "+s+" * "+i);return e},p.parseInt=function(u){function s(i){return u.apply(this,arguments)}return s.toString=function(){return u.toString()},s}(function(u){var s=parseInt(u);return p.safeToInt(s)}),p.safeToInt=function(s){return p.verifyInt(s),p.safeZero(s)},p.verifyInt=function(s){if(s==null)throw new l("Invalid value: '"+s+"', using null or undefined as argument");if(isNaN(s))throw new l("Invalid int value, using NaN as argument");if(s%1!==0)throw new l("Invalid value: '"+s+"' is a float");if(s>I||s<L)throw new l("Calculation overflows an int: "+s)},p.safeZero=function(s){return s===0?0:+s},p.compareNumbers=function(s,i){return s<i?-1:s>i?1:0},p.smi=function(s){return s>>>1&1073741824|s&3221225471},p.hash=function(s){if(s!==s||s===1/0)return 0;for(var i=s;s>4294967295;)s/=4294967295,i^=s;return p.smi(i)},p.hashCode=function(){for(var s=17,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];for(var c=0,m=e;c<m.length;c++){var g=m[c];s=(s<<5)-s+p.hash(g)}return p.hash(s)},p}();_.MAX_SAFE_INTEGER=I,_.MIN_SAFE_INTEGER=L;var Q=function(){function p(s){this._name=s}var u=p.prototype;return u.equals=function(i){return this===i},u.toString=function(){return this._name},u.toJSON=function(){return this.toString()},p}();var $=function(){function p(){}var u=p.prototype;return u.get=function(i){w("get")},u.units=function(){w("units")},u.addTo=function(i){w("addTo")},u.subtractFrom=function(i){w("subtractFrom")},p}();typeof Symbol<"u"&&Symbol.toPrimitive&&($.prototype[Symbol.toPrimitive]=function(p){if(p!=="number")return this.toString();throw new TypeError("A conversion from TemporalAmount to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var Z=function(){function p(){}var u=p.prototype;return u.duration=function(){w("duration")},u.isDurationEstimated=function(){w("isDurationEstimated")},u.isDateBased=function(){w("isDateBased")},u.isTimeBased=function(){w("isTimeBased")},u.isSupportedBy=function(i){w("isSupportedBy")},u.addTo=function(i,e){w("addTo")},u.between=function(i,e){w("between")},p}(),B=function(p){b(u,p);function u(i,e){var o;return o=p.call(this)||this,o._seconds=_.safeToInt(i),o._nanos=_.safeToInt(e),o}u.ofDays=function(e){return u._create(_.safeMultiply(e,D.SECONDS_PER_DAY),0)},u.ofHours=function(e){return u._create(_.safeMultiply(e,D.SECONDS_PER_HOUR),0)},u.ofMinutes=function(e){return u._create(_.safeMultiply(e,D.SECONDS_PER_MINUTE),0)},u.ofSeconds=function(e,o){o===void 0&&(o=0);var c=_.safeAdd(e,_.floorDiv(o,D.NANOS_PER_SECOND)),m=_.floorMod(o,D.NANOS_PER_SECOND);return u._create(c,m)},u.ofMillis=function(e){var o=_.intDiv(e,1e3),c=_.intMod(e,1e3);return c<0&&(c+=1e3,o--),u._create(o,c*1e6)},u.ofNanos=function(e){var o=_.intDiv(e,D.NANOS_PER_SECOND),c=_.intMod(e,D.NANOS_PER_SECOND);return c<0&&(c+=D.NANOS_PER_SECOND,o--),this._create(o,c)},u.of=function(e,o){return u.ZERO.plus(e,o)},u.from=function(e){y(e,"amount"),U(e,$);var o=u.ZERO;return e.units().forEach(function(c){o=o.plus(e.get(c),c)}),o},u.between=function(e,o){y(e,"startInclusive"),y(o,"endExclusive");var c=e.until(o,T.SECONDS),m=0;if(e.isSupported(d.NANO_OF_SECOND)&&o.isSupported(d.NANO_OF_SECOND))try{var g=e.getLong(d.NANO_OF_SECOND);if(m=o.getLong(d.NANO_OF_SECOND)-g,c>0&&m<0)m+=D.NANOS_PER_SECOND;else if(c<0&&m>0)m-=D.NANOS_PER_SECOND;else if(c===0&&m!==0){var N=o.with(d.NANO_OF_SECOND,g);c=e.until(N,T.SECONDS)}}catch{}return this.ofSeconds(c,m)},u.parse=function(e){y(e,"text");var o=new RegExp("([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?","i"),c=o.exec(e);if(c!==null&&c[3]!=="T"){var m=c[1]==="-",g=c[2],N=c[4],R=c[5],x=c[6],q=c[7];if(g!=null||N!=null||R!=null||x!=null){var H=u._parseNumber(e,g,D.SECONDS_PER_DAY,"days"),W=u._parseNumber(e,N,D.SECONDS_PER_HOUR,"hours"),le=u._parseNumber(e,R,D.SECONDS_PER_MINUTE,"minutes"),ye=u._parseNumber(e,x,1,"seconds"),ve=x!=null&&x.charAt(0)==="-",ge=u._parseFraction(e,q,ve?-1:1);try{return u._create(m,H,W,le,ye,ge)}catch(Ue){throw new a("Text cannot be parsed to a Duration: overflow",e,0,Ue)}}}throw new a("Text cannot be parsed to a Duration",e,0)},u._parseNumber=function(e,o,c,m){if(o==null)return 0;try{return o[0]==="+"&&(o=o.substring(1)),_.safeMultiply(parseFloat(o),c)}catch(g){throw new a("Text cannot be parsed to a Duration: "+m,e,0,g)}},u._parseFraction=function(e,o,c){return o==null||o.length===0?0:(o=(o+"000000000").substring(0,9),parseFloat(o)*c)},u._create=function(){return arguments.length<=2?u._createSecondsNanos(arguments[0],arguments[1]):u._createNegateDaysHoursMinutesSecondsNanos(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},u._createNegateDaysHoursMinutesSecondsNanos=function(e,o,c,m,g,N){var R=_.safeAdd(o,_.safeAdd(c,_.safeAdd(m,g)));return e?u.ofSeconds(R,N).negated():u.ofSeconds(R,N)},u._createSecondsNanos=function(e,o){return e===void 0&&(e=0),o===void 0&&(o=0),e===0&&o===0?u.ZERO:new u(e,o)};var s=u.prototype;return s.get=function(e){if(e===T.SECONDS)return this._seconds;if(e===T.NANOS)return this._nanos;throw new f("Unsupported unit: "+e)},s.units=function(){return[T.SECONDS,T.NANOS]},s.isZero=function(){return this._seconds===0&&this._nanos===0},s.isNegative=function(){return this._seconds<0},s.seconds=function(){return this._seconds},s.nano=function(){return this._nanos},s.withSeconds=function(e){return u._create(e,this._nanos)},s.withNanos=function(e){return d.NANO_OF_SECOND.checkValidIntValue(e),u._create(this._seconds,e)},s.plusDuration=function(e){return y(e,"duration"),this.plus(e.seconds(),e.nano())},s.plus=function(e,o){return arguments.length===1?this.plusDuration(e):arguments.length===2&&o instanceof Z?this.plusAmountUnit(e,o):this.plusSecondsNanos(e,o)},s.plusAmountUnit=function(e,o){if(y(e,"amountToAdd"),y(o,"unit"),o===T.DAYS)return this.plusSecondsNanos(_.safeMultiply(e,D.SECONDS_PER_DAY),0);if(o.isDurationEstimated())throw new f("Unit must not have an estimated duration");if(e===0)return this;if(o instanceof T){switch(o){case T.NANOS:return this.plusNanos(e);case T.MICROS:return this.plusSecondsNanos(_.intDiv(e,1e6*1e3)*1e3,_.intMod(e,1e6*1e3)*1e3);case T.MILLIS:return this.plusMillis(e);case T.SECONDS:return this.plusSeconds(e)}return this.plusSecondsNanos(_.safeMultiply(o.duration().seconds(),e),0)}var c=o.duration().multipliedBy(e);return this.plusSecondsNanos(c.seconds(),c.nano())},s.plusDays=function(e){return this.plusSecondsNanos(_.safeMultiply(e,D.SECONDS_PER_DAY),0)},s.plusHours=function(e){return this.plusSecondsNanos(_.safeMultiply(e,D.SECONDS_PER_HOUR),0)},s.plusMinutes=function(e){return this.plusSecondsNanos(_.safeMultiply(e,D.SECONDS_PER_MINUTE),0)},s.plusSeconds=function(e){return this.plusSecondsNanos(e,0)},s.plusMillis=function(e){return this.plusSecondsNanos(_.intDiv(e,1e3),_.intMod(e,1e3)*1e6)},s.plusNanos=function(e){return this.plusSecondsNanos(0,e)},s.plusSecondsNanos=function(e,o){if(y(e,"secondsToAdd"),y(o,"nanosToAdd"),e===0&&o===0)return this;var c=_.safeAdd(this._seconds,e);c=_.safeAdd(c,_.intDiv(o,D.NANOS_PER_SECOND)),o=_.intMod(o,D.NANOS_PER_SECOND);var m=_.safeAdd(this._nanos,o);return u.ofSeconds(c,m)},s.minus=function(e,o){return arguments.length===1?this.minusDuration(e):this.minusAmountUnit(e,o)},s.minusDuration=function(e){y(e,"duration");var o=e.seconds(),c=e.nano();return o===L?this.plus(I,-c):this.plus(-o,-c)},s.minusAmountUnit=function(e,o){return y(e,"amountToSubtract"),y(o,"unit"),e===L?this.plusAmountUnit(I,o):this.plusAmountUnit(-e,o)},s.minusDays=function(e){return e===L?this.plusDays(I):this.plusDays(-e)},s.minusHours=function(e){return e===L?this.plusHours(I):this.plusHours(-e)},s.minusMinutes=function(e){return e===L?this.plusMinutes(I):this.plusMinutes(-e)},s.minusSeconds=function(e){return e===L?this.plusSeconds(I):this.plusSeconds(-e)},s.minusMillis=function(e){return e===L?this.plusMillis(I):this.plusMillis(-e)},s.minusNanos=function(e){return e===L?this.plusNanos(I):this.plusNanos(-e)},s.multipliedBy=function(e){if(e===0)return u.ZERO;if(e===1)return this;var o=_.safeMultiply(this._seconds,e),c=_.safeMultiply(this._nanos,e);return o=o+_.intDiv(c,D.NANOS_PER_SECOND),c=_.intMod(c,D.NANOS_PER_SECOND),u.ofSeconds(o,c)},s.dividedBy=function(e){if(e===0)throw new l("Cannot divide by zero");if(e===1)return this;var o=_.intDiv(this._seconds,e),c=_.roundDown((this._seconds/e-o)*D.NANOS_PER_SECOND),m=_.intDiv(this._nanos,e);return m=c+m,u.ofSeconds(o,m)},s.negated=function(){return this.multipliedBy(-1)},s.abs=function(){return this.isNegative()?this.negated():this},s.addTo=function(e){return y(e,"temporal"),this._seconds!==0&&(e=e.plus(this._seconds,T.SECONDS)),this._nanos!==0&&(e=e.plus(this._nanos,T.NANOS)),e},s.subtractFrom=function(e){return y(e,"temporal"),this._seconds!==0&&(e=e.minus(this._seconds,T.SECONDS)),this._nanos!==0&&(e=e.minus(this._nanos,T.NANOS)),e},s.toDays=function(){return _.intDiv(this._seconds,D.SECONDS_PER_DAY)},s.toHours=function(){return _.intDiv(this._seconds,D.SECONDS_PER_HOUR)},s.toMinutes=function(){return _.intDiv(this._seconds,D.SECONDS_PER_MINUTE)},s.toMillis=function(){var e=Math.round(_.safeMultiply(this._seconds,1e3));return e=_.safeAdd(e,_.intDiv(this._nanos,1e6)),e},s.toNanos=function(){var e=_.safeMultiply(this._seconds,D.NANOS_PER_SECOND);return e=_.safeAdd(e,this._nanos),e},s.compareTo=function(e){y(e,"otherDuration"),U(e,u,"otherDuration");var o=_.compareNumbers(this._seconds,e.seconds());return o!==0?o:this._nanos-e.nano()},s.equals=function(e){return this===e?!0:e instanceof u?this.seconds()===e.seconds()&&this.nano()===e.nano():!1},s.toString=function(){if(this===u.ZERO)return"PT0S";var e=_.intDiv(this._seconds,D.SECONDS_PER_HOUR),o=_.intDiv(_.intMod(this._seconds,D.SECONDS_PER_HOUR),D.SECONDS_PER_MINUTE),c=_.intMod(this._seconds,D.SECONDS_PER_MINUTE),m="PT";if(e!==0&&(m+=e+"H"),o!==0&&(m+=o+"M"),c===0&&this._nanos===0&&m.length>2)return m;if(c<0&&this._nanos>0?c===-1?m+="-0":m+=c+1:m+=c,this._nanos>0){m+=".";var g;for(c<0?g=""+(2*D.NANOS_PER_SECOND-this._nanos):g=""+(D.NANOS_PER_SECOND+this._nanos),g=g.slice(1,g.length),m+=g;m.charAt(m.length-1)==="0";)m=m.slice(0,m.length-1)}return m+="S",m},s.toJSON=function(){return this.toString()},u}($);function zr(){B.ZERO=new B(0,0)}var be=function(){};function $n(){be.MIN_VALUE=-999999,be.MAX_VALUE=999999}var T=function(p){b(u,p);function u(i,e){var o;return o=p.call(this)||this,o._name=i,o._duration=e,o}var s=u.prototype;return s.duration=function(){return this._duration},s.isDurationEstimated=function(){return this.isDateBased()||this===u.FOREVER},s.isDateBased=function(){return this.compareTo(u.DAYS)>=0&&this!==u.FOREVER},s.isTimeBased=function(){return this.compareTo(u.DAYS)<0},s.isSupportedBy=function(e){if(this===u.FOREVER)return!1;try{return e.plus(1,this),!0}catch{try{return e.plus(-1,this),!0}catch{return!1}}},s.addTo=function(e,o){return e.plus(o,this)},s.between=function(e,o){return e.until(o,this)},s.toString=function(){return this._name},s.compareTo=function(e){return this.duration().compareTo(e.duration())},u}(Z);function an(){T.NANOS=new T("Nanos",B.ofNanos(1)),T.MICROS=new T("Micros",B.ofNanos(1e3)),T.MILLIS=new T("Millis",B.ofNanos(1e6)),T.SECONDS=new T("Seconds",B.ofSeconds(1)),T.MINUTES=new T("Minutes",B.ofSeconds(60)),T.HOURS=new T("Hours",B.ofSeconds(3600)),T.HALF_DAYS=new T("HalfDays",B.ofSeconds(43200)),T.DAYS=new T("Days",B.ofSeconds(86400)),T.WEEKS=new T("Weeks",B.ofSeconds(7*86400)),T.MONTHS=new T("Months",B.ofSeconds(31556952/12)),T.YEARS=new T("Years",B.ofSeconds(31556952)),T.DECADES=new T("Decades",B.ofSeconds(31556952*10)),T.CENTURIES=new T("Centuries",B.ofSeconds(31556952*100)),T.MILLENNIA=new T("Millennia",B.ofSeconds(31556952*1e3)),T.ERAS=new T("Eras",B.ofSeconds(31556952*(be.MAX_VALUE+1))),T.FOREVER=new T("Forever",B.ofSeconds(_.MAX_SAFE_INTEGER,999999999))}var Ge=function(){function p(){}var u=p.prototype;return u.isDateBased=function(){w("isDateBased")},u.isTimeBased=function(){w("isTimeBased")},u.baseUnit=function(){w("baseUnit")},u.rangeUnit=function(){w("rangeUnit")},u.range=function(){w("range")},u.rangeRefinedBy=function(i){w("rangeRefinedBy")},u.getFrom=function(i){w("getFrom")},u.adjustInto=function(i,e){w("adjustInto")},u.isSupportedBy=function(i){w("isSupportedBy")},u.displayName=function(){w("displayName")},u.equals=function(i){w("equals")},u.name=function(){w("name")},p}();var K=function(){function p(s,i,e,o){F(!(s>i),"Smallest minimum value '"+s+"' must be less than largest minimum value '"+i+"'",h),F(!(e>o),"Smallest maximum value '"+e+"' must be less than largest maximum value '"+o+"'",h),F(!(i>o),"Minimum value '"+i+"' must be less than maximum value '"+o+"'",h),this._minSmallest=s,this._minLargest=i,this._maxLargest=o,this._maxSmallest=e}var u=p.prototype;return u.isFixed=function(){return this._minSmallest===this._minLargest&&this._maxSmallest===this._maxLargest},u.minimum=function(){return this._minSmallest},u.largestMinimum=function(){return this._minLargest},u.maximum=function(){return this._maxLargest},u.smallestMaximum=function(){return this._maxSmallest},u.isValidValue=function(i){return this.minimum()<=i&&i<=this.maximum()},u.checkValidValue=function(i,e){var o;return this.isValidValue(i)?i:(e!=null?o="Invalid value for "+e+" (valid values "+this.toString()+"): "+i:o="Invalid value (valid values "+this.toString()+"): "+i,F(!1,o,r))},u.checkValidIntValue=function(i,e){if(this.isValidIntValue(i)===!1)throw new r("Invalid int value for "+e+": "+i);return i},u.isValidIntValue=function(i){return this.isIntValue()&&this.isValidValue(i)},u.isIntValue=function(){return this.minimum()>=_.MIN_SAFE_INTEGER&&this.maximum()<=_.MAX_SAFE_INTEGER},u.equals=function(i){return i===this?!0:i instanceof p?this._minSmallest===i._minSmallest&&this._minLargest===i._minLargest&&this._maxSmallest===i._maxSmallest&&this._maxLargest===i._maxLargest:!1},u.hashCode=function(){return _.hashCode(this._minSmallest,this._minLargest,this._maxSmallest,this._maxLargest)},u.toString=function(){var i=this.minimum()+(this.minimum()!==this.largestMinimum()?"/"+this.largestMinimum():"");return i+=" - ",i+=this.smallestMaximum()+(this.smallestMaximum()!==this.maximum()?"/"+this.maximum():""),i},p.of=function(){return arguments.length===2?new p(arguments[0],arguments[0],arguments[1],arguments[1]):arguments.length===3?new p(arguments[0],arguments[0],arguments[1],arguments[2]):arguments.length===4?new p(arguments[0],arguments[1],arguments[2],arguments[3]):F(!1,"Invalid number of arguments "+arguments.length,h)},p}(),d=function(p){b(u,p),u.byName=function(e){for(var o in u)if(u[o]&&u[o]instanceof u&&u[o].name()===e)return u[o]};function u(i,e,o,c){var m;return m=p.call(this)||this,m._name=i,m._baseUnit=e,m._rangeUnit=o,m._range=c,m}var s=u.prototype;return s.name=function(){return this._name},s.baseUnit=function(){return this._baseUnit},s.rangeUnit=function(){return this._rangeUnit},s.range=function(){return this._range},s.displayName=function(){return this.toString()},s.checkValidValue=function(e){return this.range().checkValidValue(e,this)},s.checkValidIntValue=function(e){return this.range().checkValidIntValue(e,this)},s.isDateBased=function(){var e=this===u.DAY_OF_WEEK||this===u.ALIGNED_DAY_OF_WEEK_IN_MONTH||this===u.ALIGNED_DAY_OF_WEEK_IN_YEAR||this===u.DAY_OF_MONTH||this===u.DAY_OF_YEAR||this===u.EPOCH_DAY||this===u.ALIGNED_WEEK_OF_MONTH||this===u.ALIGNED_WEEK_OF_YEAR||this===u.MONTH_OF_YEAR||this===u.PROLEPTIC_MONTH||this===u.YEAR_OF_ERA||this===u.YEAR||this===u.ERA;return e},s.isTimeBased=function(){var e=this===u.NANO_OF_SECOND||this===u.NANO_OF_DAY||this===u.MICRO_OF_SECOND||this===u.MICRO_OF_DAY||this===u.MILLI_OF_SECOND||this===u.MILLI_OF_DAY||this===u.SECOND_OF_MINUTE||this===u.SECOND_OF_DAY||this===u.MINUTE_OF_HOUR||this===u.MINUTE_OF_DAY||this===u.HOUR_OF_AMPM||this===u.CLOCK_HOUR_OF_AMPM||this===u.HOUR_OF_DAY||this===u.CLOCK_HOUR_OF_DAY||this===u.AMPM_OF_DAY;return e},s.rangeRefinedBy=function(e){return e.range(this)},s.getFrom=function(e){return e.getLong(this)},s.toString=function(){return this.name()},s.equals=function(e){return this===e},s.adjustInto=function(e,o){return e.with(this,o)},s.isSupportedBy=function(e){return e.isSupported(this)},u}(Ge);function VT(){d.NANO_OF_SECOND=new d("NanoOfSecond",T.NANOS,T.SECONDS,K.of(0,999999999)),d.NANO_OF_DAY=new d("NanoOfDay",T.NANOS,T.DAYS,K.of(0,86400*1e9-1)),d.MICRO_OF_SECOND=new d("MicroOfSecond",T.MICROS,T.SECONDS,K.of(0,999999)),d.MICRO_OF_DAY=new d("MicroOfDay",T.MICROS,T.DAYS,K.of(0,86400*1e6-1)),d.MILLI_OF_SECOND=new d("MilliOfSecond",T.MILLIS,T.SECONDS,K.of(0,999)),d.MILLI_OF_DAY=new d("MilliOfDay",T.MILLIS,T.DAYS,K.of(0,86400*1e3-1)),d.SECOND_OF_MINUTE=new d("SecondOfMinute",T.SECONDS,T.MINUTES,K.of(0,59)),d.SECOND_OF_DAY=new d("SecondOfDay",T.SECONDS,T.DAYS,K.of(0,86400-1)),d.MINUTE_OF_HOUR=new d("MinuteOfHour",T.MINUTES,T.HOURS,K.of(0,59)),d.MINUTE_OF_DAY=new d("MinuteOfDay",T.MINUTES,T.DAYS,K.of(0,24*60-1)),d.HOUR_OF_AMPM=new d("HourOfAmPm",T.HOURS,T.HALF_DAYS,K.of(0,11)),d.CLOCK_HOUR_OF_AMPM=new d("ClockHourOfAmPm",T.HOURS,T.HALF_DAYS,K.of(1,12)),d.HOUR_OF_DAY=new d("HourOfDay",T.HOURS,T.DAYS,K.of(0,23)),d.CLOCK_HOUR_OF_DAY=new d("ClockHourOfDay",T.HOURS,T.DAYS,K.of(1,24)),d.AMPM_OF_DAY=new d("AmPmOfDay",T.HALF_DAYS,T.DAYS,K.of(0,1)),d.DAY_OF_WEEK=new d("DayOfWeek",T.DAYS,T.WEEKS,K.of(1,7)),d.ALIGNED_DAY_OF_WEEK_IN_MONTH=new d("AlignedDayOfWeekInMonth",T.DAYS,T.WEEKS,K.of(1,7)),d.ALIGNED_DAY_OF_WEEK_IN_YEAR=new d("AlignedDayOfWeekInYear",T.DAYS,T.WEEKS,K.of(1,7)),d.DAY_OF_MONTH=new d("DayOfMonth",T.DAYS,T.MONTHS,K.of(1,28,31),"day"),d.DAY_OF_YEAR=new d("DayOfYear",T.DAYS,T.YEARS,K.of(1,365,366)),d.EPOCH_DAY=new d("EpochDay",T.DAYS,T.FOREVER,K.of(-365961662,364522971)),d.ALIGNED_WEEK_OF_MONTH=new d("AlignedWeekOfMonth",T.WEEKS,T.MONTHS,K.of(1,4,5)),d.ALIGNED_WEEK_OF_YEAR=new d("AlignedWeekOfYear",T.WEEKS,T.YEARS,K.of(1,53)),d.MONTH_OF_YEAR=new d("MonthOfYear",T.MONTHS,T.YEARS,K.of(1,12),"month"),d.PROLEPTIC_MONTH=new d("ProlepticMonth",T.MONTHS,T.FOREVER,K.of(be.MIN_VALUE*12,be.MAX_VALUE*12+11)),d.YEAR_OF_ERA=new d("YearOfEra",T.YEARS,T.FOREVER,K.of(1,be.MAX_VALUE,be.MAX_VALUE+1)),d.YEAR=new d("Year",T.YEARS,T.FOREVER,K.of(be.MIN_VALUE,be.MAX_VALUE),"year"),d.ERA=new d("Era",T.ERAS,T.FOREVER,K.of(0,1)),d.INSTANT_SECONDS=new d("InstantSeconds",T.SECONDS,T.FOREVER,K.of(L,I)),d.OFFSET_SECONDS=new d("OffsetSeconds",T.SECONDS,T.FOREVER,K.of(-18*3600,18*3600))}var P=function(){function p(){}return p.zoneId=function(){return p.ZONE_ID},p.chronology=function(){return p.CHRONO},p.precision=function(){return p.PRECISION},p.zone=function(){return p.ZONE},p.offset=function(){return p.OFFSET},p.localDate=function(){return p.LOCAL_DATE},p.localTime=function(){return p.LOCAL_TIME},p}();var St=function(){function p(){}var u=p.prototype;return u.query=function(i){return i===P.zoneId()||i===P.chronology()||i===P.precision()?null:i.queryFrom(this)},u.get=function(i){return this.range(i).checkValidIntValue(this.getLong(i),i)},u.getLong=function(i){w("getLong")},u.range=function(i){if(i instanceof d){if(this.isSupported(i))return i.range();throw new f("Unsupported field: "+i)}return i.rangeRefinedBy(this)},u.isSupported=function(i){w("isSupported")},p}(),un=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.queryFrom=function(e){w("queryFrom")},u}(Q);function we(p,u){var s=function(i){b(e,i);function e(){return i.apply(this,arguments)||this}return e}(un);return s.prototype.queryFrom=u,new s(p)}var he=function(p){b(u,p);function u(i,e){var o;return o=p.call(this)||this,o._ordinal=i,o._name=e,o}var s=u.prototype;return s.ordinal=function(){return this._ordinal},s.name=function(){return this._name},u.values=function(){return fn.slice()},u.valueOf=function(e){var o=0;for(o;o<fn.length&&fn[o].name()!==e;o++);return u.of(o+1)},u.of=function(e){if(e<1||e>7)throw new r("Invalid value for DayOfWeek: "+e);return fn[e-1]},u.from=function(e){if(F(e!=null,"temporal",v),e instanceof u)return e;try{return u.of(e.get(d.DAY_OF_WEEK))}catch(o){throw o instanceof r?new r("Unable to obtain DayOfWeek from TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""),o):o}},s.value=function(){return this._ordinal+1},s.displayName=function(e,o){throw new h("Pattern using (localized) text not implemented yet!")},s.isSupported=function(e){return e instanceof d?e===d.DAY_OF_WEEK:e!=null&&e.isSupportedBy(this)},s.range=function(e){if(e===d.DAY_OF_WEEK)return e.range();if(e instanceof d)throw new f("Unsupported field: "+e);return e.rangeRefinedBy(this)},s.get=function(e){return e===d.DAY_OF_WEEK?this.value():this.range(e).checkValidIntValue(this.getLong(e),e)},s.getLong=function(e){if(e===d.DAY_OF_WEEK)return this.value();if(e instanceof d)throw new f("Unsupported field: "+e);return e.getFrom(this)},s.plus=function(e){var o=_.floorMod(e,7);return fn[_.floorMod(this._ordinal+(o+7),7)]},s.minus=function(e){return this.plus(-1*_.floorMod(e,7))},s.query=function(e){return e===P.precision()?T.DAYS:e===P.localDate()||e===P.localTime()||e===P.chronology()||e===P.zone()||e===P.zoneId()||e===P.offset()?null:(F(e!=null,"query",v),e.queryFrom(this))},s.adjustInto=function(e){return y(e,"temporal"),e.with(d.DAY_OF_WEEK,this.value())},s.equals=function(e){return this===e},s.toString=function(){return this._name},s.compareTo=function(e){return y(e,"other"),U(e,u,"other"),this._ordinal-e._ordinal},s.toJSON=function(){return this.toString()},u}(St),fn;function HT(){he.MONDAY=new he(0,"MONDAY"),he.TUESDAY=new he(1,"TUESDAY"),he.WEDNESDAY=new he(2,"WEDNESDAY"),he.THURSDAY=new he(3,"THURSDAY"),he.FRIDAY=new he(4,"FRIDAY"),he.SATURDAY=new he(5,"SATURDAY"),he.SUNDAY=new he(6,"SUNDAY"),he.FROM=we("DayOfWeek.FROM",function(p){return he.from(p)}),fn=[he.MONDAY,he.TUESDAY,he.WEDNESDAY,he.THURSDAY,he.FRIDAY,he.SATURDAY,he.SUNDAY]}var G=function(p){b(u,p);function u(i,e){var o;return o=p.call(this)||this,o._value=_.safeToInt(i),o._name=e,o}var s=u.prototype;return s.value=function(){return this._value},s.ordinal=function(){return this._value-1},s.name=function(){return this._name},s.displayName=function(e,o){throw new h("Pattern using (localized) text not implemented yet!")},s.isSupported=function(e){return e===null?!1:e instanceof d?e===d.MONTH_OF_YEAR:e!=null&&e.isSupportedBy(this)},s.get=function(e){return e===d.MONTH_OF_YEAR?this.value():this.range(e).checkValidIntValue(this.getLong(e),e)},s.getLong=function(e){if(e===d.MONTH_OF_YEAR)return this.value();if(e instanceof d)throw new f("Unsupported field: "+e);return e.getFrom(this)},s.plus=function(e){var o=_.intMod(e,12)+12,c=_.intMod(this.value()+o,12);return c=c===0?12:c,u.of(c)},s.minus=function(e){return this.plus(-1*_.intMod(e,12))},s.length=function(e){switch(this){case u.FEBRUARY:return e?29:28;case u.APRIL:case u.JUNE:case u.SEPTEMBER:case u.NOVEMBER:return 30;default:return 31}},s.minLength=function(){switch(this){case u.FEBRUARY:return 28;case u.APRIL:case u.JUNE:case u.SEPTEMBER:case u.NOVEMBER:return 30;default:return 31}},s.maxLength=function(){switch(this){case u.FEBRUARY:return 29;case u.APRIL:case u.JUNE:case u.SEPTEMBER:case u.NOVEMBER:return 30;default:return 31}},s.firstDayOfYear=function(e){var o=e?1:0;switch(this){case u.JANUARY:return 1;case u.FEBRUARY:return 32;case u.MARCH:return 60+o;case u.APRIL:return 91+o;case u.MAY:return 121+o;case u.JUNE:return 152+o;case u.JULY:return 182+o;case u.AUGUST:return 213+o;case u.SEPTEMBER:return 244+o;case u.OCTOBER:return 274+o;case u.NOVEMBER:return 305+o;case u.DECEMBER:default:return 335+o}},s.firstMonthOfQuarter=function(){switch(this){case u.JANUARY:case u.FEBRUARY:case u.MARCH:return u.JANUARY;case u.APRIL:case u.MAY:case u.JUNE:return u.APRIL;case u.JULY:case u.AUGUST:case u.SEPTEMBER:return u.JULY;case u.OCTOBER:case u.NOVEMBER:case u.DECEMBER:default:return u.OCTOBER}},s.query=function(e){return F(e!=null,"query() parameter must not be null",r),e===P.chronology()?se.INSTANCE:e===P.precision()?T.MONTHS:p.prototype.query.call(this,e)},s.toString=function(){switch(this){case u.JANUARY:return"JANUARY";case u.FEBRUARY:return"FEBRUARY";case u.MARCH:return"MARCH";case u.APRIL:return"APRIL";case u.MAY:return"MAY";case u.JUNE:return"JUNE";case u.JULY:return"JULY";case u.AUGUST:return"AUGUST";case u.SEPTEMBER:return"SEPTEMBER";case u.OCTOBER:return"OCTOBER";case u.NOVEMBER:return"NOVEMBER";case u.DECEMBER:return"DECEMBER";default:return"unknown Month, value: "+this.value()}},s.toJSON=function(){return this.toString()},s.adjustInto=function(e){return e.with(d.MONTH_OF_YEAR,this.value())},s.compareTo=function(e){return y(e,"other"),U(e,u,"other"),this._value-e._value},s.equals=function(e){return this===e},u.valueOf=function(e){var o=0;for(o;o<Kn.length&&Kn[o].name()!==e;o++);return u.of(o+1)},u.values=function(){return Kn.slice()},u.of=function(e){return(e<1||e>12)&&F(!1,"Invalid value for MonthOfYear: "+e,r),Kn[e-1]},u.from=function(e){if(e instanceof u)return e;try{return u.of(e.get(d.MONTH_OF_YEAR))}catch(o){throw new r("Unable to obtain Month from TemporalAccessor: "+e+" of type "+(e&&e.constructor!=null?e.constructor.name:""),o)}},u}(St),Kn;function WT(){G.JANUARY=new G(1,"JANUARY"),G.FEBRUARY=new G(2,"FEBRUARY"),G.MARCH=new G(3,"MARCH"),G.APRIL=new G(4,"APRIL"),G.MAY=new G(5,"MAY"),G.JUNE=new G(6,"JUNE"),G.JULY=new G(7,"JULY"),G.AUGUST=new G(8,"AUGUST"),G.SEPTEMBER=new G(9,"SEPTEMBER"),G.OCTOBER=new G(10,"OCTOBER"),G.NOVEMBER=new G(11,"NOVEMBER"),G.DECEMBER=new G(12,"DECEMBER"),Kn=[G.JANUARY,G.FEBRUARY,G.MARCH,G.APRIL,G.MAY,G.JUNE,G.JULY,G.AUGUST,G.SEPTEMBER,G.OCTOBER,G.NOVEMBER,G.DECEMBER]}var GT=/([-+]?)P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?/,lt=function(p){b(u,p);function u(i,e,o){var c;c=p.call(this)||this;var m=_.safeToInt(i),g=_.safeToInt(e),N=_.safeToInt(o);return m===0&&g===0&&N===0?(u.ZERO||(c._years=m,c._months=g,c._days=N,u.ZERO=Y(c)),u.ZERO||Y(c)):(c._years=m,c._months=g,c._days=N,c)}u.ofYears=function(e){return u.create(e,0,0)},u.ofMonths=function(e){return u.create(0,e,0)},u.ofWeeks=function(e){return u.create(0,0,_.safeMultiply(e,7))},u.ofDays=function(e){return u.create(0,0,e)},u.of=function(e,o,c){return u.create(e,o,c)},u.from=function(e){if(e instanceof u)return e;y(e,"amount");for(var o=0,c=0,m=0,g=e.units(),N=0;N<g.length;N++){var R=g[N],x=e.get(R);if(R===T.YEARS)o=_.safeToInt(x);else if(R===T.MONTHS)c=_.safeToInt(x);else if(R===T.DAYS)m=_.safeToInt(x);else throw new r("Unit must be Years, Months or Days, but was "+R)}return u.create(o,c,m)},u.between=function(e,o){return y(e,"startDate"),y(o,"endDate"),U(e,k,"startDate"),U(o,k,"endDate"),e.until(o)},u.parse=function(e){y(e,"text");try{return u._parse(e)}catch(o){throw o instanceof l?new a("Text cannot be parsed to a Period",e,0,o):o}},u._parse=function(e){var o=GT.exec(e);if(o!=null){var c=o[1]==="-"?-1:1,m=o[2],g=o[3],N=o[4],R=o[5];if(m!=null||g!=null||N!=null||R!=null){var x=u._parseNumber(e,m,c),q=u._parseNumber(e,g,c),H=u._parseNumber(e,N,c),W=u._parseNumber(e,R,c);return W=_.safeAdd(W,_.safeMultiply(H,7)),u.create(x,q,W)}}throw new a("Text cannot be parsed to a Period",e,0)},u._parseNumber=function(e,o,c){if(o==null)return 0;var m=_.parseInt(o);return _.safeMultiply(m,c)},u.create=function(e,o,c){return new u(e,o,c)};var s=u.prototype;return s.units=function(){return[T.YEARS,T.MONTHS,T.DAYS]},s.chronology=function(){return se.INSTANCE},s.get=function(e){if(e===T.YEARS)return this._years;if(e===T.MONTHS)return this._months;if(e===T.DAYS)return this._days;throw new f("Unsupported unit: "+e)},s.isZero=function(){return this===u.ZERO},s.isNegative=function(){return this._years<0||this._months<0||this._days<0},s.years=function(){return this._years},s.months=function(){return this._months},s.days=function(){return this._days},s.withYears=function(e){return e===this._years?this:u.create(e,this._months,this._days)},s.withMonths=function(e){return e===this._months?this:u.create(this._years,e,this._days)},s.withDays=function(e){return e===this._days?this:u.create(this._years,this._months,e)},s.plus=function(e){var o=u.from(e);return u.create(_.safeAdd(this._years,o._years),_.safeAdd(this._months,o._months),_.safeAdd(this._days,o._days))},s.plusYears=function(e){return e===0?this:u.create(_.safeToInt(_.safeAdd(this._years,e)),this._months,this._days)},s.plusMonths=function(e){return e===0?this:u.create(this._years,_.safeToInt(_.safeAdd(this._months,e)),this._days)},s.plusDays=function(e){return e===0?this:u.create(this._years,this._months,_.safeToInt(_.safeAdd(this._days,e)))},s.minus=function(e){var o=u.from(e);return u.create(_.safeSubtract(this._years,o._years),_.safeSubtract(this._months,o._months),_.safeSubtract(this._days,o._days))},s.minusYears=function(e){return this.plusYears(-1*e)},s.minusMonths=function(e){return this.plusMonths(-1*e)},s.minusDays=function(e){return this.plusDays(-1*e)},s.multipliedBy=function(e){return this===u.ZERO||e===1?this:u.create(_.safeMultiply(this._years,e),_.safeMultiply(this._months,e),_.safeMultiply(this._days,e))},s.negated=function(){return this.multipliedBy(-1)},s.normalized=function(){var e=this.toTotalMonths(),o=_.intDiv(e,12),c=_.intMod(e,12);return o===this._years&&c===this._months?this:u.create(_.safeToInt(o),c,this._days)},s.toTotalMonths=function(){return this._years*12+this._months},s.addTo=function(e){return y(e,"temporal"),this._years!==0?this._months!==0?e=e.plus(this.toTotalMonths(),T.MONTHS):e=e.plus(this._years,T.YEARS):this._months!==0&&(e=e.plus(this._months,T.MONTHS)),this._days!==0&&(e=e.plus(this._days,T.DAYS)),e},s.subtractFrom=function(e){return y(e,"temporal"),this._years!==0?this._months!==0?e=e.minus(this.toTotalMonths(),T.MONTHS):e=e.minus(this._years,T.YEARS):this._months!==0&&(e=e.minus(this._months,T.MONTHS)),this._days!==0&&(e=e.minus(this._days,T.DAYS)),e},s.equals=function(e){if(this===e)return!0;if(e instanceof u){var o=e;return this._years===o._years&&this._months===o._months&&this._days===o._days}return!1},s.hashCode=function(){return _.hashCode(this._years,this._months,this._days)},s.toString=function(){if(this===u.ZERO)return"P0D";var e="P";return this._years!==0&&(e+=this._years+"Y"),this._months!==0&&(e+=this._months+"M"),this._days!==0&&(e+=this._days+"D"),e},s.toJSON=function(){return this.toString()},u}($);function $T(){lt.ofDays(0)}var ea=function(){function p(s){this._index=s,this._errorIndex=-1}var u=p.prototype;return u.getIndex=function(){return this._index},u.setIndex=function(i){this._index=i},u.getErrorIndex=function(){return this._errorIndex},u.setErrorIndex=function(i){this._errorIndex=i},p}();var Ac=function(){function p(){this._map={}}var u=p.prototype;return u.putAll=function(i){for(var e in i._map)this._map[e]=i._map[e];return this},u.containsKey=function(i){return this._map.hasOwnProperty(i.name())&&this.get(i)!==void 0},u.get=function(i){return this._map[i.name()]},u.put=function(i,e){return this.set(i,e)},u.set=function(i,e){return this._map[i.name()]=e,this},u.retainAll=function(i){for(var e={},o=0;o<i.length;o++){var c=i[o].name();e[c]=this._map[c]}return this._map=e,this},u.remove=function(i){var e=i.name(),o=this._map[e];return this._map[e]=void 0,o},u.keySet=function(){return this._map},u.clear=function(){this._map={}},p}(),j=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}return u}(Q);j.STRICT=new j("STRICT"),j.SMART=new j("SMART"),j.LENIENT=new j("LENIENT");var xe=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.isSupported=function(e){w("isSupported")},s.minus=function(e,o){return arguments.length<2?this._minusAmount(e):this._minusUnit(e,o)},s._minusAmount=function(e){return y(e,"amount"),U(e,$,"amount"),e.subtractFrom(this)},s._minusUnit=function(e,o){return y(e,"amountToSubtract"),y(o,"unit"),U(o,Z,"unit"),this._plusUnit(-e,o)},s.plus=function(e,o){return arguments.length<2?this._plusAmount(e):this._plusUnit(e,o)},s._plusAmount=function(e){return y(e,"amount"),U(e,$,"amount"),e.addTo(this)},s._plusUnit=function(e,o){w("_plusUnit")},s.until=function(e,o){w("until")},s.with=function(e,o){return arguments.length<2?this._withAdjuster(e):this._withField(e,o)},s._withAdjuster=function(e){return y(e,"adjuster"),F(typeof e.adjustInto=="function","adjuster must be a TemporalAdjuster",h),e.adjustInto(this)},s._withField=function(e,o){w("_withField")},u}(St);typeof Symbol<"u"&&Symbol.toPrimitive&&(xe.prototype[Symbol.toPrimitive]=function(p){if(p!=="number")return this.toString();throw new TypeError("A conversion from Temporal to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var ln=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.isSupported=function(e){return e instanceof d||e instanceof T?e.isDateBased():e!=null&&e.isSupportedBy(this)},s.query=function(e){return e===P.chronology()?this.chronology():e===P.precision()?T.DAYS:e===P.localDate()?k.ofEpochDay(this.toEpochDay()):e===P.localTime()||e===P.zone()||e===P.zoneId()||e===P.offset()?null:p.prototype.query.call(this,e)},s.adjustInto=function(e){return e.with(d.EPOCH_DAY,this.toEpochDay())},s.format=function(e){return y(e,"formatter"),U(e,X,"formatter"),e.format(this)},u}(xe);var ct=function(){function p(){}return p.startsWith=function(s,i){return s.indexOf(i)===0},p.hashCode=function(s){var i=s.length;if(i===0)return 0;for(var e=0,o=0;o<i;o++){var c=s.charCodeAt(o);e=(e<<5)-e+c,e|=0}return _.smi(e)},p}();var oe=function(){function p(){}p.systemDefault=function(){throw new r("not supported operation")},p.getAvailableZoneIds=function(){throw new r("not supported operation")},p.of=function(i){throw new r("not supported operation"+i)},p.ofOffset=function(i,e){throw new r("not supported operation"+i+e)},p.from=function(i){throw new r("not supported operation"+i)};var u=p.prototype;return u.id=function(){w("ZoneId.id")},u.rules=function(){w("ZoneId.rules")},u.normalized=function(){var i=this.rules();return i.isFixedOffset()?i.offset(de.EPOCH):this},u.equals=function(i){return this===i?!0:i instanceof p?this.id()===i.id():!1},u.hashCode=function(){return ct.hashCode(this.id())},u.toString=function(){return this.id()},u.toJSON=function(){return this.toString()},p}(),zn=function(){function p(){}p.of=function(i){return y(i,"offset"),new KT(i)};var u=p.prototype;return u.isFixedOffset=function(){w("ZoneRules.isFixedOffset")},u.offset=function(i){return i instanceof de?this.offsetOfInstant(i):this.offsetOfLocalDateTime(i)},u.offsetOfInstant=function(i){w("ZoneRules.offsetInstant")},u.offsetOfEpochMilli=function(i){w("ZoneRules.offsetOfEpochMilli")},u.offsetOfLocalDateTime=function(i){w("ZoneRules.offsetLocalDateTime")},u.validOffsets=function(i){w("ZoneRules.validOffsets")},u.transition=function(i){w("ZoneRules.transition")},u.standardOffset=function(i){w("ZoneRules.standardOffset")},u.daylightSavings=function(i){w("ZoneRules.daylightSavings")},u.isDaylightSavings=function(i){w("ZoneRules.isDaylightSavings")},u.isValidOffset=function(i,e){w("ZoneRules.isValidOffset")},u.nextTransition=function(i){w("ZoneRules.nextTransition")},u.previousTransition=function(i){w("ZoneRules.previousTransition")},u.transitions=function(){w("ZoneRules.transitions")},u.transitionRules=function(){w("ZoneRules.transitionRules")},u.toString=function(){w("ZoneRules.toString")},u.toJSON=function(){return this.toString()},p}(),KT=function(p){b(u,p);function u(i){var e;return e=p.call(this)||this,e._offset=i,e}var s=u.prototype;return s.isFixedOffset=function(){return!0},s.offsetOfInstant=function(){return this._offset},s.offsetOfEpochMilli=function(){return this._offset},s.offsetOfLocalDateTime=function(){return this._offset},s.validOffsets=function(){return[this._offset]},s.transition=function(){return null},s.standardOffset=function(){return this._offset},s.daylightSavings=function(){return B.ZERO},s.isDaylightSavings=function(){return!1},s.isValidOffset=function(e,o){return this._offset.equals(o)},s.nextTransition=function(){return null},s.previousTransition=function(){return null},s.transitions=function(){return[]},s.transitionRules=function(){return[]},s.equals=function(e){return this===e?!0:e instanceof u?this._offset.equals(e._offset):!1},s.toString=function(){return"FixedRules:"+this._offset.toString()},u}(zn),Dc={},bc={},z=function(p){b(u,p);function u(i){var e;return e=p.call(this)||this,u._validateTotalSeconds(i),e._totalSeconds=_.safeToInt(i),e._rules=zn.of(Y(e)),e._id=u._buildId(i),e}var s=u.prototype;return s.totalSeconds=function(){return this._totalSeconds},s.id=function(){return this._id},u._buildId=function(e){if(e===0)return"Z";var o=Math.abs(e),c=_.intDiv(o,D.SECONDS_PER_HOUR),m=_.intMod(_.intDiv(o,D.SECONDS_PER_MINUTE),D.MINUTES_PER_HOUR),g=(e<0?"-":"+")+(c<10?"0":"")+c+(m<10?":0":":")+m,N=_.intMod(o,D.SECONDS_PER_MINUTE);return N!==0&&(g+=(N<10?":0":":")+N),g},u._validateTotalSeconds=function(e){if(Math.abs(e)>u.MAX_SECONDS)throw new r("Zone offset not in valid range: -18:00 to +18:00")},u._validate=function(e,o,c){if(e<-18||e>18)throw new r("Zone offset hours not in valid range: value "+e+" is not in the range -18 to 18");if(e>0){if(o<0||c<0)throw new r("Zone offset minutes and seconds must be positive because hours is positive")}else if(e<0){if(o>0||c>0)throw new r("Zone offset minutes and seconds must be negative because hours is negative")}else if(o>0&&c<0||o<0&&c>0)throw new r("Zone offset minutes and seconds must have the same sign");if(Math.abs(o)>59)throw new r("Zone offset minutes not in valid range: abs(value) "+Math.abs(o)+" is not in the range 0 to 59");if(Math.abs(c)>59)throw new r("Zone offset seconds not in valid range: abs(value) "+Math.abs(c)+" is not in the range 0 to 59");if(Math.abs(e)===18&&(Math.abs(o)>0||Math.abs(c)>0))throw new r("Zone offset not in valid range: -18:00 to +18:00")},u.of=function(e){y(e,"offsetId");var o=bc[e];if(o!=null)return o;var c,m,g;switch(e.length){case 2:e=e[0]+"0"+e[1];case 3:c=u._parseNumber(e,1,!1),m=0,g=0;break;case 5:c=u._parseNumber(e,1,!1),m=u._parseNumber(e,3,!1),g=0;break;case 6:c=u._parseNumber(e,1,!1),m=u._parseNumber(e,4,!0),g=0;break;case 7:c=u._parseNumber(e,1,!1),m=u._parseNumber(e,3,!1),g=u._parseNumber(e,5,!1);break;case 9:c=u._parseNumber(e,1,!1),m=u._parseNumber(e,4,!0),g=u._parseNumber(e,7,!0);break;default:throw new r("Invalid ID for ZoneOffset, invalid format: "+e)}var N=e[0];if(N!=="+"&&N!=="-")throw new r("Invalid ID for ZoneOffset, plus/minus not found when expected: "+e);return N==="-"?u.ofHoursMinutesSeconds(-c,-m,-g):u.ofHoursMinutesSeconds(c,m,g)},u._parseNumber=function(e,o,c){if(c&&e[o-1]!==":")throw new r("Invalid ID for ZoneOffset, colon not found when expected: "+e);var m=e[o],g=e[o+1];if(m<"0"||m>"9"||g<"0"||g>"9")throw new r("Invalid ID for ZoneOffset, non numeric characters found: "+e);return(m.charCodeAt(0)-48)*10+(g.charCodeAt(0)-48)},u.ofHours=function(e){return u.ofHoursMinutesSeconds(e,0,0)},u.ofHoursMinutes=function(e,o){return u.ofHoursMinutesSeconds(e,o,0)},u.ofHoursMinutesSeconds=function(e,o,c){u._validate(e,o,c);var m=e*D.SECONDS_PER_HOUR+o*D.SECONDS_PER_MINUTE+c;return u.ofTotalSeconds(m)},u.ofTotalMinutes=function(e){var o=e*D.SECONDS_PER_MINUTE;return u.ofTotalSeconds(o)},u.ofTotalSeconds=function(e){if(e%(15*D.SECONDS_PER_MINUTE)===0){var o=e,c=Dc[o];return c==null&&(c=new u(e),Dc[o]=c,bc[c.id()]=c),c}else return new u(e)},s.rules=function(){return this._rules},s.get=function(e){return this.getLong(e)},s.getLong=function(e){if(e===d.OFFSET_SECONDS)return this._totalSeconds;if(e instanceof d)throw new r("Unsupported field: "+e);return e.getFrom(this)},s.query=function(e){return y(e,"query"),e===P.offset()||e===P.zone()?this:e===P.localDate()||e===P.localTime()||e===P.precision()||e===P.chronology()||e===P.zoneId()?null:e.queryFrom(this)},s.adjustInto=function(e){return e.with(d.OFFSET_SECONDS,this._totalSeconds)},s.compareTo=function(e){return y(e,"other"),e._totalSeconds-this._totalSeconds},s.equals=function(e){return this===e?!0:e instanceof u?this._totalSeconds===e._totalSeconds:!1},s.hashCode=function(){return this._totalSeconds},s.toString=function(){return this._id},u}(oe);function zT(){z.MAX_SECONDS=18*D.SECONDS_PER_HOUR,z.UTC=z.ofTotalSeconds(0),z.MIN=z.ofTotalSeconds(-z.MAX_SECONDS),z.MAX=z.ofTotalSeconds(z.MAX_SECONDS)}var Zr=function(p){b(u,p),u.create=function(e,o){var c=new u;return c._addFieldValue(e,o),c};function u(){var i;return i=p.call(this)||this,i.fieldValues=new Ac,i.chrono=null,i.zone=null,i.date=null,i.time=null,i.leapSecond=!1,i.excessDays=null,i}var s=u.prototype;return s.getFieldValue0=function(e){return this.fieldValues.get(e)},s._addFieldValue=function(e,o){y(e,"field");var c=this.getFieldValue0(e);if(c!=null&&c!==o)throw new r("Conflict found: "+e+" "+c+" differs from "+e+" "+o+": "+this);return this._putFieldValue0(e,o)},s._putFieldValue0=function(e,o){return this.fieldValues.put(e,o),this},s.resolve=function(e,o){return o!=null&&this.fieldValues.retainAll(o),this._mergeDate(e),this._mergeTime(e),this._resolveTimeInferZeroes(e),this.excessDays!=null&&this.excessDays.isZero()===!1&&this.date!=null&&this.time!=null&&(this.date=this.date.plus(this.excessDays),this.excessDays=lt.ZERO),this._resolveInstant(),this},s._mergeDate=function(e){this._checkDate(se.INSTANCE.resolveDate(this.fieldValues,e))},s._checkDate=function(e){if(e!=null){this._addObject(e);for(var o in this.fieldValues.keySet()){var c=d.byName(o);if(c&&this.fieldValues.get(c)!==void 0&&c.isDateBased()){var m=void 0;try{m=e.getLong(c)}catch(N){if(N instanceof r)continue;throw N}var g=this.fieldValues.get(c);if(m!==g)throw new r("Conflict found: Field "+c+" "+m+" differs from "+c+" "+g+" derived from "+e)}}}},s._mergeTime=function(e){if(this.fieldValues.containsKey(d.CLOCK_HOUR_OF_DAY)){var o=this.fieldValues.remove(d.CLOCK_HOUR_OF_DAY);e!==j.LENIENT&&(e===j.SMART&&o===0||d.CLOCK_HOUR_OF_DAY.checkValidValue(o)),this._addFieldValue(d.HOUR_OF_DAY,o===24?0:o)}if(this.fieldValues.containsKey(d.CLOCK_HOUR_OF_AMPM)){var c=this.fieldValues.remove(d.CLOCK_HOUR_OF_AMPM);e!==j.LENIENT&&(e===j.SMART&&c===0||d.CLOCK_HOUR_OF_AMPM.checkValidValue(c)),this._addFieldValue(d.HOUR_OF_AMPM,c===12?0:c)}if(e!==j.LENIENT&&(this.fieldValues.containsKey(d.AMPM_OF_DAY)&&d.AMPM_OF_DAY.checkValidValue(this.fieldValues.get(d.AMPM_OF_DAY)),this.fieldValues.containsKey(d.HOUR_OF_AMPM)&&d.HOUR_OF_AMPM.checkValidValue(this.fieldValues.get(d.HOUR_OF_AMPM))),this.fieldValues.containsKey(d.AMPM_OF_DAY)&&this.fieldValues.containsKey(d.HOUR_OF_AMPM)){var m=this.fieldValues.remove(d.AMPM_OF_DAY),g=this.fieldValues.remove(d.HOUR_OF_AMPM);this._addFieldValue(d.HOUR_OF_DAY,m*12+g)}if(this.fieldValues.containsKey(d.NANO_OF_DAY)){var N=this.fieldValues.remove(d.NANO_OF_DAY);e!==j.LENIENT&&d.NANO_OF_DAY.checkValidValue(N),this._addFieldValue(d.SECOND_OF_DAY,_.intDiv(N,1e9)),this._addFieldValue(d.NANO_OF_SECOND,_.intMod(N,1e9))}if(this.fieldValues.containsKey(d.MICRO_OF_DAY)){var R=this.fieldValues.remove(d.MICRO_OF_DAY);e!==j.LENIENT&&d.MICRO_OF_DAY.checkValidValue(R),this._addFieldValue(d.SECOND_OF_DAY,_.intDiv(R,1e6)),this._addFieldValue(d.MICRO_OF_SECOND,_.intMod(R,1e6))}if(this.fieldValues.containsKey(d.MILLI_OF_DAY)){var x=this.fieldValues.remove(d.MILLI_OF_DAY);e!==j.LENIENT&&d.MILLI_OF_DAY.checkValidValue(x),this._addFieldValue(d.SECOND_OF_DAY,_.intDiv(x,1e3)),this._addFieldValue(d.MILLI_OF_SECOND,_.intMod(x,1e3))}if(this.fieldValues.containsKey(d.SECOND_OF_DAY)){var q=this.fieldValues.remove(d.SECOND_OF_DAY);e!==j.LENIENT&&d.SECOND_OF_DAY.checkValidValue(q),this._addFieldValue(d.HOUR_OF_DAY,_.intDiv(q,3600)),this._addFieldValue(d.MINUTE_OF_HOUR,_.intMod(_.intDiv(q,60),60)),this._addFieldValue(d.SECOND_OF_MINUTE,_.intMod(q,60))}if(this.fieldValues.containsKey(d.MINUTE_OF_DAY)){var H=this.fieldValues.remove(d.MINUTE_OF_DAY);e!==j.LENIENT&&d.MINUTE_OF_DAY.checkValidValue(H),this._addFieldValue(d.HOUR_OF_DAY,_.intDiv(H,60)),this._addFieldValue(d.MINUTE_OF_HOUR,_.intMod(H,60))}if(e!==j.LENIENT&&(this.fieldValues.containsKey(d.MILLI_OF_SECOND)&&d.MILLI_OF_SECOND.checkValidValue(this.fieldValues.get(d.MILLI_OF_SECOND)),this.fieldValues.containsKey(d.MICRO_OF_SECOND)&&d.MICRO_OF_SECOND.checkValidValue(this.fieldValues.get(d.MICRO_OF_SECOND))),this.fieldValues.containsKey(d.MILLI_OF_SECOND)&&this.fieldValues.containsKey(d.MICRO_OF_SECOND)){var W=this.fieldValues.remove(d.MILLI_OF_SECOND),le=this.fieldValues.get(d.MICRO_OF_SECOND);this._putFieldValue0(d.MICRO_OF_SECOND,W*1e3+_.intMod(le,1e3))}if(this.fieldValues.containsKey(d.MICRO_OF_SECOND)&&this.fieldValues.containsKey(d.NANO_OF_SECOND)){var ye=this.fieldValues.get(d.NANO_OF_SECOND);this._putFieldValue0(d.MICRO_OF_SECOND,_.intDiv(ye,1e3)),this.fieldValues.remove(d.MICRO_OF_SECOND)}if(this.fieldValues.containsKey(d.MILLI_OF_SECOND)&&this.fieldValues.containsKey(d.NANO_OF_SECOND)){var ve=this.fieldValues.get(d.NANO_OF_SECOND);this._putFieldValue0(d.MILLI_OF_SECOND,_.intDiv(ve,1e6)),this.fieldValues.remove(d.MILLI_OF_SECOND)}if(this.fieldValues.containsKey(d.MICRO_OF_SECOND)){var ge=this.fieldValues.remove(d.MICRO_OF_SECOND);this._putFieldValue0(d.NANO_OF_SECOND,ge*1e3)}else if(this.fieldValues.containsKey(d.MILLI_OF_SECOND)){var Ue=this.fieldValues.remove(d.MILLI_OF_SECOND);this._putFieldValue0(d.NANO_OF_SECOND,Ue*1e6)}},s._resolveTimeInferZeroes=function(e){var o=this.fieldValues.get(d.HOUR_OF_DAY),c=this.fieldValues.get(d.MINUTE_OF_HOUR),m=this.fieldValues.get(d.SECOND_OF_MINUTE),g=this.fieldValues.get(d.NANO_OF_SECOND);if(o!=null&&!(c==null&&(m!=null||g!=null))&&!(c!=null&&m==null&&g!=null)){if(e!==j.LENIENT){if(o!=null){e===j.SMART&&o===24&&(c==null||c===0)&&(m==null||m===0)&&(g==null||g===0)&&(o=0,this.excessDays=lt.ofDays(1));var N=d.HOUR_OF_DAY.checkValidIntValue(o);if(c!=null){var R=d.MINUTE_OF_HOUR.checkValidIntValue(c);if(m!=null){var x=d.SECOND_OF_MINUTE.checkValidIntValue(m);if(g!=null){var q=d.NANO_OF_SECOND.checkValidIntValue(g);this._addObject(D.of(N,R,x,q))}else this._addObject(D.of(N,R,x))}else g==null&&this._addObject(D.of(N,R))}else m==null&&g==null&&this._addObject(D.of(N,0))}}else if(o!=null){var H=o;if(c!=null)if(m!=null){g==null&&(g=0);var W=_.safeMultiply(H,36e11);W=_.safeAdd(W,_.safeMultiply(c,6e10)),W=_.safeAdd(W,_.safeMultiply(m,1e9)),W=_.safeAdd(W,g);var le=_.floorDiv(W,864e11),ye=_.floorMod(W,864e11);this._addObject(D.ofNanoOfDay(ye)),this.excessDays=lt.ofDays(le)}else{var ve=_.safeMultiply(H,3600);ve=_.safeAdd(ve,_.safeMultiply(c,60));var ge=_.floorDiv(ve,86400),Ue=_.floorMod(ve,86400);this._addObject(D.ofSecondOfDay(Ue)),this.excessDays=lt.ofDays(ge)}else{var ot=_.safeToInt(_.floorDiv(H,24));H=_.floorMod(H,24),this._addObject(D.of(H,0)),this.excessDays=lt.ofDays(ot)}}this.fieldValues.remove(d.HOUR_OF_DAY),this.fieldValues.remove(d.MINUTE_OF_HOUR),this.fieldValues.remove(d.SECOND_OF_MINUTE),this.fieldValues.remove(d.NANO_OF_SECOND)}},s._addObject=function(e){e instanceof ln?this.date=e:e instanceof D&&(this.time=e)},s._resolveInstant=function(){if(this.date!=null&&this.time!=null){var e=this.fieldValues.get(d.OFFSET_SECONDS);if(e!=null){var o=z.ofTotalSeconds(e),c=this.date.atTime(this.time).atZone(o).getLong(d.INSTANT_SECONDS);this.fieldValues.put(d.INSTANT_SECONDS,c)}else if(this.zone!=null){var m=this.date.atTime(this.time).atZone(this.zone).getLong(d.INSTANT_SECONDS);this.fieldValues.put(d.INSTANT_SECONDS,m)}}},s.build=function(e){return e.queryFrom(this)},s.isSupported=function(e){return e==null?!1:this.fieldValues.containsKey(e)&&this.fieldValues.get(e)!==void 0||this.date!=null&&this.date.isSupported(e)||this.time!=null&&this.time.isSupported(e)},s.getLong=function(e){y(e,"field");var o=this.getFieldValue0(e);if(o==null){if(this.date!=null&&this.date.isSupported(e))return this.date.getLong(e);if(this.time!=null&&this.time.isSupported(e))return this.time.getLong(e);throw new r("Field not found: "+e)}return o},s.query=function(e){return e===P.zoneId()?this.zone:e===P.chronology()?this.chrono:e===P.localDate()?this.date!=null?k.from(this.date):null:e===P.localTime()?this.time:e===P.zone()||e===P.offset()?e.queryFrom(this):e===P.precision()?null:e.queryFrom(this)},u}(St),Rc=function(){function p(){if(arguments.length===1)if(arguments[0]instanceof p){this._constructorSelf.apply(this,arguments);return}else this._constructorFormatter.apply(this,arguments);else this._constructorParam.apply(this,arguments);this._caseSensitive=!0,this._strict=!0,this._parsed=[new Lc(this)]}var u=p.prototype;return u._constructorParam=function(i,e,o){this._locale=i,this._symbols=e,this._overrideChronology=o},u._constructorFormatter=function(i){this._locale=i.locale(),this._symbols=i.decimalStyle(),this._overrideChronology=i.chronology()},u._constructorSelf=function(i){this._locale=i._locale,this._symbols=i._symbols,this._overrideChronology=i._overrideChronology,this._overrideZone=i._overrideZone,this._caseSensitive=i._caseSensitive,this._strict=i._strict,this._parsed=[new Lc(this)]},u.copy=function(){return new p(this)},u.symbols=function(){return this._symbols},u.isStrict=function(){return this._strict},u.setStrict=function(i){this._strict=i},u.locale=function(){return this._locale},u.setLocale=function(i){this._locale=i},u.startOptional=function(){this._parsed.push(this.currentParsed().copy())},u.endOptional=function(i){i?this._parsed.splice(this._parsed.length-2,1):this._parsed.splice(this._parsed.length-1,1)},u.isCaseSensitive=function(){return this._caseSensitive},u.setCaseSensitive=function(i){this._caseSensitive=i},u.subSequenceEquals=function(i,e,o,c,m){if(e+m>i.length||c+m>o.length)return!1;this.isCaseSensitive()||(i=i.toLowerCase(),o=o.toLowerCase());for(var g=0;g<m;g++){var N=i[e+g],R=o[c+g];if(N!==R)return!1}return!0},u.charEquals=function(i,e){return this.isCaseSensitive()?i===e:this.charEqualsIgnoreCase(i,e)},u.charEqualsIgnoreCase=function(i,e){return i===e||i.toLowerCase()===e.toLowerCase()},u.setParsedField=function(i,e,o,c){var m=this.currentParsed().fieldValues,g=m.get(i);return m.set(i,e),g!=null&&g!==e?~o:c},u.setParsedZone=function(i){y(i,"zone"),this.currentParsed().zone=i},u.getParsed=function(i){return this.currentParsed().fieldValues.get(i)},u.toParsed=function(){return this.currentParsed()},u.currentParsed=function(){return this._parsed[this._parsed.length-1]},u.setParsedLeapSecond=function(){this.currentParsed().leapSecond=!0},u.getEffectiveChronology=function(){var i=this.currentParsed().chrono;return i==null&&(i=this._overrideChronology,i==null&&(i=se.INSTANCE)),i},p}(),Lc=function(p){b(u,p);function u(i){var e;return e=p.call(this)||this,e.chrono=null,e.zone=null,e.fieldValues=new Ac,e.leapSecond=!1,e.dateTimeParseContext=i,e}var s=u.prototype;return s.copy=function(){var e=new u;return e.chrono=this.chrono,e.zone=this.zone,e.fieldValues.putAll(this.fieldValues),e.leapSecond=this.leapSecond,e.dateTimeParseContext=this.dateTimeParseContext,e},s.toString=function(){return this.fieldValues+", "+this.chrono+", "+this.zone},s.isSupported=function(e){return this.fieldValues.containsKey(e)},s.get=function(e){var o=this.fieldValues.get(e);return F(o!=null),o},s.query=function(e){return e===P.chronology()?this.chrono:e===P.zoneId()||e===P.zone()?this.zone:p.prototype.query.call(this,e)},s.toBuilder=function(){var e=new Zr;return e.fieldValues.putAll(this.fieldValues),e.chrono=this.dateTimeParseContext.getEffectiveChronology(),this.zone!=null?e.zone=this.zone:e.zone=this.overrideZone,e.leapSecond=this.leapSecond,e.excessDays=this.excessDays,e},u}(xe);var Cc=function(){function p(s,i,e){arguments.length===2&&arguments[1]instanceof X?(this._temporal=p.adjust(s,i),this._locale=i.locale(),this._symbols=i.decimalStyle()):(this._temporal=s,this._locale=i,this._symbols=e),this._optional=0}p.adjust=function(i,e){return i};var u=p.prototype;return u.symbols=function(){return this._symbols},u.startOptional=function(){this._optional++},u.endOptional=function(){this._optional--},u.getValueQuery=function(i){var e=this._temporal.query(i);if(e==null&&this._optional===0)throw new r("Unable to extract value: "+this._temporal);return e},u.getValue=function(i){try{return this._temporal.getLong(i)}catch(e){if(e instanceof r&&this._optional>0)return null;throw e}},u.temporal=function(){return this._temporal},u.locale=function(){return this._locale},u.setDateTime=function(i){this._temporal=i},u.setLocale=function(i){this._locale=i},p}(),ze={},ZT=[0,90,181,273,0,91,182,274],ht=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.isDateBased=function(){return!0},s.isTimeBased=function(){return!1},s._isIso=function(){return!0},u._getWeekRangeByLocalDate=function(e){var o=u._getWeekBasedYear(e);return K.of(1,u._getWeekRangeByYear(o))},u._getWeekRangeByYear=function(e){var o=k.of(e,1,1);return o.dayOfWeek()===he.THURSDAY||o.dayOfWeek()===he.WEDNESDAY&&o.isLeapYear()?53:52},u._getWeek=function(e){var o=e.dayOfWeek().ordinal(),c=e.dayOfYear()-1,m=c+(3-o),g=_.intDiv(m,7),N=m-g*7,R=N-3;if(R<-3&&(R+=7),c<R)return u._getWeekRangeByLocalDate(e.withDayOfYear(180).minusYears(1)).maximum();var x=_.intDiv(c-R,7)+1;return x===53&&(R===-3||R===-2&&e.isLeapYear())===!1&&(x=1),x},u._getWeekBasedYear=function(e){var o=e.year(),c=e.dayOfYear();if(c<=3){var m=e.dayOfWeek().ordinal();c-m<-2&&o--}else if(c>=363){var g=e.dayOfWeek().ordinal();c=c-363-(e.isLeapYear()?1:0),c-g>=0&&o++}return o},s.displayName=function(){return this.toString()},s.resolve=function(){return null},s.name=function(){return this.toString()},u}(Ge),jT=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.toString=function(){return"DayOfQuarter"},s.baseUnit=function(){return T.DAYS},s.rangeUnit=function(){return hn},s.range=function(){return K.of(1,90,92)},s.isSupportedBy=function(e){return e.isSupported(d.DAY_OF_YEAR)&&e.isSupported(d.MONTH_OF_YEAR)&&e.isSupported(d.YEAR)&&this._isIso(e)},s.rangeRefinedBy=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: DayOfQuarter");var o=e.getLong(Gt);if(o===1){var c=e.getLong(d.YEAR);return se.isLeapYear(c)?K.of(1,91):K.of(1,90)}else{if(o===2)return K.of(1,91);if(o===3||o===4)return K.of(1,92)}return this.range()},s.getFrom=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: DayOfQuarter");var o=e.get(d.DAY_OF_YEAR),c=e.get(d.MONTH_OF_YEAR),m=e.getLong(d.YEAR);return o-ZT[_.intDiv(c-1,3)+(se.isLeapYear(m)?4:0)]},s.adjustInto=function(e,o){var c=this.getFrom(e);return this.range().checkValidValue(o,this),e.with(d.DAY_OF_YEAR,e.getLong(d.DAY_OF_YEAR)+(o-c))},s.resolve=function(e,o,c){var m=e.get(d.YEAR),g=e.get(Gt);if(m==null||g==null)return null;var N=d.YEAR.checkValidIntValue(m),R=e.get(ta),x;if(c===j.LENIENT){var q=g;x=k.of(N,1,1),x=x.plusMonths(_.safeMultiply(_.safeSubtract(q,1),3)),x=x.plusDays(_.safeSubtract(R,1))}else{var H=Gt.range().checkValidIntValue(g,Gt);if(c===j.STRICT){var W=92;H===1?W=se.isLeapYear(N)?91:90:H===2&&(W=91),K.of(1,W).checkValidValue(R,this)}else this.range().checkValidValue(R,this);x=k.of(N,(H-1)*3+1,1).plusDays(R-1)}return e.remove(this),e.remove(d.YEAR),e.remove(Gt),x},u}(ht),XT=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.toString=function(){return"QuarterOfYear"},s.baseUnit=function(){return hn},s.rangeUnit=function(){return T.YEARS},s.range=function(){return K.of(1,4)},s.isSupportedBy=function(e){return e.isSupported(d.MONTH_OF_YEAR)&&this._isIso(e)},s.rangeRefinedBy=function(e){return this.range()},s.getFrom=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: QuarterOfYear");var o=e.getLong(d.MONTH_OF_YEAR);return _.intDiv(o+2,3)},s.adjustInto=function(e,o){var c=this.getFrom(e);return this.range().checkValidValue(o,this),e.with(d.MONTH_OF_YEAR,e.getLong(d.MONTH_OF_YEAR)+(o-c)*3)},u}(ht),JT=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.toString=function(){return"WeekOfWeekBasedYear"},s.baseUnit=function(){return T.WEEKS},s.rangeUnit=function(){return cn},s.range=function(){return K.of(1,52,53)},s.isSupportedBy=function(e){return e.isSupported(d.EPOCH_DAY)&&this._isIso(e)},s.rangeRefinedBy=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: WeekOfWeekBasedYear");return ht._getWeekRangeByLocalDate(k.from(e))},s.getFrom=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: WeekOfWeekBasedYear");return ht._getWeek(k.from(e))},s.adjustInto=function(e,o){return this.range().checkValidValue(o,this),e.plus(_.safeSubtract(o,this.getFrom(e)),T.WEEKS)},s.resolve=function(e,o,c){var m=e.get(nt),g=e.get(d.DAY_OF_WEEK);if(m==null||g==null)return null;var N=nt.range().checkValidIntValue(m,nt),R=e.get(na),x;if(c===j.LENIENT){var q=g,H=0;q>7?(H=_.intDiv(q-1,7),q=_.intMod(q-1,7)+1):q<1&&(H=_.intDiv(q,7)-1,q=_.intMod(q,7)+7),x=k.of(N,1,4).plusWeeks(R-1).plusWeeks(H).with(d.DAY_OF_WEEK,q)}else{var W=d.DAY_OF_WEEK.checkValidIntValue(g);if(c===j.STRICT){var le=k.of(N,1,4),ye=ht._getWeekRangeByLocalDate(le);ye.checkValidValue(R,this)}else this.range().checkValidValue(R,this);x=k.of(N,1,4).plusWeeks(R-1).with(d.DAY_OF_WEEK,W)}return e.remove(this),e.remove(nt),e.remove(d.DAY_OF_WEEK),x},s.displayName=function(){return"Week"},u}(ht),QT=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.toString=function(){return"WeekBasedYear"},s.baseUnit=function(){return cn},s.rangeUnit=function(){return T.FOREVER},s.range=function(){return d.YEAR.range()},s.isSupportedBy=function(e){return e.isSupported(d.EPOCH_DAY)&&this._isIso(e)},s.rangeRefinedBy=function(e){return d.YEAR.range()},s.getFrom=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: WeekBasedYear");return ht._getWeekBasedYear(k.from(e))},s.adjustInto=function(e,o){if(this.isSupportedBy(e)===!1)throw new f("Unsupported field: WeekBasedYear");var c=this.range().checkValidIntValue(o,nt),m=k.from(e),g=m.get(d.DAY_OF_WEEK),N=ht._getWeek(m);N===53&&ht._getWeekRangeByYear(c)===52&&(N=52);var R=k.of(c,1,4),x=g-R.get(d.DAY_OF_WEEK)+(N-1)*7;return R=R.plusDays(x),e.with(R)},u}(ht),Mc=function(p){b(u,p);function u(i,e){var o;return o=p.call(this)||this,o._name=i,o._duration=e,o}var s=u.prototype;return s.duration=function(){return this._duration},s.isDurationEstimated=function(){return!0},s.isDateBased=function(){return!0},s.isTimeBased=function(){return!1},s.isSupportedBy=function(e){return e.isSupported(d.EPOCH_DAY)},s.addTo=function(e,o){switch(this){case cn:{var c=_.safeAdd(e.get(nt),o);return e.with(nt,c)}case hn:return e.plus(_.intDiv(o,256),T.YEARS).plus(_.intMod(o,256)*3,T.MONTHS);default:throw new E("Unreachable")}},s.between=function(e,o){switch(this){case cn:return _.safeSubtract(o.getLong(nt),e.getLong(nt));case hn:return _.intDiv(e.until(o,T.MONTHS),3);default:throw new E("Unreachable")}},s.toString=function(){return this._name},u}(Z),ta=null,Gt=null,na=null,nt=null,cn=null,hn=null;function ew(){ta=new jT,Gt=new XT,na=new JT,nt=new QT,cn=new Mc("WeekBasedYears",B.ofSeconds(31556952)),hn=new Mc("QuarterYears",B.ofSeconds(31556952/4)),ze.DAY_OF_QUARTER=ta,ze.QUARTER_OF_YEAR=Gt,ze.WEEK_OF_WEEK_BASED_YEAR=na,ze.WEEK_BASED_YEAR=nt,ze.WEEK_BASED_YEARS=cn,ze.QUARTER_YEARS=hn,k.prototype.isoWeekOfWeekyear=function(){return this.get(ze.WEEK_OF_WEEK_BASED_YEAR)},k.prototype.isoWeekyear=function(){return this.get(ze.WEEK_BASED_YEAR)}}var Zn=function(){function p(s,i,e,o){this._zeroDigit=s,this._zeroDigitCharCode=s.charCodeAt(0),this._positiveSign=i,this._negativeSign=e,this._decimalSeparator=o}var u=p.prototype;return u.positiveSign=function(){return this._positiveSign},u.withPositiveSign=function(i){return i===this._positiveSign?this:new p(this._zeroDigit,i,this._negativeSign,this._decimalSeparator)},u.negativeSign=function(){return this._negativeSign},u.withNegativeSign=function(i){return i===this._negativeSign?this:new p(this._zeroDigit,this._positiveSign,i,this._decimalSeparator)},u.zeroDigit=function(){return this._zeroDigit},u.withZeroDigit=function(i){return i===this._zeroDigit?this:new p(i,this._positiveSign,this._negativeSign,this._decimalSeparator)},u.decimalSeparator=function(){return this._decimalSeparator},u.withDecimalSeparator=function(i){return i===this._decimalSeparator?this:new p(this._zeroDigit,this._positiveSign,this._negativeSign,i)},u.convertToDigit=function(i){var e=i.charCodeAt(0)-this._zeroDigitCharCode;return e>=0&&e<=9?e:-1},u.convertNumberToI18N=function(i){if(this._zeroDigit==="0")return i;for(var e=this._zeroDigitCharCode-"0".charCodeAt(0),o="",c=0;c<i.length;c++)o+=String.fromCharCode(i.charCodeAt(c)+e);return o},u.equals=function(i){return this===i?!0:i instanceof p?this._zeroDigit===i._zeroDigit&&this._positiveSign===i._positiveSign&&this._negativeSign===i._negativeSign&&this._decimalSeparator===i._decimalSeparator:!1},u.hashCode=function(){return this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator},u.toString=function(){return"DecimalStyle["+this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator+"]"},p.of=function(){throw new Error("not yet supported")},p.availableLocales=function(){throw new Error("not yet supported")},p}();Zn.STANDARD=new Zn("0","+","-",".");var ne=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.parse=function(e,o,c){switch(this){case u.NORMAL:return!e||!o;case u.ALWAYS:case u.EXCEEDS_PAD:return!0;default:return!o&&!c}},u}(Q);ne.NORMAL=new ne("NORMAL"),ne.NEVER=new ne("NEVER"),ne.ALWAYS=new ne("ALWAYS"),ne.EXCEEDS_PAD=new ne("EXCEEDS_PAD"),ne.NOT_NEGATIVE=new ne("NOT_NEGATIVE");var ie=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.isStandalone=function(){switch(this){case u.FULL_STANDALONE:case u.SHORT_STANDALONE:case u.NARROW_STANDALONE:return!0;default:return!1}},s.asStandalone=function(){switch(this){case u.FULL:return u.FULL_STANDALONE;case u.SHORT:return u.SHORT_STANDALONE;case u.NARROW:return u.NARROW_STANDALONE;default:return this}},s.asNormal=function(){switch(this){case u.FULL_STANDALONE:return u.FULL;case u.SHORT_STANDALONE:return u.SHORT;case u.NARROW_STANDALONE:return u.NARROW;default:return this}},u}(Q);ie.FULL=new ie("FULL"),ie.FULL_STANDALONE=new ie("FULL_STANDALONE"),ie.SHORT=new ie("SHORT"),ie.SHORT_STANDALONE=new ie("SHORT_STANDALONE"),ie.NARROW=new ie("NARROW"),ie.NARROW_STANDALONE=new ie("NARROW_STANDALONE");var Pc=function(){function p(s){if(s.length>1)throw new h('invalid literal, too long: "'+s+'"');this._literal=s}var u=p.prototype;return u.print=function(i,e){return e.append(this._literal),!0},u.parse=function(i,e,o){var c=e.length;if(o===c)return~o;var m=e.charAt(o);return i.charEquals(this._literal,m)===!1?~o:o+this._literal.length},u.toString=function(){return this._literal==="'"?"''":"'"+this._literal+"'"},p}();var ra=function(){function p(s,i){this._printerParsers=s,this._optional=i}var u=p.prototype;return u.withOptional=function(i){return i===this._optional?this:new p(this._printerParsers,i)},u.print=function(i,e){var o=e.length();this._optional&&i.startOptional();try{for(var c=0;c<this._printerParsers.length;c++){var m=this._printerParsers[c];if(m.print(i,e)===!1)return e.setLength(o),!0}}finally{this._optional&&i.endOptional()}return!0},u.parse=function(i,e,o){if(this._optional){i.startOptional();for(var c=o,m=0;m<this._printerParsers.length;m++){var g=this._printerParsers[m];if(c=g.parse(i,e,c),c<0)return i.endOptional(!1),o}return i.endOptional(!0),c}else{for(var N=0;N<this._printerParsers.length;N++){var R=this._printerParsers[N];if(o=R.parse(i,e,o),o<0)break}return o}},u.toString=function(){var i="";if(this._printerParsers!=null){i+=this._optional?"[":"(";for(var e=0;e<this._printerParsers.length;e++){var o=this._printerParsers[e];i+=o.toString()}i+=this._optional?"]":")"}return i},p}();var Fc=function(){function p(s,i,e,o){if(y(s,"field"),s.range().isFixed()===!1)throw new h("Field must have a fixed set of values: "+s);if(i<0||i>9)throw new h("Minimum width must be from 0 to 9 inclusive but was "+i);if(e<1||e>9)throw new h("Maximum width must be from 1 to 9 inclusive but was "+e);if(e<i)throw new h("Maximum width must exceed or equal the minimum width but "+e+" < "+i);this.field=s,this.minWidth=i,this.maxWidth=e,this.decimalPoint=o}var u=p.prototype;return u.print=function(i,e){var o=i.getValue(this.field);if(o===null)return!1;var c=i.symbols();if(o===0){if(this.minWidth>0){this.decimalPoint&&e.append(c.decimalSeparator());for(var m=0;m<this.minWidth;m++)e.append(c.zeroDigit())}}else{var g=this.convertToFraction(o,c.zeroDigit()),N=Math.min(Math.max(g.length,this.minWidth),this.maxWidth);if(g=g.substr(0,N),g*1>0)for(;g.length>this.minWidth&&g[g.length-1]==="0";)g=g.substr(0,g.length-1);var R=g;R=c.convertNumberToI18N(R),this.decimalPoint&&e.append(c.decimalSeparator()),e.append(R)}return!0},u.parse=function(i,e,o){var c=i.isStrict()?this.minWidth:0,m=i.isStrict()?this.maxWidth:9,g=e.length;if(o===g)return c>0?~o:o;if(this.decimalPoint){if(e[o]!==i.symbols().decimalSeparator())return c>0?~o:o;o++}var N=o+c;if(N>g)return~o;for(var R=Math.min(o+m,g),x=0,q=o;q<R;){var H=e.charAt(q++),W=i.symbols().convertToDigit(H);if(W<0){if(q<N)return~o;q--;break}x=x*10+W}var le=q-o,ye=Math.pow(10,le),ve=this.convertFromFraction(x,ye);return i.setParsedField(this.field,ve,o,q)},u.convertToFraction=function(i,e){var o=this.field.range();o.checkValidValue(i,this.field);for(var c=o.minimum(),m=o.maximum()-c+1,g=i-c,N=_.intDiv(g*1e9,m),R=""+N;R.length<9;)R=e+R;return R},u.convertFromFraction=function(i,e){var o=this.field.range(),c=o.minimum(),m=o.maximum()-c+1,g=_.intDiv(i*m,e);return g},u.toString=function(){var i=this.decimalPoint?",DecimalPoint":"";return"Fraction("+this.field+","+this.minWidth+","+this.maxWidth+i+")"},p}(),ia=15,dn=[0,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],pn=function(){function p(s,i,e,o,c){c===void 0&&(c=0),this._field=s,this._minWidth=i,this._maxWidth=e,this._signStyle=o,this._subsequentWidth=c}var u=p.prototype;return u.field=function(){return this._field},u.minWidth=function(){return this._minWidth},u.maxWidth=function(){return this._maxWidth},u.signStyle=function(){return this._signStyle},u.withFixedWidth=function(){return this._subsequentWidth===-1?this:new p(this._field,this._minWidth,this._maxWidth,this._signStyle,-1)},u.withSubsequentWidth=function(i){return new p(this._field,this._minWidth,this._maxWidth,this._signStyle,this._subsequentWidth+i)},u._isFixedWidth=function(){return this._subsequentWidth===-1||this._subsequentWidth>0&&this._minWidth===this._maxWidth&&this._signStyle===ne.NOT_NEGATIVE},u.print=function(i,e){var o=i.getValue(this._field);if(o==null)return!1;var c=this._getValue(i,o),m=i.symbols(),g=""+Math.abs(c);if(g.length>this._maxWidth)throw new r("Field "+this._field+" cannot be printed as the value "+c+" exceeds the maximum print width of "+this._maxWidth);if(g=m.convertNumberToI18N(g),c>=0)switch(this._signStyle){case ne.EXCEEDS_PAD:this._minWidth<ia&&c>=dn[this._minWidth]&&e.append(m.positiveSign());break;case ne.ALWAYS:e.append(m.positiveSign());break}else switch(this._signStyle){case ne.NORMAL:case ne.EXCEEDS_PAD:case ne.ALWAYS:e.append(m.negativeSign());break;case ne.NOT_NEGATIVE:throw new r("Field "+this._field+" cannot be printed as the value "+c+" cannot be negative according to the SignStyle")}for(var N=0;N<this._minWidth-g.length;N++)e.append(m.zeroDigit());return e.append(g),!0},u.parse=function(i,e,o){var c=e.length;if(o===c)return~o;F(o>=0&&o<c);var m=e.charAt(o),g=!1,N=!1;if(m===i.symbols().positiveSign()){if(this._signStyle.parse(!0,i.isStrict(),this._minWidth===this._maxWidth)===!1)return~o;N=!0,o++}else if(m===i.symbols().negativeSign()){if(this._signStyle.parse(!1,i.isStrict(),this._minWidth===this._maxWidth)===!1)return~o;g=!0,o++}else if(this._signStyle===ne.ALWAYS&&i.isStrict())return~o;var R=i.isStrict()||this._isFixedWidth()?this._minWidth:1,x=o+R;if(x>c)return~o;for(var q=(i.isStrict()||this._isFixedWidth()?this._maxWidth:9)+Math.max(this._subsequentWidth,0),H=0,W=o,le=0;le<2;le++){for(var ye=Math.min(W+q,c);W<ye;){var ve=e.charAt(W++),ge=i.symbols().convertToDigit(ve);if(ge<0){if(W--,W<x)return~o;break}if(W-o>ia)throw new l("number text exceeds length");H=H*10+ge}if(this._subsequentWidth>0&&le===0){var Ue=W-o;q=Math.max(R,Ue-this._subsequentWidth),W=o,H=0}else break}if(g){if(H===0&&i.isStrict())return~(o-1);H!==0&&(H=-H)}else if(this._signStyle===ne.EXCEEDS_PAD&&i.isStrict()){var ot=W-o;if(N){if(ot<=this._minWidth)return~(o-1)}else if(ot>this._minWidth)return~o}return this._setValue(i,H,o,W)},u._getValue=function(i,e){return e},u._setValue=function(i,e,o,c){return i.setParsedField(this._field,e,o,c)},u.toString=function(){return this._minWidth===1&&this._maxWidth===ia&&this._signStyle===ne.NORMAL?"Value("+this._field+")":this._minWidth===this._maxWidth&&this._signStyle===ne.NOT_NEGATIVE?"Value("+this._field+","+this._minWidth+")":"Value("+this._field+","+this._minWidth+","+this._maxWidth+","+this._signStyle+")"},p}(),jn=function(p){b(u,p);function u(i,e,o,c,m){var g;if(g=p.call(this,i,e,o,ne.NOT_NEGATIVE)||this,e<1||e>10)throw new h("The width must be from 1 to 10 inclusive but was "+e);if(o<1||o>10)throw new h("The maxWidth must be from 1 to 10 inclusive but was "+o);if(o<e)throw new h("The maxWidth must be greater than the width");if(m===null){if(i.range().isValidValue(c)===!1)throw new h("The base value must be within the range of the field");if(c+dn[e]>_.MAX_SAFE_INTEGER)throw new r("Unable to add printer-parser as the range exceeds the capacity of an int")}return g._baseValue=c,g._baseDate=m,g}var s=u.prototype;return s._getValue=function(e,o){var c=Math.abs(o),m=this._baseValue;if(this._baseDate!==null){e.temporal();var g=se.INSTANCE;m=g.date(this._baseDate).get(this._field)}return o>=m&&o<m+dn[this._minWidth]?c%dn[this._minWidth]:c%dn[this._maxWidth]},s._setValue=function(e,o,c,m){var g=this._baseValue;if(this._baseDate!=null){var N=e.getEffectiveChronology();g=N.date(this._baseDate).get(this._field)}var R=m-c;if(R===this._minWidth&&o>=0){var x=dn[this._minWidth],q=g%x,H=g-q;g>0?o=H+o:o=H-o,o<g&&(o+=x)}return e.setParsedField(this._field,o,c,m)},s.withFixedWidth=function(){return this._subsequentWidth===-1?this:new u(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate)},s.withSubsequentWidth=function(e){return new u(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,this._subsequentWidth+e)},s.isFixedWidth=function(e){return e.isStrict()===!1?!1:p.prototype.isFixedWidth.call(this,e)},s.toString=function(){return"ReducedValue("+this._field+","+this._minWidth+","+this._maxWidth+","+(this._baseDate!=null?this._baseDate:this._baseValue)+")"},u}(pn);var jr=["+HH","+HHmm","+HH:mm","+HHMM","+HH:MM","+HHMMss","+HH:MM:ss","+HHMMSS","+HH:MM:SS"],dt=function(){function p(s,i){y(s,"noOffsetText"),y(i,"pattern"),this.noOffsetText=s,this.type=this._checkPattern(i)}var u=p.prototype;return u._checkPattern=function(i){for(var e=0;e<jr.length;e++)if(jr[e]===i)return e;throw new h("Invalid zone offset pattern: "+i)},u.print=function(i,e){var o=i.getValue(d.OFFSET_SECONDS);if(o==null)return!1;var c=_.safeToInt(o);if(c===0)e.append(this.noOffsetText);else{var m=Math.abs(_.intMod(_.intDiv(c,3600),100)),g=Math.abs(_.intMod(_.intDiv(c,60),60)),N=Math.abs(_.intMod(c,60)),R=e.length(),x=m;e.append(c<0?"-":"+").appendChar(_.intDiv(m,10)+"0").appendChar(_.intMod(m,10)+"0"),(this.type>=3||this.type>=1&&g>0)&&(e.append(this.type%2===0?":":"").appendChar(_.intDiv(g,10)+"0").appendChar(g%10+"0"),x+=g,(this.type>=7||this.type>=5&&N>0)&&(e.append(this.type%2===0?":":"").appendChar(_.intDiv(N,10)+"0").appendChar(N%10+"0"),x+=N)),x===0&&(e.setLength(R),e.append(this.noOffsetText))}return!0},u.parse=function(i,e,o){var c=e.length,m=this.noOffsetText.length;if(m===0){if(o===c)return i.setParsedField(d.OFFSET_SECONDS,0,o,o)}else{if(o===c)return~o;if(i.subSequenceEquals(e,o,this.noOffsetText,0,m))return i.setParsedField(d.OFFSET_SECONDS,0,o,o+m)}var g=e[o];if(g==="+"||g==="-"){var N=g==="-"?-1:1,R=[0,0,0,0];if(R[0]=o+1,(this._parseNumber(R,1,e,!0)||this._parseNumber(R,2,e,this.type>=3)||this._parseNumber(R,3,e,!1))===!1){var x=_.safeZero(N*(R[1]*3600+R[2]*60+R[3]));return i.setParsedField(d.OFFSET_SECONDS,x,o,R[0])}}return m===0?i.setParsedField(d.OFFSET_SECONDS,0,o,o+m):~o},u._parseNumber=function(i,e,o,c){if((this.type+3)/2<e)return!1;var m=i[0];if(this.type%2===0&&e>1){if(m+1>o.length||o[m]!==":")return c;m++}if(m+2>o.length)return c;var g=o[m++],N=o[m++];if(g<"0"||g>"9"||N<"0"||N>"9")return c;var R=(g.charCodeAt(0)-48)*10+(N.charCodeAt(0)-48);return R<0||R>59?c:(i[e]=R,i[0]=m,!1)},u.toString=function(){var i=this.noOffsetText.replace("'","''");return"Offset("+jr[this.type]+",'"+i+"')"},p}();dt.INSTANCE_ID=new dt("Z","+HH:MM:ss"),dt.PATTERNS=jr;var oa=function(){function p(s,i,e){this._printerParser=s,this._padWidth=i,this._padChar=e}var u=p.prototype;return u.print=function(i,e){var o=e.length();if(this._printerParser.print(i,e)===!1)return!1;var c=e.length()-o;if(c>this._padWidth)throw new r("Cannot print as output of "+c+" characters exceeds pad width of "+this._padWidth);for(var m=0;m<this._padWidth-c;m++)e.insert(o,this._padChar);return!0},u.parse=function(i,e,o){var c=i.isStrict(),m=i.isCaseSensitive();if(F(!(o>e.length)),F(o>=0),o===e.length)return~o;var g=o+this._padWidth;if(g>e.length){if(c)return~o;g=e.length}for(var N=o;N<g&&(m?e[N]===this._padChar:i.charEquals(e[N],this._padChar));)N++;e=e.substring(0,g);var R=this._printerParser.parse(i,e,N);return R!==g&&c?~(o+N):R},u.toString=function(){return"Pad("+this._printerParser+","+this._padWidth+(this._padChar===" "?")":",'"+this._padChar+"')")},p}(),$e=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.print=function(){return!0},s.parse=function(e,o,c){switch(this){case u.SENSITIVE:e.setCaseSensitive(!0);break;case u.INSENSITIVE:e.setCaseSensitive(!1);break;case u.STRICT:e.setStrict(!0);break;case u.LENIENT:e.setStrict(!1);break}return c},s.toString=function(){switch(this){case u.SENSITIVE:return"ParseCaseSensitive(true)";case u.INSENSITIVE:return"ParseCaseSensitive(false)";case u.STRICT:return"ParseStrict(true)";case u.LENIENT:return"ParseStrict(false)"}},u}(Q);$e.SENSITIVE=new $e("SENSITIVE"),$e.INSENSITIVE=new $e("INSENSITIVE"),$e.STRICT=new $e("STRICT"),$e.LENIENT=new $e("LENIENT");var sa=function(){function p(s){this._literal=s}var u=p.prototype;return u.print=function(i,e){return e.append(this._literal),!0},u.parse=function(i,e,o){var c=e.length;return F(!(o>c||o<0)),i.subSequenceEquals(e,o,this._literal,0,this._literal.length)===!1?~o:o+this._literal.length},u.toString=function(){var i=this._literal.replace("'","''");return"'"+i+"'"},p}();var Xn=function(){function p(){}return p.getRules=function(s){throw new r("unsupported ZoneId:"+s)},p.getAvailableZoneIds=function(){return[]},p}(),rt=function(p){b(u,p),u.ofId=function(e){var o=Xn.getRules(e);return new u(e,o)};function u(i,e){var o;return o=p.call(this)||this,o._id=i,o._rules=e,o}var s=u.prototype;return s.id=function(){return this._id},s.rules=function(){return this._rules},u}(oe);var xc=function(){function p(s,i){this.query=s,this.description=i}var u=p.prototype;return u.print=function(i,e){var o=i.getValueQuery(this.query);return o==null?!1:(e.append(o.id()),!0)},u.parse=function(i,e,o){var c=e.length;if(o>c||o===c)return~o;var m=e.charAt(o);if(m==="+"||m==="-"){var g=i.copy(),N=dt.INSTANCE_ID.parse(g,e,o);if(N<0)return N;var R=g.getParsed(d.OFFSET_SECONDS),x=z.ofTotalSeconds(R);return i.setParsedZone(x),N}else if(c>=o+2){var q=e.charAt(o+1);if(i.charEquals(m,"U")&&i.charEquals(q,"T"))return c>=o+3&&i.charEquals(e.charAt(o+2),"C")?this._parsePrefixedOffset(i,e,o,o+3):this._parsePrefixedOffset(i,e,o,o+2);if(i.charEquals(m,"G")&&c>=o+3&&i.charEquals(q,"M")&&i.charEquals(e.charAt(o+2),"T"))return this._parsePrefixedOffset(i,e,o,o+3)}if(e.substr(o,6)==="SYSTEM")return i.setParsedZone(oe.systemDefault()),o+6;if(i.charEquals(m,"Z"))return i.setParsedZone(z.UTC),o+1;var H=Xn.getAvailableZoneIds();aa.size!==H.length&&(aa=Uc.createTreeMap(H));for(var W=c-o,le=aa.treeMap,ye=null,ve=0;le!=null;){var ge=e.substr(o,Math.min(le.length,W));le=le.get(ge),le!=null&&le.isLeaf&&(ye=ge,ve=le.length)}return ye!=null?(i.setParsedZone(rt.ofId(ye)),o+ve):~o},u._parsePrefixedOffset=function(i,e,o,c){var m=e.substring(o,c).toUpperCase(),g=i.copy();if(c<e.length&&i.charEquals(e.charAt(c),"Z"))return i.setParsedZone(oe.ofOffset(m,z.UTC)),c;var N=dt.INSTANCE_ID.parse(g,e,c);if(N<0)return i.setParsedZone(oe.ofOffset(m,z.UTC)),c;var R=g.getParsed(d.OFFSET_SECONDS),x=z.ofTotalSeconds(R);return i.setParsedZone(oe.ofOffset(m,x)),N},u.toString=function(){return this.description},p}(),Uc=function(){p.createTreeMap=function(s){for(var i=s.sort(function(c,m){return c.length-m.length}),e=new tw(i[0].length,!1),o=0;o<i.length;o++)e.add(i[o]);return new p(i.length,e)};function p(u,s){this.size=u,this.treeMap=s}return p}(),tw=function(){function p(s,i){s===void 0&&(s=0),i===void 0&&(i=!1),this.length=s,this.isLeaf=i,this._treeMap={}}var u=p.prototype;return u.add=function(i){var e=i.length;if(e===this.length)this._treeMap[i]=new p(e,!0);else if(e>this.length){var o=i.substr(0,this.length),c=this._treeMap[o];c==null&&(c=new p(e,!1),this._treeMap[o]=c),c.add(i)}},u.get=function(i){return this._treeMap[i]},p}(),aa=new Uc([]);var Ot=15,fe=function(){function p(){this._active=this,this._parent=null,this._printerParsers=[],this._optional=!1,this._padNextWidth=0,this._padNextChar=null,this._valueParserIndex=-1}p._of=function(i,e){y(i,"parent"),y(e,"optional");var o=new p;return o._parent=i,o._optional=e,o};var u=p.prototype;return u.parseCaseSensitive=function(){return this._appendInternalPrinterParser($e.SENSITIVE),this},u.parseCaseInsensitive=function(){return this._appendInternalPrinterParser($e.INSENSITIVE),this},u.parseStrict=function(){return this._appendInternalPrinterParser($e.STRICT),this},u.parseLenient=function(){return this._appendInternalPrinterParser($e.LENIENT),this},u.parseDefaulting=function(i,e){return y(i),this._appendInternal(new rw(i,e)),this},u.appendValue=function(){return arguments.length===1?this._appendValue1.apply(this,arguments):arguments.length===2?this._appendValue2.apply(this,arguments):this._appendValue4.apply(this,arguments)},u._appendValue1=function(i){return y(i),this._appendValuePrinterParser(new pn(i,1,Ot,ne.NORMAL)),this},u._appendValue2=function(i,e){if(y(i),e<1||e>Ot)throw new h("The width must be from 1 to "+Ot+" inclusive but was "+e);var o=new pn(i,e,e,ne.NOT_NEGATIVE);return this._appendValuePrinterParser(o),this},u._appendValue4=function(i,e,o,c){if(y(i),y(c),e===o&&c===ne.NOT_NEGATIVE)return this._appendValue2(i,o);if(e<1||e>Ot)throw new h("The minimum width must be from 1 to "+Ot+" inclusive but was "+e);if(o<1||o>Ot)throw new h("The minimum width must be from 1 to "+Ot+" inclusive but was "+o);if(o<e)throw new h("The maximum width must exceed or equal the minimum width but "+o+" < "+e);var m=new pn(i,e,o,c);return this._appendValuePrinterParser(m),this},u.appendValueReduced=function(){return arguments.length===4&&arguments[3]instanceof ln?this._appendValueReducedFieldWidthMaxWidthBaseDate.apply(this,arguments):this._appendValueReducedFieldWidthMaxWidthBaseValue.apply(this,arguments)},u._appendValueReducedFieldWidthMaxWidthBaseValue=function(i,e,o,c){y(i,"field");var m=new jn(i,e,o,c,null);return this._appendValuePrinterParser(m),this},u._appendValueReducedFieldWidthMaxWidthBaseDate=function(i,e,o,c){y(i,"field"),y(c,"baseDate"),U(c,ln,"baseDate");var m=new jn(i,e,o,0,c);return this._appendValuePrinterParser(m),this},u._appendValuePrinterParser=function(i){if(F(i!=null),this._active._valueParserIndex>=0&&this._active._printerParsers[this._active._valueParserIndex]instanceof pn){var e=this._active._valueParserIndex,o=this._active._printerParsers[e];i.minWidth()===i.maxWidth()&&i.signStyle()===ne.NOT_NEGATIVE?(o=o.withSubsequentWidth(i.maxWidth()),this._appendInternal(i.withFixedWidth()),this._active._valueParserIndex=e):(o=o.withFixedWidth(),this._active._valueParserIndex=this._appendInternal(i)),this._active._printerParsers[e]=o}else this._active._valueParserIndex=this._appendInternal(i);return this},u.appendFraction=function(i,e,o,c){return this._appendInternal(new Fc(i,e,o,c)),this},u.appendInstant=function(i){if(i===void 0&&(i=-2),i<-2||i>9)throw new h("Invalid fractional digits: "+i);return this._appendInternal(new nw(i)),this},u.appendOffsetId=function(){return this._appendInternal(dt.INSTANCE_ID),this},u.appendOffset=function(i,e){return this._appendInternalPrinterParser(new dt(e,i)),this},u.appendZoneId=function(){return this._appendInternal(new xc(P.zoneId(),"ZoneId()")),this},u.appendPattern=function(i){return y(i,"pattern"),this._parsePattern(i),this},u.appendZoneText=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},u.appendText=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},u.appendLocalizedOffset=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},u.appendWeekField=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},u._parsePattern=function(i){for(var e={G:d.ERA,y:d.YEAR_OF_ERA,u:d.YEAR,Q:ze.QUARTER_OF_YEAR,q:ze.QUARTER_OF_YEAR,M:d.MONTH_OF_YEAR,L:d.MONTH_OF_YEAR,D:d.DAY_OF_YEAR,d:d.DAY_OF_MONTH,F:d.ALIGNED_DAY_OF_WEEK_IN_MONTH,E:d.DAY_OF_WEEK,c:d.DAY_OF_WEEK,e:d.DAY_OF_WEEK,a:d.AMPM_OF_DAY,H:d.HOUR_OF_DAY,k:d.CLOCK_HOUR_OF_DAY,K:d.HOUR_OF_AMPM,h:d.CLOCK_HOUR_OF_AMPM,m:d.MINUTE_OF_HOUR,s:d.SECOND_OF_MINUTE,S:d.NANO_OF_SECOND,A:d.MILLI_OF_DAY,n:d.NANO_OF_SECOND,N:d.NANO_OF_DAY},o=0;o<i.length;o++){var c=i.charAt(o);if(c>="A"&&c<="Z"||c>="a"&&c<="z"){for(var m=o++;o<i.length&&i.charAt(o)===c;o++);var g=o-m;if(c==="p"){var N=0;if(o<i.length&&(c=i.charAt(o),c>="A"&&c<="Z"||c>="a"&&c<="z")){for(N=g,m=o++;o<i.length&&i.charAt(o)===c;o++);g=o-m}if(N===0)throw new h("Pad letter 'p' must be followed by valid pad pattern: "+i);this.padNext(N)}var R=e[c];if(R!=null)this._parseField(c,g,R);else if(c==="z"){if(g>4)throw new h("Too many pattern letters: "+c);g===4?this.appendZoneText(ie.FULL):this.appendZoneText(ie.SHORT)}else if(c==="V"){if(g!==2)throw new h("Pattern letter count must be 2: "+c);this.appendZoneId()}else if(c==="Z")if(g<4)this.appendOffset("+HHMM","+0000");else if(g===4)this.appendLocalizedOffset(ie.FULL);else if(g===5)this.appendOffset("+HH:MM:ss","Z");else throw new h("Too many pattern letters: "+c);else if(c==="O")if(g===1)this.appendLocalizedOffset(ie.SHORT);else if(g===4)this.appendLocalizedOffset(ie.FULL);else throw new h("Pattern letter count must be 1 or 4: "+c);else if(c==="X"){if(g>5)throw new h("Too many pattern letters: "+c);this.appendOffset(dt.PATTERNS[g+(g===1?0:1)],"Z")}else if(c==="x"){if(g>5)throw new h("Too many pattern letters: "+c);var x=g===1?"+00":g%2===0?"+0000":"+00:00";this.appendOffset(dt.PATTERNS[g+(g===1?0:1)],x)}else if(c==="W"){if(g>1)throw new h("Too many pattern letters: "+c);this.appendWeekField("W",g)}else if(c==="w"){if(g>2)throw new h("Too many pattern letters: "+c);this.appendWeekField("w",g)}else if(c==="Y")this.appendWeekField("Y",g);else throw new h("Unknown pattern letter: "+c);o--}else if(c==="'"){for(var q=o++;o<i.length;o++)if(i.charAt(o)==="'")if(o+1<i.length&&i.charAt(o+1)==="'")o++;else break;if(o>=i.length)throw new h("Pattern ends with an incomplete string literal: "+i);var H=i.substring(q+1,o);H.length===0?this.appendLiteral("'"):this.appendLiteral(H.replace("''","'"))}else if(c==="[")this.optionalStart();else if(c==="]"){if(this._active._parent===null)throw new h("Pattern invalid as it contains ] without previous [");this.optionalEnd()}else{if(c==="{"||c==="}"||c==="#")throw new h("Pattern includes reserved character: '"+c+"'");this.appendLiteral(c)}}},u._parseField=function(i,e,o){switch(i){case"u":case"y":e===2?this.appendValueReduced(o,2,2,jn.BASE_DATE):e<4?this.appendValue(o,e,Ot,ne.NORMAL):this.appendValue(o,e,Ot,ne.EXCEEDS_PAD);break;case"M":case"Q":switch(e){case 1:this.appendValue(o);break;case 2:this.appendValue(o,2);break;case 3:this.appendText(o,ie.SHORT);break;case 4:this.appendText(o,ie.FULL);break;case 5:this.appendText(o,ie.NARROW);break;default:throw new h("Too many pattern letters: "+i)}break;case"L":case"q":switch(e){case 1:this.appendValue(o);break;case 2:this.appendValue(o,2);break;case 3:this.appendText(o,ie.SHORT_STANDALONE);break;case 4:this.appendText(o,ie.FULL_STANDALONE);break;case 5:this.appendText(o,ie.NARROW_STANDALONE);break;default:throw new h("Too many pattern letters: "+i)}break;case"e":switch(e){case 1:case 2:this.appendWeekField("e",e);break;case 3:this.appendText(o,ie.SHORT);break;case 4:this.appendText(o,ie.FULL);break;case 5:this.appendText(o,ie.NARROW);break;default:throw new h("Too many pattern letters: "+i)}break;case"c":switch(e){case 1:this.appendWeekField("c",e);break;case 2:throw new h("Invalid number of pattern letters: "+i);case 3:this.appendText(o,ie.SHORT_STANDALONE);break;case 4:this.appendText(o,ie.FULL_STANDALONE);break;case 5:this.appendText(o,ie.NARROW_STANDALONE);break;default:throw new h("Too many pattern letters: "+i)}break;case"a":if(e===1)this.appendText(o,ie.SHORT);else throw new h("Too many pattern letters: "+i);break;case"E":case"G":switch(e){case 1:case 2:case 3:this.appendText(o,ie.SHORT);break;case 4:this.appendText(o,ie.FULL);break;case 5:this.appendText(o,ie.NARROW);break;default:throw new h("Too many pattern letters: "+i)}break;case"S":this.appendFraction(d.NANO_OF_SECOND,e,e,!1);break;case"F":if(e===1)this.appendValue(o);else throw new h("Too many pattern letters: "+i);break;case"d":case"h":case"H":case"k":case"K":case"m":case"s":if(e===1)this.appendValue(o);else if(e===2)this.appendValue(o,e);else throw new h("Too many pattern letters: "+i);break;case"D":if(e===1)this.appendValue(o);else if(e<=3)this.appendValue(o,e);else throw new h("Too many pattern letters: "+i);break;default:e===1?this.appendValue(o):this.appendValue(o,e);break}},u.padNext=function(){return arguments.length===1?this._padNext1.apply(this,arguments):this._padNext2.apply(this,arguments)},u._padNext1=function(i){return this._padNext2(i," ")},u._padNext2=function(i,e){if(i<1)throw new h("The pad width must be at least one but was "+i);return this._active._padNextWidth=i,this._active._padNextChar=e,this._active._valueParserIndex=-1,this},u.optionalStart=function(){return this._active._valueParserIndex=-1,this._active=p._of(this._active,!0),this},u.optionalEnd=function(){if(this._active._parent==null)throw new E("Cannot call optionalEnd() as there was no previous call to optionalStart()");if(this._active._printerParsers.length>0){var i=new ra(this._active._printerParsers,this._active._optional);this._active=this._active._parent,this._appendInternal(i)}else this._active=this._active._parent;return this},u._appendInternal=function(i){return F(i!=null),this._active._padNextWidth>0&&(i!=null&&(i=new oa(i,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(i),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},u.appendLiteral=function(i){return F(i!=null),i.length>0&&(i.length===1?this._appendInternalPrinterParser(new Pc(i.charAt(0))):this._appendInternalPrinterParser(new sa(i))),this},u._appendInternalPrinterParser=function(i){return F(i!=null),this._active._padNextWidth>0&&(i!=null&&(i=new oa(i,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(i),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},u.append=function(i){return y(i,"formatter"),this._appendInternal(i._toPrinterParser(!1)),this},u.toFormatter=function(i){for(i===void 0&&(i=j.SMART);this._active._parent!=null;)this.optionalEnd();var e=new ra(this._printerParsers,!1);return new X(e,null,Zn.STANDARD,i,null,null,null)},p}(),_n=146097*25*86400,Jn=(146097*5-(30*365+7))*86400,nw=function(){function p(s){this.fractionalDigits=s}var u=p.prototype;return u.print=function(i,e){var o=i.getValue(d.INSTANT_SECONDS),c=0;if(i.temporal().isSupported(d.NANO_OF_SECOND)&&(c=i.temporal().getLong(d.NANO_OF_SECOND)),o==null)return!1;var m=o,g=d.NANO_OF_SECOND.checkValidIntValue(c);if(m>=-Jn){var N=m-_n+Jn,R=_.floorDiv(N,_n)+1,x=_.floorMod(N,_n),q=ae.ofEpochSecond(x-Jn,0,z.UTC);R>0&&e.append("+").append(R),e.append(q.toString()),q.second()===0&&e.append(":00")}else{var H=m+Jn,W=_.intDiv(H,_n),le=_.intMod(H,_n),ye=ae.ofEpochSecond(le-Jn,0,z.UTC),ve=e.length();e.append(ye.toString()),ye.second()===0&&e.append(":00"),W<0&&(ye.year()===-1e4?e.replace(ve,ve+2,""+(W-1)):le===0?e.insert(ve,W):e.insert(ve+1,Math.abs(W)))}if(this.fractionalDigits===-2)g!==0&&(e.append("."),_.intMod(g,1e6)===0?e.append((""+(_.intDiv(g,1e6)+1e3)).substring(1)):_.intMod(g,1e3)===0?e.append((""+(_.intDiv(g,1e3)+1e6)).substring(1)):e.append((""+(g+1e9)).substring(1)));else if(this.fractionalDigits>0||this.fractionalDigits===-1&&g>0){e.append(".");for(var ge=1e8,Ue=0;this.fractionalDigits===-1&&g>0||Ue<this.fractionalDigits;Ue++){var ot=_.intDiv(g,ge);e.append(ot),g=g-ot*ge,ge=_.intDiv(ge,10)}}return e.append("Z"),!0},u.parse=function(i,e,o){var c=i.copy(),m=this.fractionalDigits<0?0:this.fractionalDigits,g=this.fractionalDigits<0?9:this.fractionalDigits,N=new fe().append(X.ISO_LOCAL_DATE).appendLiteral("T").appendValue(d.HOUR_OF_DAY,2).appendLiteral(":").appendValue(d.MINUTE_OF_HOUR,2).appendLiteral(":").appendValue(d.SECOND_OF_MINUTE,2).appendFraction(d.NANO_OF_SECOND,m,g,!0).appendLiteral("Z").toFormatter()._toPrinterParser(!1),R=N.parse(c,e,o);if(R<0)return R;var x=c.getParsed(d.YEAR),q=c.getParsed(d.MONTH_OF_YEAR),H=c.getParsed(d.DAY_OF_MONTH),W=c.getParsed(d.HOUR_OF_DAY),le=c.getParsed(d.MINUTE_OF_HOUR),ye=c.getParsed(d.SECOND_OF_MINUTE),ve=c.getParsed(d.NANO_OF_SECOND),ge=ye??0,Ue=ve??0,ot=_.intMod(x,1e4),ei=0;W===24&&le===0&&ge===0&&Ue===0?(W=0,ei=1):W===23&&le===59&&ge===60&&(i.setParsedLeapSecond(),ge=59);var tr;try{var ti=ae.of(ot,q,H,W,le,ge,0).plusDays(ei);tr=ti.toEpochSecond(z.UTC),tr+=_.safeMultiply(_.intDiv(x,1e4),_n)}catch{return~o}var $t=R;return $t=i.setParsedField(d.INSTANT_SECONDS,tr,o,$t),i.setParsedField(d.NANO_OF_SECOND,Ue,o,$t)},u.toString=function(){return"Instant()"},p}(),rw=function(){function p(s,i){this._field=s,this._value=i}var u=p.prototype;return u.print=function(){return!0},u.parse=function(i,e,o){return i.getParsed(this._field)==null&&i.setParsedField(this._field,this._value,o,o),o},p}();function iw(){jn.BASE_DATE=k.of(2e3,1,1),fe.CompositePrinterParser=ra,fe.PadPrinterParserDecorator=oa,fe.SettingsParser=$e,fe.CharLiteralPrinterParser=sa,fe.StringLiteralPrinterParser=sa,fe.CharLiteralPrinterParser=Pc,fe.NumberPrinterParser=pn,fe.ReducedPrinterParser=jn,fe.FractionPrinterParser=Fc,fe.OffsetIdPrinterParser=dt,fe.ZoneIdPrinterParser=xc}var Bc=function(){function p(){this._str=""}var u=p.prototype;return u.append=function(i){return this._str+=i,this},u.appendChar=function(i){return this._str+=i[0],this},u.insert=function(i,e){return this._str=this._str.slice(0,i)+e+this._str.slice(i),this},u.replace=function(i,e,o){return this._str=this._str.slice(0,i)+o+this._str.slice(e),this},u.length=function(){return this._str.length},u.setLength=function(i){return this._str=this._str.slice(0,i),this},u.toString=function(){return this._str},p}();var X=function(){p.parsedExcessDays=function(){return p.PARSED_EXCESS_DAYS},p.parsedLeapSecond=function(){return p.PARSED_LEAP_SECOND},p.ofPattern=function(i){return new fe().appendPattern(i).toFormatter()};function p(s,i,e,o,c,m,g){m===void 0&&(m=se.INSTANCE),F(s!=null),F(e!=null),F(o!=null),this._printerParser=s,this._locale=i,this._decimalStyle=e,this._resolverStyle=o,this._resolverFields=c,this._chrono=m,this._zone=g}var u=p.prototype;return u.locale=function(){return this._locale},u.decimalStyle=function(){return this._decimalStyle},u.chronology=function(){return this._chrono},u.withChronology=function(i){return this._chrono!=null&&this._chrono.equals(i)?this:new p(this._printerParser,this._locale,this._decimalStyle,this._resolverStyle,this._resolverFields,i,this._zone)},u.withLocale=function(){return this},u.withResolverStyle=function(i){return y(i,"resolverStyle"),i.equals(this._resolverStyle)?this:new p(this._printerParser,this._locale,this._decimalStyle,i,this._resolverFields,this._chrono,this._zone)},u.format=function(i){var e=new Bc(32);return this._formatTo(i,e),e.toString()},u._formatTo=function(i,e){y(i,"temporal"),y(e,"appendable");var o=new Cc(i,this);this._printerParser.print(o,e)},u.parse=function(i,e){return arguments.length===1?this.parse1(i):this.parse2(i,e)},u.parse1=function(i){y(i,"text");try{return this._parseToBuilder(i,null).resolve(this._resolverStyle,this._resolverFields)}catch(e){throw e instanceof a?e:this._createError(i,e)}},u.parse2=function(i,e){y(i,"text"),y(e,"type");try{var o=this._parseToBuilder(i,null).resolve(this._resolverStyle,this._resolverFields);return o.build(e)}catch(c){throw c instanceof a?c:this._createError(i,c)}},u._createError=function(i,e){var o="";return i.length>64?o=i.substring(0,64)+"...":o=i,new a("Text '"+o+"' could not be parsed: "+e.message,i,0,e)},u._parseToBuilder=function(i,e){var o=e??new ea(0),c=this._parseUnresolved0(i,o);if(c==null||o.getErrorIndex()>=0||e==null&&o.getIndex()<i.length){var m="";throw i.length>64?m=i.substr(0,64).toString()+"...":m=i,o.getErrorIndex()>=0?new a("Text '"+m+"' could not be parsed at index "+o.getErrorIndex(),i,o.getErrorIndex()):new a("Text '"+m+"' could not be parsed, unparsed text found at index "+o.getIndex(),i,o.getIndex())}return c.toBuilder()},u.parseUnresolved=function(i,e){return this._parseUnresolved0(i,e)},u._parseUnresolved0=function(i,e){F(i!=null,"text",v),F(e!=null,"position",v);var o=new Rc(this),c=e.getIndex();return c=this._printerParser.parse(o,i,c),c<0?(e.setErrorIndex(~c),null):(e.setIndex(c),o.toParsed())},u._toPrinterParser=function(i){return this._printerParser.withOptional(i)},u.toString=function(){var i=this._printerParser.toString();return i.indexOf("[")===0?i:i.substring(1,i.length-1)},p}();function ow(){X.ISO_LOCAL_DATE=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).appendLiteral("-").appendValue(d.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(d.DAY_OF_MONTH,2).toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_LOCAL_TIME=new fe().appendValue(d.HOUR_OF_DAY,2).appendLiteral(":").appendValue(d.MINUTE_OF_HOUR,2).optionalStart().appendLiteral(":").appendValue(d.SECOND_OF_MINUTE,2).optionalStart().appendFraction(d.NANO_OF_SECOND,0,9,!0).toFormatter(j.STRICT),X.ISO_LOCAL_DATE_TIME=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_DATE).appendLiteral("T").append(X.ISO_LOCAL_TIME).toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_INSTANT=new fe().parseCaseInsensitive().appendInstant().toFormatter(j.STRICT),X.ISO_OFFSET_DATE_TIME=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_DATE_TIME).appendOffsetId().toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_ZONED_DATE_TIME=new fe().append(X.ISO_OFFSET_DATE_TIME).optionalStart().appendLiteral("[").parseCaseSensitive().appendZoneId().appendLiteral("]").toFormatter(j.STRICT).withChronology(se.INSTANCE),X.BASIC_ISO_DATE=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).appendValue(d.MONTH_OF_YEAR,2).appendValue(d.DAY_OF_MONTH,2).toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_OFFSET_DATE=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_DATE).appendOffsetId().toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_OFFSET_TIME=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_TIME).appendOffsetId().toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_ORDINAL_DATE=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).appendLiteral("-").appendValue(d.DAY_OF_YEAR).toFormatter(j.STRICT),X.ISO_WEEK_DATE=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).appendLiteral("-W").appendValue(d.ALIGNED_WEEK_OF_YEAR).appendLiteral("-").appendValue(d.DAY_OF_WEEK).toFormatter(j.STRICT),X.ISO_DATE=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_DATE).optionalStart().appendOffsetId().optionalEnd().toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_TIME=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(j.STRICT),X.ISO_DATE_TIME=new fe().append(X.ISO_LOCAL_DATE_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(j.STRICT).withChronology(se.INSTANCE),X.PARSED_EXCESS_DAYS=we("PARSED_EXCESS_DAYS",function(p){return p instanceof Zr?p.excessDays:lt.ZERO}),X.PARSED_LEAP_SECOND=we("PARSED_LEAP_SECOND",function(p){return p instanceof Zr?p.leapSecond:!1})}var Qn=function(p){b(u,p),u.now=function(e){return arguments.length===0?u.now0():arguments.length===1&&e instanceof oe?u.nowZoneId(e):u.nowClock(e)},u.now0=function(){return this.nowClock(ce.systemDefaultZone())},u.nowZoneId=function(e){return y(e,"zone"),this.nowClock(ce.system(e))},u.nowClock=function(e){y(e,"clock");var o=k.now(e);return u.of(o.month(),o.dayOfMonth())},u.of=function(e,o){return arguments.length===2&&e instanceof G?u.ofMonthNumber(e,o):u.ofNumberNumber(e,o)},u.ofMonthNumber=function(e,o){if(y(e,"month"),d.DAY_OF_MONTH.checkValidValue(o),o>e.maxLength())throw new r("Illegal value for DayOfMonth field, value "+o+" is not valid for month "+e.toString());return new u(e.value(),o)},u.ofNumberNumber=function(e,o){return y(e,"month"),y(o,"dayOfMonth"),u.of(G.of(e),o)},u.from=function(e){if(y(e,"temporal"),U(e,St,"temporal"),e instanceof u)return e;try{return u.of(e.get(d.MONTH_OF_YEAR),e.get(d.DAY_OF_MONTH))}catch{throw new r("Unable to obtain MonthDay from TemporalAccessor: "+e+", type "+(e&&e.constructor!=null?e.constructor.name:""))}},u.parse=function(e,o){return arguments.length===1?u.parseString(e):u.parseStringFormatter(e,o)},u.parseString=function(e){return u.parseStringFormatter(e,qc)},u.parseStringFormatter=function(e,o){return y(e,"text"),y(o,"formatter"),U(o,X,"formatter"),o.parse(e,u.FROM)};function u(i,e){var o;return o=p.call(this)||this,o._month=_.safeToInt(i),o._day=_.safeToInt(e),o}var s=u.prototype;return s.monthValue=function(){return this._month},s.month=function(){return G.of(this._month)},s.dayOfMonth=function(){return this._day},s.isSupported=function(e){return e instanceof d?e===d.MONTH_OF_YEAR||e===d.DAY_OF_MONTH:e!=null&&e.isSupportedBy(this)},s.range=function(e){return e===d.MONTH_OF_YEAR?e.range():e===d.DAY_OF_MONTH?K.of(1,this.month().minLength(),this.month().maxLength()):p.prototype.range.call(this,e)},s.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},s.getLong=function(e){if(y(e,"field"),e instanceof d){switch(e){case d.DAY_OF_MONTH:return this._day;case d.MONTH_OF_YEAR:return this._month}throw new f("Unsupported field: "+e)}return e.getFrom(this)},s.isValidYear=function(e){return!(this._day===29&&this._month===2&&Ze.isLeap(e)===!1)},s.withMonth=function(e){return this.with(G.of(e))},s.with=function(e){if(y(e,"month"),e.value()===this._month)return this;var o=Math.min(this._day,e.maxLength());return new u(e.value(),o)},s.withDayOfMonth=function(e){return e===this._day?this:u.of(this._month,e)},s.query=function(e){return y(e,"query"),U(e,un,"query"),e===P.chronology()?se.INSTANCE:p.prototype.query.call(this,e)},s.adjustInto=function(e){return y(e,"temporal"),e=e.with(d.MONTH_OF_YEAR,this._month),e.with(d.DAY_OF_MONTH,Math.min(e.range(d.DAY_OF_MONTH).maximum(),this._day))},s.atYear=function(e){return k.of(e,this._month,this.isValidYear(e)?this._day:28)},s.compareTo=function(e){y(e,"other"),U(e,u,"other");var o=this._month-e.monthValue();return o===0&&(o=this._day-e.dayOfMonth()),o},s.isAfter=function(e){return y(e,"other"),U(e,u,"other"),this.compareTo(e)>0},s.isBefore=function(e){return y(e,"other"),U(e,u,"other"),this.compareTo(e)<0},s.equals=function(e){if(this===e)return!0;if(e instanceof u){var o=e;return this.monthValue()===o.monthValue()&&this.dayOfMonth()===o.dayOfMonth()}return!1},s.toString=function(){return"--"+(this._month<10?"0":"")+this._month+(this._day<10?"-0":"-")+this._day},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),U(e,X,"formatter"),e.format(this)},u}(St),qc;function sw(){qc=new fe().appendLiteral("--").appendValue(d.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(d.DAY_OF_MONTH,2).toFormatter(),Qn.FROM=we("MonthDay.FROM",function(p){return Qn.from(p)})}var mn=function(p){b(u,p),u.now=function(e){return arguments.length===0?u.now0():arguments.length===1&&e instanceof oe?u.nowZoneId(e):u.nowClock(e)},u.now0=function(){return u.nowClock(ce.systemDefaultZone())},u.nowZoneId=function(e){return u.nowClock(ce.system(e))},u.nowClock=function(e){var o=k.now(e);return u.of(o.year(),o.month())},u.of=function(e,o){return arguments.length===2&&o instanceof G?u.ofNumberMonth(e,o):u.ofNumberNumber(e,o)},u.ofNumberMonth=function(e,o){return y(o,"month"),U(o,G,"month"),u.ofNumberNumber(e,o.value())},u.ofNumberNumber=function(e,o){return y(e,"year"),y(o,"month"),d.YEAR.checkValidValue(e),d.MONTH_OF_YEAR.checkValidValue(o),new u(e,o)},u.from=function(e){if(y(e,"temporal"),e instanceof u)return e;try{return u.of(e.get(d.YEAR),e.get(d.MONTH_OF_YEAR))}catch{throw new r("Unable to obtain YearMonth from TemporalAccessor: "+e+", type "+(e&&e.constructor!=null?e.constructor.name:""))}},u.parse=function(e,o){return arguments.length===1?u.parseString(e):u.parseStringFormatter(e,o)},u.parseString=function(e){return u.parseStringFormatter(e,ua)},u.parseStringFormatter=function(e,o){return y(o,"formatter"),o.parse(e,u.FROM)};function u(i,e){var o;return o=p.call(this)||this,o._year=_.safeToInt(i),o._month=_.safeToInt(e),o}var s=u.prototype;return s.isSupported=function(e){return arguments.length===1&&e instanceof Ge?this.isSupportedField(e):this.isSupportedUnit(e)},s.isSupportedField=function(e){return e instanceof d?e===d.YEAR||e===d.MONTH_OF_YEAR||e===d.PROLEPTIC_MONTH||e===d.YEAR_OF_ERA||e===d.ERA:e!=null&&e.isSupportedBy(this)},s.isSupportedUnit=function(e){return e instanceof T?e===T.MONTHS||e===T.YEARS||e===T.DECADES||e===T.CENTURIES||e===T.MILLENNIA||e===T.ERAS:e!=null&&e.isSupportedBy(this)},s.range=function(e){return e===d.YEAR_OF_ERA?this.year()<=0?K.of(1,Ze.MAX_VALUE+1):K.of(1,Ze.MAX_VALUE):p.prototype.range.call(this,e)},s.get=function(e){return y(e,"field"),U(e,Ge,"field"),this.range(e).checkValidIntValue(this.getLong(e),e)},s.getLong=function(e){if(y(e,"field"),U(e,Ge,"field"),e instanceof d){switch(e){case d.MONTH_OF_YEAR:return this._month;case d.PROLEPTIC_MONTH:return this._getProlepticMonth();case d.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case d.YEAR:return this._year;case d.ERA:return this._year<1?0:1}throw new f("Unsupported field: "+e)}return e.getFrom(this)},s._getProlepticMonth=function(){return _.safeAdd(_.safeMultiply(this._year,12),this._month-1)},s.year=function(){return this._year},s.monthValue=function(){return this._month},s.month=function(){return G.of(this._month)},s.isLeapYear=function(){return se.isLeapYear(this._year)},s.isValidDay=function(e){return e>=1&&e<=this.lengthOfMonth()},s.lengthOfMonth=function(){return this.month().length(this.isLeapYear())},s.lengthOfYear=function(){return this.isLeapYear()?366:365},s.with=function(e,o){return arguments.length===1?this._withAdjuster(e):this._withField(e,o)},s._withField=function(e,o){if(y(e,"field"),U(e,Ge,"field"),e instanceof d){var c=e;switch(c.checkValidValue(o),c){case d.MONTH_OF_YEAR:return this.withMonth(o);case d.PROLEPTIC_MONTH:return this.plusMonths(o-this.getLong(d.PROLEPTIC_MONTH));case d.YEAR_OF_ERA:return this.withYear(this._year<1?1-o:o);case d.YEAR:return this.withYear(o);case d.ERA:return this.getLong(d.ERA)===o?this:this.withYear(1-this._year)}throw new f("Unsupported field: "+e)}return e.adjustInto(this,o)},s.withYear=function(e){return d.YEAR.checkValidValue(e),new u(e,this._month)},s.withMonth=function(e){return d.MONTH_OF_YEAR.checkValidValue(e),new u(this._year,e)},s._plusUnit=function(e,o){if(y(o,"unit"),U(o,Z,"unit"),o instanceof T){switch(o){case T.MONTHS:return this.plusMonths(e);case T.YEARS:return this.plusYears(e);case T.DECADES:return this.plusYears(_.safeMultiply(e,10));case T.CENTURIES:return this.plusYears(_.safeMultiply(e,100));case T.MILLENNIA:return this.plusYears(_.safeMultiply(e,1e3));case T.ERAS:return this.with(d.ERA,_.safeAdd(this.getLong(d.ERA),e))}throw new f("Unsupported unit: "+o)}return o.addTo(this,e)},s.plusYears=function(e){if(e===0)return this;var o=d.YEAR.checkValidIntValue(this._year+e);return this.withYear(o)},s.plusMonths=function(e){if(e===0)return this;var o=this._year*12+(this._month-1),c=o+e,m=d.YEAR.checkValidIntValue(_.floorDiv(c,12)),g=_.floorMod(c,12)+1;return new u(m,g)},s.minusYears=function(e){return e===_.MIN_SAFE_INTEGER?this.plusYears(_.MIN_SAFE_INTEGER).plusYears(1):this.plusYears(-e)},s.minusMonths=function(e){return e===_.MIN_SAFE_INTEGER?this.plusMonths(Math.MAX_SAFE_INTEGER).plusMonths(1):this.plusMonths(-e)},s.query=function(e){return y(e,"query"),U(e,un,"query"),e===P.chronology()?se.INSTANCE:e===P.precision()?T.MONTHS:e===P.localDate()||e===P.localTime()||e===P.zone()||e===P.zoneId()||e===P.offset()?null:p.prototype.query.call(this,e)},s.adjustInto=function(e){return y(e,"temporal"),U(e,xe,"temporal"),e.with(d.PROLEPTIC_MONTH,this._getProlepticMonth())},s.until=function(e,o){y(e,"endExclusive"),y(o,"unit"),U(e,xe,"endExclusive"),U(o,Z,"unit");var c=u.from(e);if(o instanceof T){var m=c._getProlepticMonth()-this._getProlepticMonth();switch(o){case T.MONTHS:return m;case T.YEARS:return _.intDiv(m,12);case T.DECADES:return _.intDiv(m,120);case T.CENTURIES:return _.intDiv(m,1200);case T.MILLENNIA:return _.intDiv(m,12e3);case T.ERAS:return c.getLong(d.ERA)-this.getLong(d.ERA)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},s.atDay=function(e){return y(e,"dayOfMonth"),k.of(this._year,this._month,e)},s.atEndOfMonth=function(){return k.of(this._year,this._month,this.lengthOfMonth())},s.compareTo=function(e){y(e,"other"),U(e,u,"other");var o=this._year-e.year();return o===0&&(o=this._month-e.monthValue()),o},s.isAfter=function(e){return this.compareTo(e)>0},s.isBefore=function(e){return this.compareTo(e)<0},s.equals=function(e){if(this===e)return!0;if(e instanceof u){var o=e;return this.year()===o.year()&&this.monthValue()===o.monthValue()}return!1},s.toString=function(){return ua.format(this)},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),e.format(this)},u}(xe),ua;function aw(){ua=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).appendLiteral("-").appendValue(d.MONTH_OF_YEAR,2).toFormatter(),mn.FROM=we("YearMonth.FROM",function(p){return mn.from(p)})}var Ze=function(p){b(u,p);function u(i){var e;return e=p.call(this)||this,e._year=_.safeToInt(i),e}var s=u.prototype;return s.value=function(){return this._year},u.now=function(e){return e===void 0&&(e=void 0),e===void 0?u.now0():e instanceof oe?u.nowZoneId(e):u.nowClock(e)},u.now0=function(){return u.nowClock(ce.systemDefaultZone())},u.nowZoneId=function(e){return y(e,"zone"),U(e,oe,"zone"),u.nowClock(ce.system(e))},u.nowClock=function(e){y(e,"clock"),U(e,ce,"clock");var o=k.now(e);return u.of(o.year())},u.of=function(e){return y(e,"isoYear"),d.YEAR.checkValidValue(e),new u(e)},u.from=function(e){if(y(e,"temporal"),U(e,St,"temporal"),e instanceof u)return e;try{return u.of(e.get(d.YEAR))}catch{throw new r("Unable to obtain Year from TemporalAccessor: "+e+", type "+(e&&e.constructor!=null?e.constructor.name:""))}},u.parse=function(e,o){return arguments.length<=1?u.parseText(e):u.parseTextFormatter(e,o)},u.parseText=function(e){return y(e,"text"),u.parse(e,fa)},u.parseTextFormatter=function(e,o){return o===void 0&&(o=fa),y(e,"text"),y(o,"formatter"),U(o,X,"formatter"),o.parse(e,u.FROM)},u.isLeap=function(e){return _.intMod(e,4)===0&&(_.intMod(e,100)!==0||_.intMod(e,400)===0)},s.isSupported=function(e){return arguments.length===1&&e instanceof Ge?this.isSupportedField(e):this.isSupportedUnit(e)},s.isSupportedField=function(e){return e instanceof d?e===d.YEAR||e===d.YEAR_OF_ERA||e===d.ERA:e!=null&&e.isSupportedBy(this)},s.isSupportedUnit=function(e){return e instanceof T?e===T.YEARS||e===T.DECADES||e===T.CENTURIES||e===T.MILLENNIA||e===T.ERAS:e!=null&&e.isSupportedBy(this)},s.range=function(e){if(this.isSupported(e))return e.range();if(e instanceof d)throw new f("Unsupported field: "+e);return p.prototype.range.call(this,e)},s.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},s.getLong=function(e){if(y(e,"field"),e instanceof d){switch(e){case d.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case d.YEAR:return this._year;case d.ERA:return this._year<1?0:1}throw new f("Unsupported field: "+e)}return e.getFrom(this)},s.isLeap=function(){return u.isLeap(this._year)},s._withField=function(e,o){if(y(e,"field"),U(e,Ge,"field"),e instanceof d){switch(e.checkValidValue(o),e){case d.YEAR_OF_ERA:return u.of(this._year<1?1-o:o);case d.YEAR:return u.of(o);case d.ERA:return this.getLong(d.ERA)===o?this:u.of(1-this._year)}throw new f("Unsupported field: "+e)}return e.adjustInto(this,o)},s._plusUnit=function(e,o){if(y(e,"amountToAdd"),y(o,"unit"),U(o,Z,"unit"),o instanceof T){switch(o){case T.YEARS:return this.plusYears(e);case T.DECADES:return this.plusYears(_.safeMultiply(e,10));case T.CENTURIES:return this.plusYears(_.safeMultiply(e,100));case T.MILLENNIA:return this.plusYears(_.safeMultiply(e,1e3));case T.ERAS:return this.with(d.ERA,_.safeAdd(this.getLong(d.ERA),e))}throw new f("Unsupported unit: "+o)}return o.addTo(this,e)},s.plusYears=function(e){return e===0?this:u.of(d.YEAR.checkValidIntValue(_.safeAdd(this._year,e)))},s.minusYears=function(e){return e===_.MIN_SAFE_INTEGER?this.plusYears(_.MAX_SAFE_INTEGER).plusYears(1):this.plusYears(-e)},s.adjustInto=function(e){return y(e,"temporal"),e.with(d.YEAR,this._year)},s.isValidMonthDay=function(e){return e!=null&&e.isValidYear(this._year)},s.length=function(){return this.isLeap()?366:365},s.atDay=function(e){return k.ofYearDay(this._year,e)},s.atMonth=function(e){return arguments.length===1&&e instanceof G?this.atMonthMonth(e):this.atMonthNumber(e)},s.atMonthMonth=function(e){return y(e,"month"),U(e,G,"month"),mn.of(this._year,e)},s.atMonthNumber=function(e){return y(e,"month"),mn.of(this._year,e)},s.atMonthDay=function(e){return y(e,"monthDay"),U(e,Qn,"monthDay"),e.atYear(this._year)},s.query=function(e){return y(e,"query()"),U(e,un,"query()"),e===P.chronology()?se.INSTANCE:e===P.precision()?T.YEARS:e===P.localDate()||e===P.localTime()||e===P.zone()||e===P.zoneId()||e===P.offset()?null:p.prototype.query.call(this,e)},s.compareTo=function(e){return y(e,"other"),U(e,u,"other"),this._year-e._year},s.isAfter=function(e){return y(e,"other"),U(e,u,"other"),this._year>e._year},s.isBefore=function(e){return y(e,"other"),U(e,u,"other"),this._year<e._year},s.format=function(e){return y(e,"formatter"),U(e,X,"formatter"),e.format(this)},s.equals=function(e){return this===e?!0:e instanceof u?this.value()===e.value():!1},s.toString=function(){return""+this._year},s.toJSON=function(){return this.toString()},s.until=function(e,o){var c=u.from(e);if(o instanceof T){var m=c.value()-this.value();switch(o){case T.YEARS:return m;case T.DECADES:return _.intDiv(m,10);case T.CENTURIES:return _.intDiv(m,100);case T.MILLENNIA:return _.intDiv(m,1e3);case T.ERAS:return c.getLong(d.ERA)-this.getLong(d.ERA)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},u}(xe),fa;function uw(){Ze.MIN_VALUE=be.MIN_VALUE,Ze.MAX_VALUE=be.MAX_VALUE,fa=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).toFormatter(),Ze.FROM=we("Year.FROM",function(p){return Ze.from(p)})}var er=function(){function p(){}var u=p.prototype;return u.adjustInto=function(i){w("adjustInto")},p}(),la=function(){function p(){}return p.firstDayOfMonth=function(){return Ne.FIRST_DAY_OF_MONTH},p.lastDayOfMonth=function(){return Ne.LAST_DAY_OF_MONTH},p.firstDayOfNextMonth=function(){return Ne.FIRST_DAY_OF_NEXT_MONTH},p.firstDayOfYear=function(){return Ne.FIRST_DAY_OF_YEAR},p.lastDayOfYear=function(){return Ne.LAST_DAY_OF_YEAR},p.firstDayOfNextYear=function(){return Ne.FIRST_DAY_OF_NEXT_YEAR},p.firstInMonth=function(s){return y(s,"dayOfWeek"),new ca(1,s)},p.lastInMonth=function(s){return y(s,"dayOfWeek"),new ca(-1,s)},p.dayOfWeekInMonth=function(s,i){return y(i,"dayOfWeek"),new ca(s,i)},p.next=function(s){return new Xr(2,s)},p.nextOrSame=function(s){return new Xr(0,s)},p.previous=function(s){return new Xr(3,s)},p.previousOrSame=function(s){return new Xr(1,s)},p}(),Ne=function(p){b(u,p);function u(i){var e;return e=p.call(this)||this,e._ordinal=i,e}var s=u.prototype;return s.adjustInto=function(e){switch(this._ordinal){case 0:return e.with(d.DAY_OF_MONTH,1);case 1:return e.with(d.DAY_OF_MONTH,e.range(d.DAY_OF_MONTH).maximum());case 2:return e.with(d.DAY_OF_MONTH,1).plus(1,T.MONTHS);case 3:return e.with(d.DAY_OF_YEAR,1);case 4:return e.with(d.DAY_OF_YEAR,e.range(d.DAY_OF_YEAR).maximum());case 5:return e.with(d.DAY_OF_YEAR,1).plus(1,T.YEARS)}throw new E("Unreachable")},u}(er);Ne.FIRST_DAY_OF_MONTH=new Ne(0),Ne.LAST_DAY_OF_MONTH=new Ne(1),Ne.FIRST_DAY_OF_NEXT_MONTH=new Ne(2),Ne.FIRST_DAY_OF_YEAR=new Ne(3),Ne.LAST_DAY_OF_YEAR=new Ne(4),Ne.FIRST_DAY_OF_NEXT_YEAR=new Ne(5);var ca=function(p){b(u,p);function u(i,e){var o;return o=p.call(this)||this,o._ordinal=i,o._dowValue=e.value(),o}var s=u.prototype;return s.adjustInto=function(e){if(this._ordinal>=0){var o=e.with(d.DAY_OF_MONTH,1),c=o.get(d.DAY_OF_WEEK),m=_.intMod(this._dowValue-c+7,7);return m+=(this._ordinal-1)*7,o.plus(m,T.DAYS)}else{var g=e.with(d.DAY_OF_MONTH,e.range(d.DAY_OF_MONTH).maximum()),N=g.get(d.DAY_OF_WEEK),R=this._dowValue-N;return R=R===0?0:R>0?R-7:R,R-=(-this._ordinal-1)*7,g.plus(R,T.DAYS)}},u}(er),Xr=function(p){b(u,p);function u(i,e){var o;return o=p.call(this)||this,y(e,"dayOfWeek"),o._relative=i,o._dowValue=e.value(),o}var s=u.prototype;return s.adjustInto=function(e){var o=e.get(d.DAY_OF_WEEK);if(this._relative<2&&o===this._dowValue)return e;if((this._relative&1)===0){var c=o-this._dowValue;return e.plus(c>=0?7-c:-c,T.DAYS)}else{var m=this._dowValue-o;return e.minus(m>=0?7-m:-m,T.DAYS)}},u}(er),se=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}u.isLeapYear=function(e){return(e&3)===0&&(e%100!==0||e%400===0)};var s=u.prototype;return s._updateResolveMap=function(e,o,c){y(e,"fieldValues"),y(o,"field");var m=e.get(o);if(m!=null&&m!==c)throw new r("Invalid state, field: "+o+" "+m+" conflicts with "+o+" "+c);e.put(o,c)},s.resolveDate=function(e,o){if(e.containsKey(d.EPOCH_DAY))return k.ofEpochDay(e.remove(d.EPOCH_DAY));var c=e.remove(d.PROLEPTIC_MONTH);c!=null&&(o!==j.LENIENT&&d.PROLEPTIC_MONTH.checkValidValue(c),this._updateResolveMap(e,d.MONTH_OF_YEAR,_.floorMod(c,12)+1),this._updateResolveMap(e,d.YEAR,_.floorDiv(c,12)));var m=e.remove(d.YEAR_OF_ERA);if(m!=null){o!==j.LENIENT&&d.YEAR_OF_ERA.checkValidValue(m);var g=e.remove(d.ERA);if(g==null){var N=e.get(d.YEAR);o===j.STRICT?N!=null?this._updateResolveMap(e,d.YEAR,N>0?m:_.safeSubtract(1,m)):e.put(d.YEAR_OF_ERA,m):this._updateResolveMap(e,d.YEAR,N==null||N>0?m:_.safeSubtract(1,m))}else if(g===1)this._updateResolveMap(e,d.YEAR,m);else if(g===0)this._updateResolveMap(e,d.YEAR,_.safeSubtract(1,m));else throw new r("Invalid value for era: "+g)}else e.containsKey(d.ERA)&&d.ERA.checkValidValue(e.get(d.ERA));if(e.containsKey(d.YEAR)){if(e.containsKey(d.MONTH_OF_YEAR)&&e.containsKey(d.DAY_OF_MONTH)){var R=d.YEAR.checkValidIntValue(e.remove(d.YEAR)),x=e.remove(d.MONTH_OF_YEAR),q=e.remove(d.DAY_OF_MONTH);if(o===j.LENIENT){var H=x-1,W=q-1;return k.of(R,1,1).plusMonths(H).plusDays(W)}else return o===j.SMART&&(d.DAY_OF_MONTH.checkValidValue(q),x===4||x===6||x===9||x===11?q=Math.min(q,30):x===2&&(q=Math.min(q,G.FEBRUARY.length(Ze.isLeap(R))))),k.of(R,x,q)}if(e.containsKey(d.DAY_OF_YEAR)){var le=d.YEAR.checkValidIntValue(e.remove(d.YEAR));if(o===j.LENIENT){var ye=_.safeSubtract(e.remove(d.DAY_OF_YEAR),1);return k.ofYearDay(le,1).plusDays(ye)}var ve=d.DAY_OF_YEAR.checkValidIntValue(e.remove(d.DAY_OF_YEAR));return k.ofYearDay(le,ve)}if(e.containsKey(d.ALIGNED_WEEK_OF_YEAR)){if(e.containsKey(d.ALIGNED_DAY_OF_WEEK_IN_YEAR)){var ge=d.YEAR.checkValidIntValue(e.remove(d.YEAR));if(o===j.LENIENT){var Ue=_.safeSubtract(e.remove(d.ALIGNED_WEEK_OF_YEAR),1),ot=_.safeSubtract(e.remove(d.ALIGNED_DAY_OF_WEEK_IN_YEAR),1);return k.of(ge,1,1).plusWeeks(Ue).plusDays(ot)}var ei=d.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(e.remove(d.ALIGNED_WEEK_OF_YEAR)),tr=d.ALIGNED_DAY_OF_WEEK_IN_YEAR.checkValidIntValue(e.remove(d.ALIGNED_DAY_OF_WEEK_IN_YEAR)),ti=k.of(ge,1,1).plusDays((ei-1)*7+(tr-1));if(o===j.STRICT&&ti.get(d.YEAR)!==ge)throw new r("Strict mode rejected date parsed to a different year");return ti}if(e.containsKey(d.DAY_OF_WEEK)){var $t=d.YEAR.checkValidIntValue(e.remove(d.YEAR));if(o===j.LENIENT){var zc=_.safeSubtract(e.remove(d.ALIGNED_WEEK_OF_YEAR),1),Aw=_.safeSubtract(e.remove(d.DAY_OF_WEEK),1);return k.of($t,1,1).plusWeeks(zc).plusDays(Aw)}var Dw=d.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(e.remove(d.ALIGNED_WEEK_OF_YEAR)),bw=d.DAY_OF_WEEK.checkValidIntValue(e.remove(d.DAY_OF_WEEK)),Zc=k.of($t,1,1).plusWeeks(Dw-1).with(la.nextOrSame(he.of(bw)));if(o===j.STRICT&&Zc.get(d.YEAR)!==$t)throw new r("Strict mode rejected date parsed to a different month");return Zc}}}return null},s.date=function(e){return k.from(e)},u}(Q);function fw(){se.INSTANCE=new se("IsoChronology")}var it=function(p){b(u,p),u.from=function(e){if(y(e,"temporal"),e instanceof u)return e;if(e instanceof Xe)return e.toOffsetTime();try{var o=D.from(e),c=z.from(e);return new u(o,c)}catch{throw new r("Unable to obtain OffsetTime TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""))}},u.now=function(e){return arguments.length===0?u._now(ce.systemDefaultZone()):e instanceof ce?u._now(e):u._now(ce.system(e))},u._now=function(e){y(e,"clock");var o=e.instant();return u.ofInstant(o,e.zone().rules().offset(o))},u.of=function(){return arguments.length<=2?u.ofTimeAndOffset.apply(this,arguments):u.ofNumbers.apply(this,arguments)},u.ofNumbers=function(e,o,c,m,g){var N=D.of(e,o,c,m);return new u(N,g)},u.ofTimeAndOffset=function(e,o){return new u(e,o)},u.ofInstant=function(e,o){y(e,"instant"),U(e,de,"instant"),y(o,"zone"),U(o,oe,"zone");var c=o.rules(),m=c.offset(e),g=e.epochSecond()%D.SECONDS_PER_DAY;g=(g+m.totalSeconds())%D.SECONDS_PER_DAY,g<0&&(g+=D.SECONDS_PER_DAY);var N=D.ofSecondOfDay(g,e.nano());return new u(N,m)},u.parse=function(e,o){return o===void 0&&(o=X.ISO_OFFSET_TIME),y(o,"formatter"),o.parse(e,u.FROM)};function u(i,e){var o;return o=p.call(this)||this,y(i,"time"),U(i,D,"time"),y(e,"offset"),U(e,z,"offset"),o._time=i,o._offset=e,o}var s=u.prototype;return s.adjustInto=function(e){return e.with(d.NANO_OF_DAY,this._time.toNanoOfDay()).with(d.OFFSET_SECONDS,this.offset().totalSeconds())},s.atDate=function(e){return Xe.of(e,this._time,this._offset)},s.format=function(e){return y(e,"formatter"),e.format(this,u.FROM)},s.get=function(e){return p.prototype.get.call(this,e)},s.getLong=function(e){return e instanceof d?e===d.OFFSET_SECONDS?this._offset.totalSeconds():this._time.getLong(e):e.getFrom(this)},s.hour=function(){return this._time.hour()},s.minute=function(){return this._time.minute()},s.second=function(){return this._time.second()},s.nano=function(){return this._time.nano()},s.offset=function(){return this._offset},s.isAfter=function(e){return y(e,"other"),this._toEpochNano()>e._toEpochNano()},s.isBefore=function(e){return y(e,"other"),this._toEpochNano()<e._toEpochNano()},s.isEqual=function(e){return y(e,"other"),this._toEpochNano()===e._toEpochNano()},s.isSupported=function(e){return e instanceof d?e.isTimeBased()||e===d.OFFSET_SECONDS:e instanceof T?e.isTimeBased():e!=null&&e.isSupportedBy(this)},s.minusHours=function(e){return this._withLocalTimeOffset(this._time.minusHours(e),this._offset)},s.minusMinutes=function(e){return this._withLocalTimeOffset(this._time.minusMinutes(e),this._offset)},s.minusSeconds=function(e){return this._withLocalTimeOffset(this._time.minusSeconds(e),this._offset)},s.minusNanos=function(e){return this._withLocalTimeOffset(this._time.minusNanos(e),this._offset)},s._minusAmount=function(e){return y(e),e.subtractFrom(this)},s._minusUnit=function(e,o){return this.plus(-1*e,o)},s._plusAmount=function(e){return y(e),e.addTo(this)},s._plusUnit=function(e,o){return o instanceof T?this._withLocalTimeOffset(this._time.plus(e,o),this._offset):o.addTo(this,e)},s.plusHours=function(e){return this._withLocalTimeOffset(this._time.plusHours(e),this._offset)},s.plusMinutes=function(e){return this._withLocalTimeOffset(this._time.plusMinutes(e),this._offset)},s.plusSeconds=function(e){return this._withLocalTimeOffset(this._time.plusSeconds(e),this._offset)},s.plusNanos=function(e){return this._withLocalTimeOffset(this._time.plusNanos(e),this._offset)},s.query=function(e){return y(e,"query"),e===P.precision()?T.NANOS:e===P.offset()||e===P.zone()?this.offset():e===P.localTime()?this._time:e===P.chronology()||e===P.localDate()||e===P.zoneId()?null:p.prototype.query.call(this,e)},s.range=function(e){return e instanceof d?e===d.OFFSET_SECONDS?e.range():this._time.range(e):e.rangeRefinedBy(this)},s.toLocalTime=function(){return this._time},s.truncatedTo=function(e){return this._withLocalTimeOffset(this._time.truncatedTo(e),this._offset)},s.until=function(e,o){y(e,"endExclusive"),y(o,"unit");var c=u.from(e);if(o instanceof T){var m=c._toEpochNano()-this._toEpochNano();switch(o){case T.NANOS:return m;case T.MICROS:return _.intDiv(m,1e3);case T.MILLIS:return _.intDiv(m,1e6);case T.SECONDS:return _.intDiv(m,D.NANOS_PER_SECOND);case T.MINUTES:return _.intDiv(m,D.NANOS_PER_MINUTE);case T.HOURS:return _.intDiv(m,D.NANOS_PER_HOUR);case T.HALF_DAYS:return _.intDiv(m,12*D.NANOS_PER_HOUR)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},s.withHour=function(e){return this._withLocalTimeOffset(this._time.withHour(e),this._offset)},s.withMinute=function(e){return this._withLocalTimeOffset(this._time.withMinute(e),this._offset)},s.withSecond=function(e){return this._withLocalTimeOffset(this._time.withSecond(e),this._offset)},s.withNano=function(e){return this._withLocalTimeOffset(this._time.withNano(e),this._offset)},s.withOffsetSameInstant=function(e){if(y(e,"offset"),e.equals(this._offset))return this;var o=e.totalSeconds()-this._offset.totalSeconds(),c=this._time.plusSeconds(o);return new u(c,e)},s.withOffsetSameLocal=function(e){return e!=null&&e.equals(this._offset)?this:new u(this._time,e)},s._toEpochNano=function(){var e=this._time.toNanoOfDay(),o=this._offset.totalSeconds()*D.NANOS_PER_SECOND;return e-o},s._withAdjuster=function(e){return y(e,"adjuster"),e instanceof D?this._withLocalTimeOffset(e,this._offset):e instanceof z?this._withLocalTimeOffset(this._time,e):e instanceof u?e:e.adjustInto(this)},s._withField=function(e,o){return y(e,"field"),e instanceof d?e===d.OFFSET_SECONDS?this._withLocalTimeOffset(this._time,z.ofTotalSeconds(e.checkValidIntValue(o))):this._withLocalTimeOffset(this._time.with(e,o),this._offset):e.adjustInto(this,o)},s._withLocalTimeOffset=function(e,o){return this._time===e&&this._offset.equals(o)?this:new u(e,o)},s.compareTo=function(e){if(y(e,"other"),U(e,u,"other"),this._offset.equals(e._offset))return this._time.compareTo(e._time);var o=_.compareNumbers(this._toEpochNano(),e._toEpochNano());return o===0?this._time.compareTo(e._time):o},s.equals=function(e){return this===e?!0:e instanceof u?this._time.equals(e._time)&&this._offset.equals(e._offset):!1},s.hashCode=function(){return this._time.hashCode()^this._offset.hashCode()},s.toString=function(){return this._time.toString()+this._offset.toString()},s.toJSON=function(){return this.toString()},u}(xe);function lw(){it.MIN=it.ofNumbers(0,0,0,0,z.MAX),it.MAX=it.ofNumbers(23,59,59,999999999,z.MIN),it.FROM=we("OffsetTime.FROM",function(p){return it.from(p)})}var ha=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.query=function(e){return e===P.zoneId()||e===P.zone()?this.zone():e===P.chronology()?this.toLocalDate().chronology():e===P.precision()?T.NANOS:e===P.offset()?this.offset():e===P.localDate()?k.ofEpochDay(this.toLocalDate().toEpochDay()):e===P.localTime()?this.toLocalTime():p.prototype.query.call(this,e)},s.format=function(e){return y(e,"formatter"),e.format(this)},s.toInstant=function(){return de.ofEpochSecond(this.toEpochSecond(),this.toLocalTime().nano())},s.toEpochSecond=function(){var e=this.toLocalDate().toEpochDay(),o=e*86400+this.toLocalTime().toSecondOfDay();return o-=this.offset().totalSeconds(),o},s.compareTo=function(e){y(e,"other");var o=_.compareNumbers(this.toEpochSecond(),e.toEpochSecond());return o===0&&(o=this.toLocalTime().nano()-e.toLocalTime().nano(),o===0&&(o=this.toLocalDateTime().compareTo(e.toLocalDateTime()),o===0&&(o=cw(this.zone().id(),e.zone().id())))),o},s.isAfter=function(e){y(e,"other");var o=this.toEpochSecond(),c=e.toEpochSecond();return o>c||o===c&&this.toLocalTime().nano()>e.toLocalTime().nano()},s.isBefore=function(e){y(e,"other");var o=this.toEpochSecond(),c=e.toEpochSecond();return o<c||o===c&&this.toLocalTime().nano()<e.toLocalTime().nano()},s.isEqual=function(e){return y(e,"other"),this.toEpochSecond()===e.toEpochSecond()&&this.toLocalTime().nano()===e.toLocalTime().nano()},s.equals=function(e){return this===e?!0:e instanceof u?this.compareTo(e)===0:!1},u}(xe);function cw(p,u){return p<u?-1:p>u?1:0}var je=function(p){b(u,p),u.now=function(e){var o;return e instanceof oe?o=ce.system(e):o=e??ce.systemDefaultZone(),u.ofInstant(o.instant(),o.zone())},u.of=function(){return arguments.length<=2?u.of2.apply(this,arguments):arguments.length===3&&arguments[0]instanceof k?u.of3.apply(this,arguments):u.of8.apply(this,arguments)},u.of3=function(e,o,c){return u.of2(ae.of(e,o),c)},u.of2=function(e,o){return u.ofLocal(e,o,null)},u.of8=function(e,o,c,m,g,N,R,x){var q=ae.of(e,o,c,m,g,N,R);return u.ofLocal(q,x,null)},u.ofLocal=function(e,o,c){if(y(e,"localDateTime"),y(o,"zone"),o instanceof z)return new u(e,o,o);var m=null,g=o.rules(),N=g.validOffsets(e);if(N.length===1)m=N[0];else if(N.length===0){var R=g.transition(e);e=e.plusSeconds(R.duration().seconds()),m=R.offsetAfter()}else c!=null&&N.some(function(x){return x.equals(c)})?m=c:m=y(N[0],"offset");return new u(e,m,o)},u.ofInstant=function(){return arguments.length===2?u.ofInstant2.apply(this,arguments):u.ofInstant3.apply(this,arguments)},u.ofInstant2=function(e,o){return y(e,"instant"),y(o,"zone"),u._create(e.epochSecond(),e.nano(),o)},u.ofInstant3=function(e,o,c){return y(e,"localDateTime"),y(o,"offset"),y(c,"zone"),u._create(e.toEpochSecond(o),e.nano(),c)},u._create=function(e,o,c){var m=c.rules(),g=de.ofEpochSecond(e,o),N=m.offset(g),R=ae.ofEpochSecond(e,o,N);return new u(R,N,c)},u.ofStrict=function(e,o,c){y(e,"localDateTime"),y(o,"offset"),y(c,"zone");var m=c.rules();if(m.isValidOffset(e,o)===!1){var g=m.transition(e);throw g!=null&&g.isGap()?new r("LocalDateTime "+e+" does not exist in zone "+c+" due to a gap in the local time-line, typically caused by daylight savings"):new r('ZoneOffset "'+o+'" is not valid for LocalDateTime "'+e+'" in zone "'+c+'"')}return new u(e,o,c)},u.ofLenient=function(e,o,c){if(y(e,"localDateTime"),y(o,"offset"),y(c,"zone"),c instanceof z&&o.equals(c)===!1)throw new h("ZoneId must match ZoneOffset");return new u(e,o,c)},u.from=function(e){if(y(e,"temporal"),e instanceof u)return e;var o=oe.from(e);if(e.isSupported(d.INSTANT_SECONDS)){var c=u._from(e,o);if(c!=null)return c}var m=ae.from(e);return u.of2(m,o)},u._from=function(e,o){try{return u.__from(e,o)}catch(c){if(!(c instanceof r))throw c}},u.__from=function(e,o){var c=e.getLong(d.INSTANT_SECONDS),m=e.get(d.NANO_OF_SECOND);return u._create(c,m,o)},u.parse=function(e,o){return o===void 0&&(o=X.ISO_ZONED_DATE_TIME),y(o,"formatter"),o.parse(e,u.FROM)};function u(i,e,o){var c;return y(i,"dateTime"),y(e,"offset"),y(o,"zone"),c=p.call(this)||this,c._dateTime=i,c._offset=e,c._zone=o,c}var s=u.prototype;return s._resolveLocal=function(e){return y(e,"newDateTime"),u.ofLocal(e,this._zone,this._offset)},s._resolveInstant=function(e){return u.ofInstant3(e,this._offset,this._zone)},s._resolveOffset=function(e){return e.equals(this._offset)===!1&&this._zone.rules().isValidOffset(this._dateTime,e)?new u(this._dateTime,e,this._zone):this},s.isSupported=function(e){return e instanceof d?!0:e instanceof T?e.isDateBased()||e.isTimeBased():e!=null&&e.isSupportedBy(this)},s.range=function(e){return e instanceof d?e===d.INSTANT_SECONDS||e===d.OFFSET_SECONDS?e.range():this._dateTime.range(e):e.rangeRefinedBy(this)},s.get=function(e){return this.getLong(e)},s.getLong=function(e){if(e instanceof d){switch(e){case d.INSTANT_SECONDS:return this.toEpochSecond();case d.OFFSET_SECONDS:return this._offset.totalSeconds()}return this._dateTime.getLong(e)}return y(e,"field"),e.getFrom(this)},s.offset=function(){return this._offset},s.withEarlierOffsetAtOverlap=function(){var e=this._zone.rules().transition(this._dateTime);if(e!=null&&e.isOverlap()){var o=e.offsetBefore();if(o.equals(this._offset)===!1)return new u(this._dateTime,o,this._zone)}return this},s.withLaterOffsetAtOverlap=function(){var e=this._zone.rules().transition(this.toLocalDateTime());if(e!=null){var o=e.offsetAfter();if(o.equals(this._offset)===!1)return new u(this._dateTime,o,this._zone)}return this},s.zone=function(){return this._zone},s.withZoneSameLocal=function(e){return y(e,"zone"),this._zone.equals(e)?this:u.ofLocal(this._dateTime,e,this._offset)},s.withZoneSameInstant=function(e){return y(e,"zone"),this._zone.equals(e)?this:u._create(this._dateTime.toEpochSecond(this._offset),this._dateTime.nano(),e)},s.withFixedOffsetZone=function(){return this._zone.equals(this._offset)?this:new u(this._dateTime,this._offset,this._offset)},s.year=function(){return this._dateTime.year()},s.monthValue=function(){return this._dateTime.monthValue()},s.month=function(){return this._dateTime.month()},s.dayOfMonth=function(){return this._dateTime.dayOfMonth()},s.dayOfYear=function(){return this._dateTime.dayOfYear()},s.dayOfWeek=function(){return this._dateTime.dayOfWeek()},s.hour=function(){return this._dateTime.hour()},s.minute=function(){return this._dateTime.minute()},s.second=function(){return this._dateTime.second()},s.nano=function(){return this._dateTime.nano()},s._withAdjuster=function(e){if(e instanceof k)return this._resolveLocal(ae.of(e,this._dateTime.toLocalTime()));if(e instanceof D)return this._resolveLocal(ae.of(this._dateTime.toLocalDate(),e));if(e instanceof ae)return this._resolveLocal(e);if(e instanceof de){var o=e;return u._create(o.epochSecond(),o.nano(),this._zone)}else if(e instanceof z)return this._resolveOffset(e);return p.prototype._withAdjuster.call(this,e)},s._withField=function(e,o){if(e instanceof d){switch(e){case d.INSTANT_SECONDS:return u._create(o,this.nano(),this._zone);case d.OFFSET_SECONDS:{var c=z.ofTotalSeconds(e.checkValidIntValue(o));return this._resolveOffset(c)}}return this._resolveLocal(this._dateTime.with(e,o))}return e.adjustInto(this,o)},s.withYear=function(e){return this._resolveLocal(this._dateTime.withYear(e))},s.withMonth=function(e){return this._resolveLocal(this._dateTime.withMonth(e))},s.withDayOfMonth=function(e){return this._resolveLocal(this._dateTime.withDayOfMonth(e))},s.withDayOfYear=function(e){return this._resolveLocal(this._dateTime.withDayOfYear(e))},s.withHour=function(e){return this._resolveLocal(this._dateTime.withHour(e))},s.withMinute=function(e){return this._resolveLocal(this._dateTime.withMinute(e))},s.withSecond=function(e){return this._resolveLocal(this._dateTime.withSecond(e))},s.withNano=function(e){return this._resolveLocal(this._dateTime.withNano(e))},s.truncatedTo=function(e){return this._resolveLocal(this._dateTime.truncatedTo(e))},s._plusUnit=function(e,o){return o instanceof T?o.isDateBased()?this._resolveLocal(this._dateTime.plus(e,o)):this._resolveInstant(this._dateTime.plus(e,o)):(y(o,"unit"),o.addTo(this,e))},s.plusYears=function(e){return this._resolveLocal(this._dateTime.plusYears(e))},s.plusMonths=function(e){return this._resolveLocal(this._dateTime.plusMonths(e))},s.plusWeeks=function(e){return this._resolveLocal(this._dateTime.plusWeeks(e))},s.plusDays=function(e){return this._resolveLocal(this._dateTime.plusDays(e))},s.plusHours=function(e){return this._resolveInstant(this._dateTime.plusHours(e))},s.plusMinutes=function(e){return this._resolveInstant(this._dateTime.plusMinutes(e))},s.plusSeconds=function(e){return this._resolveInstant(this._dateTime.plusSeconds(e))},s.plusNanos=function(e){return this._resolveInstant(this._dateTime.plusNanos(e))},s._minusUnit=function(e,o){return this._plusUnit(-1*e,o)},s.minusYears=function(e){return this.plusYears(-1*e)},s.minusMonths=function(e){return this.plusMonths(-1*e)},s.minusWeeks=function(e){return this.plusWeeks(-1*e)},s.minusDays=function(e){return this.plusDays(-1*e)},s.minusHours=function(e){return this.plusHours(-1*e)},s.minusMinutes=function(e){return this.plusMinutes(-1*e)},s.minusSeconds=function(e){return this.plusSeconds(-1*e)},s.minusNanos=function(e){return this.plusNanos(-1*e)},s.query=function(e){return e===P.localDate()?this.toLocalDate():(y(e,"query"),p.prototype.query.call(this,e))},s.until=function(e,o){var c=u.from(e);if(o instanceof T){if(c=c.withZoneSameInstant(this._zone),o.isDateBased())return this._dateTime.until(c._dateTime,o);var m=this._offset.totalSeconds()-c._offset.totalSeconds(),g=c._dateTime.plusSeconds(m);return this._dateTime.until(g,o)}return o.between(this,c)},s.toLocalDateTime=function(){return this._dateTime},s.toLocalDate=function(){return this._dateTime.toLocalDate()},s.toLocalTime=function(){return this._dateTime.toLocalTime()},s.toOffsetDateTime=function(){return Xe.of(this._dateTime,this._offset)},s.equals=function(e){return this===e?!0:e instanceof u?this._dateTime.equals(e._dateTime)&&this._offset.equals(e._offset)&&this._zone.equals(e._zone):!1},s.hashCode=function(){return _.hashCode(this._dateTime.hashCode(),this._offset.hashCode(),this._zone.hashCode())},s.toString=function(){var e=this._dateTime.toString()+this._offset.toString();return this._offset!==this._zone&&(e+="["+this._zone.toString()+"]"),e},s.toJSON=function(){return this.toString()},s.format=function(e){return p.prototype.format.call(this,e)},u}(ha);function hw(){je.FROM=we("ZonedDateTime.FROM",function(p){return je.from(p)})}var Xe=function(p){b(u,p),u.from=function(e){if(y(e,"temporal"),e instanceof u)return e;try{var o=z.from(e);try{var c=ae.from(e);return u.of(c,o)}catch{var m=de.from(e);return u.ofInstant(m,o)}}catch{throw new r("Unable to obtain OffsetDateTime TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""))}},u.now=function(e){if(arguments.length===0)return u.now(ce.systemDefaultZone());if(y(e,"clockOrZone"),e instanceof oe)return u.now(ce.system(e));if(e instanceof ce){var o=e.instant();return u.ofInstant(o,e.zone().rules().offset(o))}else throw new h("clockOrZone must be an instance of ZoneId or Clock")},u.of=function(){return arguments.length<=2?u.ofDateTime.apply(this,arguments):arguments.length===3?u.ofDateAndTime.apply(this,arguments):u.ofNumbers.apply(this,arguments)},u.ofDateTime=function(e,o){return new u(e,o)},u.ofDateAndTime=function(e,o,c){var m=ae.of(e,o);return new u(m,c)},u.ofNumbers=function(e,o,c,m,g,N,R,x){m===void 0&&(m=0),g===void 0&&(g=0),N===void 0&&(N=0),R===void 0&&(R=0);var q=ae.of(e,o,c,m,g,N,R);return new u(q,x)},u.ofInstant=function(e,o){y(e,"instant"),y(o,"zone");var c=o.rules(),m=c.offset(e),g=ae.ofEpochSecond(e.epochSecond(),e.nano(),m);return new u(g,m)},u.parse=function(e,o){return o===void 0&&(o=X.ISO_OFFSET_DATE_TIME),y(o,"formatter"),o.parse(e,u.FROM)};function u(i,e){var o;return o=p.call(this)||this,y(i,"dateTime"),U(i,ae,"dateTime"),y(e,"offset"),U(e,z,"offset"),o._dateTime=i,o._offset=e,o}var s=u.prototype;return s.adjustInto=function(e){return e.with(d.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(d.NANO_OF_DAY,this.toLocalTime().toNanoOfDay()).with(d.OFFSET_SECONDS,this.offset().totalSeconds())},s.until=function(e,o){var c=u.from(e);return o instanceof T?(c=c.withOffsetSameInstant(this._offset),this._dateTime.until(c._dateTime,o)):o.between(this,c)},s.atZoneSameInstant=function(e){return je.ofInstant(this._dateTime,this._offset,e)},s.atZoneSimilarLocal=function(e){return je.ofLocal(this._dateTime,e,this._offset)},s.query=function(e){return y(e,"query"),e===P.chronology()?se.INSTANCE:e===P.precision()?T.NANOS:e===P.offset()||e===P.zone()?this.offset():e===P.localDate()?this.toLocalDate():e===P.localTime()?this.toLocalTime():e===P.zoneId()?null:p.prototype.query.call(this,e)},s.get=function(e){if(e instanceof d){switch(e){case d.INSTANT_SECONDS:throw new r("Field too large for an int: "+e);case d.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.get(e)}return p.prototype.get.call(this,e)},s.getLong=function(e){if(e instanceof d){switch(e){case d.INSTANT_SECONDS:return this.toEpochSecond();case d.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.getLong(e)}return e.getFrom(this)},s.offset=function(){return this._offset},s.year=function(){return this._dateTime.year()},s.monthValue=function(){return this._dateTime.monthValue()},s.month=function(){return this._dateTime.month()},s.dayOfMonth=function(){return this._dateTime.dayOfMonth()},s.dayOfYear=function(){return this._dateTime.dayOfYear()},s.dayOfWeek=function(){return this._dateTime.dayOfWeek()},s.hour=function(){return this._dateTime.hour()},s.minute=function(){return this._dateTime.minute()},s.second=function(){return this._dateTime.second()},s.nano=function(){return this._dateTime.nano()},s.toLocalDateTime=function(){return this._dateTime},s.toLocalDate=function(){return this._dateTime.toLocalDate()},s.toLocalTime=function(){return this._dateTime.toLocalTime()},s.toOffsetTime=function(){return it.of(this._dateTime.toLocalTime(),this._offset)},s.toZonedDateTime=function(){return je.of(this._dateTime,this._offset)},s.toInstant=function(){return this._dateTime.toInstant(this._offset)},s.toEpochSecond=function(){return this._dateTime.toEpochSecond(this._offset)},s.isSupported=function(e){return e instanceof d||e instanceof T?e.isDateBased()||e.isTimeBased():e!=null&&e.isSupportedBy(this)},s.range=function(e){return e instanceof d?e===d.INSTANT_SECONDS||e===d.OFFSET_SECONDS?e.range():this._dateTime.range(e):e.rangeRefinedBy(this)},s._withAdjuster=function(e){return y(e),e instanceof k||e instanceof D||e instanceof ae?this._withDateTimeOffset(this._dateTime.with(e),this._offset):e instanceof de?u.ofInstant(e,this._offset):e instanceof z?this._withDateTimeOffset(this._dateTime,e):e instanceof u?e:e.adjustInto(this)},s._withField=function(e,o){if(y(e),e instanceof d){var c=e;switch(c){case d.INSTANT_SECONDS:return u.ofInstant(de.ofEpochSecond(o,this.nano()),this._offset);case d.OFFSET_SECONDS:return this._withDateTimeOffset(this._dateTime,z.ofTotalSeconds(c.checkValidIntValue(o)))}return this._withDateTimeOffset(this._dateTime.with(e,o),this._offset)}return e.adjustInto(this,o)},s._withDateTimeOffset=function(e,o){return this._dateTime===e&&this._offset.equals(o)?this:new u(e,o)},s.withYear=function(e){return this._withDateTimeOffset(this._dateTime.withYear(e),this._offset)},s.withMonth=function(e){return this._withDateTimeOffset(this._dateTime.withMonth(e),this._offset)},s.withDayOfMonth=function(e){return this._withDateTimeOffset(this._dateTime.withDayOfMonth(e),this._offset)},s.withDayOfYear=function(e){return this._withDateTimeOffset(this._dateTime.withDayOfYear(e),this._offset)},s.withHour=function(e){return this._withDateTimeOffset(this._dateTime.withHour(e),this._offset)},s.withMinute=function(e){return this._withDateTimeOffset(this._dateTime.withMinute(e),this._offset)},s.withSecond=function(e){return this._withDateTimeOffset(this._dateTime.withSecond(e),this._offset)},s.withNano=function(e){return this._withDateTimeOffset(this._dateTime.withNano(e),this._offset)},s.withOffsetSameLocal=function(e){return y(e,"offset"),this._withDateTimeOffset(this._dateTime,e)},s.withOffsetSameInstant=function(e){if(y(e,"offset"),e.equals(this._offset))return this;var o=e.totalSeconds()-this._offset.totalSeconds(),c=this._dateTime.plusSeconds(o);return new u(c,e)},s.truncatedTo=function(e){return this._withDateTimeOffset(this._dateTime.truncatedTo(e),this._offset)},s._plusAmount=function(e){return y(e,"amount"),e.addTo(this)},s._plusUnit=function(e,o){return o instanceof T?this._withDateTimeOffset(this._dateTime.plus(e,o),this._offset):o.addTo(this,e)},s.plusYears=function(e){return this._withDateTimeOffset(this._dateTime.plusYears(e),this._offset)},s.plusMonths=function(e){return this._withDateTimeOffset(this._dateTime.plusMonths(e),this._offset)},s.plusWeeks=function(e){return this._withDateTimeOffset(this._dateTime.plusWeeks(e),this._offset)},s.plusDays=function(e){return this._withDateTimeOffset(this._dateTime.plusDays(e),this._offset)},s.plusHours=function(e){return this._withDateTimeOffset(this._dateTime.plusHours(e),this._offset)},s.plusMinutes=function(e){return this._withDateTimeOffset(this._dateTime.plusMinutes(e),this._offset)},s.plusSeconds=function(e){return this._withDateTimeOffset(this._dateTime.plusSeconds(e),this._offset)},s.plusNanos=function(e){return this._withDateTimeOffset(this._dateTime.plusNanos(e),this._offset)},s._minusAmount=function(e){return y(e),e.subtractFrom(this)},s._minusUnit=function(e,o){return this.plus(-1*e,o)},s.minusYears=function(e){return this._withDateTimeOffset(this._dateTime.minusYears(e),this._offset)},s.minusMonths=function(e){return this._withDateTimeOffset(this._dateTime.minusMonths(e),this._offset)},s.minusWeeks=function(e){return this._withDateTimeOffset(this._dateTime.minusWeeks(e),this._offset)},s.minusDays=function(e){return this._withDateTimeOffset(this._dateTime.minusDays(e),this._offset)},s.minusHours=function(e){return this._withDateTimeOffset(this._dateTime.minusHours(e),this._offset)},s.minusMinutes=function(e){return this._withDateTimeOffset(this._dateTime.minusMinutes(e),this._offset)},s.minusSeconds=function(e){return this._withDateTimeOffset(this._dateTime.minusSeconds(e),this._offset)},s.minusNanos=function(e){return this._withDateTimeOffset(this._dateTime.minusNanos(e),this._offset)},s.compareTo=function(e){if(y(e,"other"),U(e,u,"other"),this.offset().equals(e.offset()))return this.toLocalDateTime().compareTo(e.toLocalDateTime());var o=_.compareNumbers(this.toEpochSecond(),e.toEpochSecond());return o===0&&(o=this.toLocalTime().nano()-e.toLocalTime().nano(),o===0&&(o=this.toLocalDateTime().compareTo(e.toLocalDateTime()))),o},s.isAfter=function(e){y(e,"other");var o=this.toEpochSecond(),c=e.toEpochSecond();return o>c||o===c&&this.toLocalTime().nano()>e.toLocalTime().nano()},s.isBefore=function(e){y(e,"other");var o=this.toEpochSecond(),c=e.toEpochSecond();return o<c||o===c&&this.toLocalTime().nano()<e.toLocalTime().nano()},s.isEqual=function(e){return y(e,"other"),this.toEpochSecond()===e.toEpochSecond()&&this.toLocalTime().nano()===e.toLocalTime().nano()},s.equals=function(e){return this===e?!0:e instanceof u?this._dateTime.equals(e._dateTime)&&this._offset.equals(e._offset):!1},s.hashCode=function(){return this._dateTime.hashCode()^this._offset.hashCode()},s.toString=function(){return this._dateTime.toString()+this._offset.toString()},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),e.format(this)},u}(xe);function dw(){Xe.MIN=ae.MIN.atOffset(z.MAX),Xe.MAX=ae.MAX.atOffset(z.MIN),Xe.FROM=we("OffsetDateTime.FROM",function(p){return Xe.from(p)})}var Jr=146097,Yc=Jr*5-(30*365+7),k=function(p){b(u,p),u.now=function(e){var o;return e==null?o=ce.systemDefaultZone():e instanceof oe?o=ce.system(e):o=e,u.ofInstant(o.instant(),o.zone())},u.ofInstant=function(e,o){o===void 0&&(o=oe.systemDefault()),y(e,"instant");var c=o.rules().offset(e),m=e.epochSecond()+c.totalSeconds(),g=_.floorDiv(m,D.SECONDS_PER_DAY);return u.ofEpochDay(g)},u.of=function(e,o,c){return new u(e,o,c)},u.ofYearDay=function(e,o){d.YEAR.checkValidValue(e);var c=se.isLeapYear(e);o===366&&c===!1&&F(!1,"Invalid date 'DayOfYear 366' as '"+e+"' is not a leap year",r);var m=G.of(Math.floor((o-1)/31+1)),g=m.firstDayOfYear(c)+m.length(c)-1;o>g&&(m=m.plus(1));var N=o-m.firstDayOfYear(c)+1;return new u(e,m.value(),N)},u.ofEpochDay=function(e){e===void 0&&(e=0);var o,c,m,g,N;N=e+Yc,N-=60,o=0,N<0&&(c=_.intDiv(N+1,Jr)-1,o=c*400,N+=-c*Jr),g=_.intDiv(400*N+591,Jr),m=N-(365*g+_.intDiv(g,4)-_.intDiv(g,100)+_.intDiv(g,400)),m<0&&(g--,m=N-(365*g+_.intDiv(g,4)-_.intDiv(g,100)+_.intDiv(g,400))),g+=o;var R=m,x=_.intDiv(R*5+2,153),q=(x+2)%12+1,H=R-_.intDiv(x*306+5,10)+1;g+=_.intDiv(x,10);var W=g;return new u(W,q,H)},u.from=function(e){y(e,"temporal");var o=e.query(P.localDate());if(o==null)throw new r("Unable to obtain LocalDate from TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""));return o},u.parse=function(e,o){return o===void 0&&(o=X.ISO_LOCAL_DATE),F(o!=null,"formatter",v),o.parse(e,u.FROM)},u._resolvePreviousValid=function(e,o,c){switch(o){case 2:c=Math.min(c,se.isLeapYear(e)?29:28);break;case 4:case 6:case 9:case 11:c=Math.min(c,30);break}return u.of(e,o,c)};function u(i,e,o){var c;return c=p.call(this)||this,y(i,"year"),y(e,"month"),y(o,"dayOfMonth"),e instanceof G&&(e=e.value()),c._year=_.safeToInt(i),c._month=_.safeToInt(e),c._day=_.safeToInt(o),u._validate(c._year,c._month,c._day),c}u._validate=function(e,o,c){var m;if(d.YEAR.checkValidValue(e),d.MONTH_OF_YEAR.checkValidValue(o),d.DAY_OF_MONTH.checkValidValue(c),c>28){switch(m=31,o){case 2:m=se.isLeapYear(e)?29:28;break;case 4:case 6:case 9:case 11:m=30}c>m&&(c===29?F(!1,"Invalid date 'February 29' as '"+e+"' is not a leap year",r):F(!1,"Invalid date '"+e+"' '"+o+"' '"+c+"'",r))}};var s=u.prototype;return s.isSupported=function(e){return p.prototype.isSupported.call(this,e)},s.range=function(e){if(e instanceof d){if(e.isDateBased()){switch(e){case d.DAY_OF_MONTH:return K.of(1,this.lengthOfMonth());case d.DAY_OF_YEAR:return K.of(1,this.lengthOfYear());case d.ALIGNED_WEEK_OF_MONTH:return K.of(1,this.month()===G.FEBRUARY&&this.isLeapYear()===!1?4:5);case d.YEAR_OF_ERA:return this._year<=0?K.of(1,Ze.MAX_VALUE+1):K.of(1,Ze.MAX_VALUE)}return e.range()}throw new f("Unsupported field: "+e)}return e.rangeRefinedBy(this)},s.get=function(e){return this.getLong(e)},s.getLong=function(e){return F(e!=null,"",v),e instanceof d?this._get0(e):e.getFrom(this)},s._get0=function(e){switch(e){case d.DAY_OF_WEEK:return this.dayOfWeek().value();case d.ALIGNED_DAY_OF_WEEK_IN_MONTH:return _.intMod(this._day-1,7)+1;case d.ALIGNED_DAY_OF_WEEK_IN_YEAR:return _.intMod(this.dayOfYear()-1,7)+1;case d.DAY_OF_MONTH:return this._day;case d.DAY_OF_YEAR:return this.dayOfYear();case d.EPOCH_DAY:return this.toEpochDay();case d.ALIGNED_WEEK_OF_MONTH:return _.intDiv(this._day-1,7)+1;case d.ALIGNED_WEEK_OF_YEAR:return _.intDiv(this.dayOfYear()-1,7)+1;case d.MONTH_OF_YEAR:return this._month;case d.PROLEPTIC_MONTH:return this._prolepticMonth();case d.YEAR_OF_ERA:return this._year>=1?this._year:1-this._year;case d.YEAR:return this._year;case d.ERA:return this._year>=1?1:0}throw new f("Unsupported field: "+e)},s._prolepticMonth=function(){return this._year*12+(this._month-1)},s.chronology=function(){return se.INSTANCE},s.year=function(){return this._year},s.monthValue=function(){return this._month},s.month=function(){return G.of(this._month)},s.dayOfMonth=function(){return this._day},s.dayOfYear=function(){return this.month().firstDayOfYear(this.isLeapYear())+this._day-1},s.dayOfWeek=function(){var e=_.floorMod(this.toEpochDay()+3,7);return he.of(e+1)},s.isLeapYear=function(){return se.isLeapYear(this._year)},s.lengthOfMonth=function(){switch(this._month){case 2:return this.isLeapYear()?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},s.lengthOfYear=function(){return this.isLeapYear()?366:365},s._withAdjuster=function(e){return y(e,"adjuster"),e instanceof u?e:p.prototype._withAdjuster.call(this,e)},s._withField=function(e,o){if(F(e!=null,"field",v),e instanceof d){var c=e;switch(c.checkValidValue(o),c){case d.DAY_OF_WEEK:return this.plusDays(o-this.dayOfWeek().value());case d.ALIGNED_DAY_OF_WEEK_IN_MONTH:return this.plusDays(o-this.getLong(d.ALIGNED_DAY_OF_WEEK_IN_MONTH));case d.ALIGNED_DAY_OF_WEEK_IN_YEAR:return this.plusDays(o-this.getLong(d.ALIGNED_DAY_OF_WEEK_IN_YEAR));case d.DAY_OF_MONTH:return this.withDayOfMonth(o);case d.DAY_OF_YEAR:return this.withDayOfYear(o);case d.EPOCH_DAY:return u.ofEpochDay(o);case d.ALIGNED_WEEK_OF_MONTH:return this.plusWeeks(o-this.getLong(d.ALIGNED_WEEK_OF_MONTH));case d.ALIGNED_WEEK_OF_YEAR:return this.plusWeeks(o-this.getLong(d.ALIGNED_WEEK_OF_YEAR));case d.MONTH_OF_YEAR:return this.withMonth(o);case d.PROLEPTIC_MONTH:return this.plusMonths(o-this.getLong(d.PROLEPTIC_MONTH));case d.YEAR_OF_ERA:return this.withYear(this._year>=1?o:1-o);case d.YEAR:return this.withYear(o);case d.ERA:return this.getLong(d.ERA)===o?this:this.withYear(1-this._year)}throw new f("Unsupported field: "+e)}return e.adjustInto(this,o)},s.withYear=function(e){return this._year===e?this:(d.YEAR.checkValidValue(e),u._resolvePreviousValid(e,this._month,this._day))},s.withMonth=function(e){var o=e instanceof G?e.value():e;return this._month===o?this:(d.MONTH_OF_YEAR.checkValidValue(o),u._resolvePreviousValid(this._year,o,this._day))},s.withDayOfMonth=function(e){return this._day===e?this:u.of(this._year,this._month,e)},s.withDayOfYear=function(e){return this.dayOfYear()===e?this:u.ofYearDay(this._year,e)},s._plusUnit=function(e,o){if(y(e,"amountToAdd"),y(o,"unit"),o instanceof T){switch(o){case T.DAYS:return this.plusDays(e);case T.WEEKS:return this.plusWeeks(e);case T.MONTHS:return this.plusMonths(e);case T.YEARS:return this.plusYears(e);case T.DECADES:return this.plusYears(_.safeMultiply(e,10));case T.CENTURIES:return this.plusYears(_.safeMultiply(e,100));case T.MILLENNIA:return this.plusYears(_.safeMultiply(e,1e3));case T.ERAS:return this.with(d.ERA,_.safeAdd(this.getLong(d.ERA),e))}throw new f("Unsupported unit: "+o)}return o.addTo(this,e)},s.plusYears=function(e){if(e===0)return this;var o=d.YEAR.checkValidIntValue(this._year+e);return u._resolvePreviousValid(o,this._month,this._day)},s.plusMonths=function(e){if(e===0)return this;var o=this._year*12+(this._month-1),c=o+e,m=d.YEAR.checkValidIntValue(_.floorDiv(c,12)),g=_.floorMod(c,12)+1;return u._resolvePreviousValid(m,g,this._day)},s.plusWeeks=function(e){return this.plusDays(_.safeMultiply(e,7))},s.plusDays=function(e){if(e===0)return this;var o=_.safeAdd(this.toEpochDay(),e);return u.ofEpochDay(o)},s._minusUnit=function(e,o){return y(e,"amountToSubtract"),y(o,"unit"),this._plusUnit(-1*e,o)},s.minusYears=function(e){return this.plusYears(e*-1)},s.minusMonths=function(e){return this.plusMonths(e*-1)},s.minusWeeks=function(e){return this.plusWeeks(e*-1)},s.minusDays=function(e){return this.plusDays(e*-1)},s.query=function(e){return y(e,"query"),e===P.localDate()?this:p.prototype.query.call(this,e)},s.adjustInto=function(e){return p.prototype.adjustInto.call(this,e)},s.until=function(e,o){return arguments.length<2?this.until1(e):this.until2(e,o)},s.until2=function(e,o){var c=u.from(e);if(o instanceof T){switch(o){case T.DAYS:return this.daysUntil(c);case T.WEEKS:return _.intDiv(this.daysUntil(c),7);case T.MONTHS:return this._monthsUntil(c);case T.YEARS:return _.intDiv(this._monthsUntil(c),12);case T.DECADES:return _.intDiv(this._monthsUntil(c),120);case T.CENTURIES:return _.intDiv(this._monthsUntil(c),1200);case T.MILLENNIA:return _.intDiv(this._monthsUntil(c),12e3);case T.ERAS:return c.getLong(d.ERA)-this.getLong(d.ERA)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},s.daysUntil=function(e){return e.toEpochDay()-this.toEpochDay()},s._monthsUntil=function(e){var o=this._prolepticMonth()*32+this.dayOfMonth(),c=e._prolepticMonth()*32+e.dayOfMonth();return _.intDiv(c-o,32)},s.until1=function(e){var o=u.from(e),c=o._prolepticMonth()-this._prolepticMonth(),m=o._day-this._day;if(c>0&&m<0){c--;var g=this.plusMonths(c);m=o.toEpochDay()-g.toEpochDay()}else c<0&&m>0&&(c++,m-=o.lengthOfMonth());var N=_.intDiv(c,12),R=_.intMod(c,12);return lt.of(N,R,m)},s.atTime=function(){return arguments.length===1?this.atTime1.apply(this,arguments):this.atTime4.apply(this,arguments)},s.atTime1=function(e){if(y(e,"time"),e instanceof D)return ae.of(this,e);if(e instanceof it)return this._atTimeOffsetTime(e);throw new h("time must be an instance of LocalTime or OffsetTime"+(e&&e.constructor&&e.constructor.name?", but is "+e.constructor.name:""))},s.atTime4=function(e,o,c,m){return c===void 0&&(c=0),m===void 0&&(m=0),this.atTime1(D.of(e,o,c,m))},s._atTimeOffsetTime=function(e){return Xe.of(ae.of(this,e.toLocalTime()),e.offset())},s.atStartOfDay=function(e){return e!=null?this._atStartOfDayWithZone(e):ae.of(this,D.MIDNIGHT)},s._atStartOfDayWithZone=function(e){y(e,"zone");var o=this.atTime(D.MIDNIGHT);if(!(e instanceof z)){var c=e.rules().transition(o);c!=null&&c.isGap()&&(o=c.dateTimeAfter())}return je.of(o,e)},s.toEpochDay=function(){var e=this._year,o=this._month,c=0;return c+=365*e,e>=0?c+=_.intDiv(e+3,4)-_.intDiv(e+99,100)+_.intDiv(e+399,400):c-=_.intDiv(e,-4)-_.intDiv(e,-100)+_.intDiv(e,-400),c+=_.intDiv(367*o-362,12),c+=this.dayOfMonth()-1,o>2&&(c--,se.isLeapYear(e)||c--),c-Yc},s.compareTo=function(e){return y(e,"other"),U(e,u,"other"),this._compareTo0(e)},s._compareTo0=function(e){var o=this._year-e._year;return o===0&&(o=this._month-e._month,o===0&&(o=this._day-e._day)),o},s.isAfter=function(e){return this.compareTo(e)>0},s.isBefore=function(e){return this.compareTo(e)<0},s.isEqual=function(e){return this.compareTo(e)===0},s.equals=function(e){return this===e?!0:e instanceof u?this._compareTo0(e)===0:!1},s.hashCode=function(){var e=this._year,o=this._month,c=this._day;return _.hash(e&4294965248^(e<<11)+(o<<6)+c)},s.toString=function(){var e,o,c,m=this._year,g=this._month,N=this._day,R=Math.abs(m);return R<1e3?m<0?c="-"+(""+(m-1e4)).slice(-4):c=(""+(m+1e4)).slice(-4):m>9999?c="+"+m:c=""+m,g<10?o="-0"+g:o="-"+g,N<10?e="-0"+N:e="-"+N,c+o+e},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),U(e,X,"formatter"),p.prototype.format.call(this,e)},u}(ln);function pw(){k.MIN=k.of(be.MIN_VALUE,1,1),k.MAX=k.of(be.MAX_VALUE,12,31),k.EPOCH_0=k.ofEpochDay(0),k.FROM=we("LocalDate.FROM",function(p){return k.from(p)})}var da=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.chronology=function(){return this.toLocalDate().chronology()},s.query=function(e){return e===P.chronology()?this.chronology():e===P.precision()?T.NANOS:e===P.localDate()?k.ofEpochDay(this.toLocalDate().toEpochDay()):e===P.localTime()?this.toLocalTime():e===P.zone()||e===P.zoneId()||e===P.offset()?null:p.prototype.query.call(this,e)},s.adjustInto=function(e){return e.with(d.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(d.NANO_OF_DAY,this.toLocalTime().toNanoOfDay())},s.toInstant=function(e){return U(e,z,"zoneId"),de.ofEpochSecond(this.toEpochSecond(e),this.toLocalTime().nano())},s.toEpochSecond=function(e){y(e,"offset");var o=this.toLocalDate().toEpochDay(),c=o*86400+this.toLocalTime().toSecondOfDay();return c-=e.totalSeconds(),_.safeToInt(c)},u}(xe),ae=function(p){b(u,p),u.now=function(e){return e==null?u._now(ce.systemDefaultZone()):e instanceof ce?u._now(e):u._now(ce.system(e))},u._now=function(e){return y(e,"clock"),u.ofInstant(e.instant(),e.zone())},u._ofEpochMillis=function(e,o){var c=_.floorDiv(e,1e3)+o.totalSeconds(),m=_.floorDiv(c,D.SECONDS_PER_DAY),g=_.floorMod(c,D.SECONDS_PER_DAY),N=_.floorMod(e,1e3)*1e6,R=k.ofEpochDay(m),x=D.ofSecondOfDay(g,N);return new u(R,x)},u.of=function(){return arguments.length<=2?u.ofDateAndTime.apply(this,arguments):u.ofNumbers.apply(this,arguments)},u.ofNumbers=function(e,o,c,m,g,N,R){m===void 0&&(m=0),g===void 0&&(g=0),N===void 0&&(N=0),R===void 0&&(R=0);var x=k.of(e,o,c),q=D.of(m,g,N,R);return new u(x,q)},u.ofDateAndTime=function(e,o){return y(e,"date"),y(o,"time"),new u(e,o)},u.ofInstant=function(e,o){o===void 0&&(o=oe.systemDefault()),y(e,"instant"),U(e,de,"instant"),y(o,"zone");var c=o.rules().offset(e);return u.ofEpochSecond(e.epochSecond(),e.nano(),c)},u.ofEpochSecond=function(e,o,c){e===void 0&&(e=0),o===void 0&&(o=0),arguments.length===2&&o instanceof z&&(c=o,o=0),y(c,"offset");var m=e+c.totalSeconds(),g=_.floorDiv(m,D.SECONDS_PER_DAY),N=_.floorMod(m,D.SECONDS_PER_DAY),R=k.ofEpochDay(g),x=D.ofSecondOfDay(N,o);return new u(R,x)},u.from=function(e){if(y(e,"temporal"),e instanceof u)return e;if(e instanceof je)return e.toLocalDateTime();try{var o=k.from(e),c=D.from(e);return new u(o,c)}catch{throw new r("Unable to obtain LocalDateTime TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""))}},u.parse=function(e,o){return o===void 0&&(o=X.ISO_LOCAL_DATE_TIME),y(o,"formatter"),o.parse(e,u.FROM)};function u(i,e){var o;return o=p.call(this)||this,U(i,k,"date"),U(e,D,"time"),o._date=i,o._time=e,o}var s=u.prototype;return s._withDateTime=function(e,o){return this._date.equals(e)&&this._time.equals(o)?this:new u(e,o)},s.isSupported=function(e){return e instanceof d||e instanceof T?e.isDateBased()||e.isTimeBased():e!=null&&e.isSupportedBy(this)},s.range=function(e){return e instanceof d?e.isTimeBased()?this._time.range(e):this._date.range(e):e.rangeRefinedBy(this)},s.get=function(e){return e instanceof d?e.isTimeBased()?this._time.get(e):this._date.get(e):p.prototype.get.call(this,e)},s.getLong=function(e){return y(e,"field"),e instanceof d?e.isTimeBased()?this._time.getLong(e):this._date.getLong(e):e.getFrom(this)},s.year=function(){return this._date.year()},s.monthValue=function(){return this._date.monthValue()},s.month=function(){return this._date.month()},s.dayOfMonth=function(){return this._date.dayOfMonth()},s.dayOfYear=function(){return this._date.dayOfYear()},s.dayOfWeek=function(){return this._date.dayOfWeek()},s.hour=function(){return this._time.hour()},s.minute=function(){return this._time.minute()},s.second=function(){return this._time.second()},s.nano=function(){return this._time.nano()},s._withAdjuster=function(e){return y(e,"adjuster"),e instanceof k?this._withDateTime(e,this._time):e instanceof D?this._withDateTime(this._date,e):e instanceof u?e:p.prototype._withAdjuster.call(this,e)},s._withField=function(e,o){return y(e,"field"),e instanceof d?e.isTimeBased()?this._withDateTime(this._date,this._time.with(e,o)):this._withDateTime(this._date.with(e,o),this._time):e.adjustInto(this,o)},s.withYear=function(e){return this._withDateTime(this._date.withYear(e),this._time)},s.withMonth=function(e){return this._withDateTime(this._date.withMonth(e),this._time)},s.withDayOfMonth=function(e){return this._withDateTime(this._date.withDayOfMonth(e),this._time)},s.withDayOfYear=function(e){return this._withDateTime(this._date.withDayOfYear(e),this._time)},s.withHour=function(e){var o=this._time.withHour(e);return this._withDateTime(this._date,o)},s.withMinute=function(e){var o=this._time.withMinute(e);return this._withDateTime(this._date,o)},s.withSecond=function(e){var o=this._time.withSecond(e);return this._withDateTime(this._date,o)},s.withNano=function(e){var o=this._time.withNano(e);return this._withDateTime(this._date,o)},s.truncatedTo=function(e){return this._withDateTime(this._date,this._time.truncatedTo(e))},s._plusUnit=function(e,o){if(y(o,"unit"),o instanceof T){switch(o){case T.NANOS:return this.plusNanos(e);case T.MICROS:return this.plusDays(_.intDiv(e,D.MICROS_PER_DAY)).plusNanos(_.intMod(e,D.MICROS_PER_DAY)*1e3);case T.MILLIS:return this.plusDays(_.intDiv(e,D.MILLIS_PER_DAY)).plusNanos(_.intMod(e,D.MILLIS_PER_DAY)*1e6);case T.SECONDS:return this.plusSeconds(e);case T.MINUTES:return this.plusMinutes(e);case T.HOURS:return this.plusHours(e);case T.HALF_DAYS:return this.plusDays(_.intDiv(e,256)).plusHours(_.intMod(e,256)*12)}return this._withDateTime(this._date.plus(e,o),this._time)}return o.addTo(this,e)},s.plusYears=function(e){var o=this._date.plusYears(e);return this._withDateTime(o,this._time)},s.plusMonths=function(e){var o=this._date.plusMonths(e);return this._withDateTime(o,this._time)},s.plusWeeks=function(e){var o=this._date.plusWeeks(e);return this._withDateTime(o,this._time)},s.plusDays=function(e){var o=this._date.plusDays(e);return this._withDateTime(o,this._time)},s.plusHours=function(e){return this._plusWithOverflow(this._date,e,0,0,0,1)},s.plusMinutes=function(e){return this._plusWithOverflow(this._date,0,e,0,0,1)},s.plusSeconds=function(e){return this._plusWithOverflow(this._date,0,0,e,0,1)},s.plusNanos=function(e){return this._plusWithOverflow(this._date,0,0,0,e,1)},s._minusUnit=function(e,o){return y(o,"unit"),this._plusUnit(-1*e,o)},s.minusYears=function(e){return this.plusYears(-1*e)},s.minusMonths=function(e){return this.plusMonths(-1*e)},s.minusWeeks=function(e){return this.plusWeeks(-1*e)},s.minusDays=function(e){return this.plusDays(-1*e)},s.minusHours=function(e){return this._plusWithOverflow(this._date,e,0,0,0,-1)},s.minusMinutes=function(e){return this._plusWithOverflow(this._date,0,e,0,0,-1)},s.minusSeconds=function(e){return this._plusWithOverflow(this._date,0,0,e,0,-1)},s.minusNanos=function(e){return this._plusWithOverflow(this._date,0,0,0,e,-1)},s._plusWithOverflow=function(e,o,c,m,g,N){if(o===0&&c===0&&m===0&&g===0)return this._withDateTime(e,this._time);var R=_.intDiv(g,D.NANOS_PER_DAY)+_.intDiv(m,D.SECONDS_PER_DAY)+_.intDiv(c,D.MINUTES_PER_DAY)+_.intDiv(o,D.HOURS_PER_DAY);R*=N;var x=_.intMod(g,D.NANOS_PER_DAY)+_.intMod(m,D.SECONDS_PER_DAY)*D.NANOS_PER_SECOND+_.intMod(c,D.MINUTES_PER_DAY)*D.NANOS_PER_MINUTE+_.intMod(o,D.HOURS_PER_DAY)*D.NANOS_PER_HOUR,q=this._time.toNanoOfDay();x=x*N+q,R+=_.floorDiv(x,D.NANOS_PER_DAY);var H=_.floorMod(x,D.NANOS_PER_DAY),W=H===q?this._time:D.ofNanoOfDay(H);return this._withDateTime(e.plusDays(R),W)},s.query=function(e){return y(e,"query"),e===P.localDate()?this.toLocalDate():p.prototype.query.call(this,e)},s.adjustInto=function(e){return p.prototype.adjustInto.call(this,e)},s.until=function(e,o){y(e,"endExclusive"),y(o,"unit");var c=u.from(e);if(o instanceof T){if(o.isTimeBased()){var m=this._date.daysUntil(c._date),g=c._time.toNanoOfDay()-this._time.toNanoOfDay();m>0&&g<0?(m--,g+=D.NANOS_PER_DAY):m<0&&g>0&&(m++,g-=D.NANOS_PER_DAY);var N=m;switch(o){case T.NANOS:return N=_.safeMultiply(N,D.NANOS_PER_DAY),_.safeAdd(N,g);case T.MICROS:return N=_.safeMultiply(N,D.MICROS_PER_DAY),_.safeAdd(N,_.intDiv(g,1e3));case T.MILLIS:return N=_.safeMultiply(N,D.MILLIS_PER_DAY),_.safeAdd(N,_.intDiv(g,1e6));case T.SECONDS:return N=_.safeMultiply(N,D.SECONDS_PER_DAY),_.safeAdd(N,_.intDiv(g,D.NANOS_PER_SECOND));case T.MINUTES:return N=_.safeMultiply(N,D.MINUTES_PER_DAY),_.safeAdd(N,_.intDiv(g,D.NANOS_PER_MINUTE));case T.HOURS:return N=_.safeMultiply(N,D.HOURS_PER_DAY),_.safeAdd(N,_.intDiv(g,D.NANOS_PER_HOUR));case T.HALF_DAYS:return N=_.safeMultiply(N,2),_.safeAdd(N,_.intDiv(g,D.NANOS_PER_HOUR*12))}throw new f("Unsupported unit: "+o)}var R=c._date,x=c._time;return R.isAfter(this._date)&&x.isBefore(this._time)?R=R.minusDays(1):R.isBefore(this._date)&&x.isAfter(this._time)&&(R=R.plusDays(1)),this._date.until(R,o)}return o.between(this,c)},s.atOffset=function(e){return Xe.of(this,e)},s.atZone=function(e){return je.of(this,e)},s.toLocalDate=function(){return this._date},s.toLocalTime=function(){return this._time},s.compareTo=function(e){return y(e,"other"),U(e,u,"other"),this._compareTo0(e)},s._compareTo0=function(e){var o=this._date.compareTo(e.toLocalDate());return o===0&&(o=this._time.compareTo(e.toLocalTime())),o},s.isAfter=function(e){return this.compareTo(e)>0},s.isBefore=function(e){return this.compareTo(e)<0},s.isEqual=function(e){return this.compareTo(e)===0},s.equals=function(e){return this===e?!0:e instanceof u?this._date.equals(e._date)&&this._time.equals(e._time):!1},s.hashCode=function(){return this._date.hashCode()^this._time.hashCode()},s.toString=function(){return this._date.toString()+"T"+this._time.toString()},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),e.format(this)},u}(da);function _w(){ae.MIN=ae.of(k.MIN,D.MIN),ae.MAX=ae.of(k.MAX,D.MAX),ae.FROM=we("LocalDateTime.FROM",function(p){return ae.from(p)})}var D=function(p){b(u,p),u.now=function(e){return e==null?u._now(ce.systemDefaultZone()):e instanceof ce?u._now(e):u._now(ce.system(e))},u._now=function(e){return e===void 0&&(e=ce.systemDefaultZone()),y(e,"clock"),u.ofInstant(e.instant(),e.zone())},u.ofInstant=function(e,o){o===void 0&&(o=oe.systemDefault());var c=o.rules().offset(e),m=_.intMod(e.epochSecond(),u.SECONDS_PER_DAY);return m=_.intMod(m+c.totalSeconds(),u.SECONDS_PER_DAY),m<0&&(m+=u.SECONDS_PER_DAY),u.ofSecondOfDay(m,e.nano())},u.of=function(e,o,c,m){return new u(e,o,c,m)},u.ofSecondOfDay=function(e,o){e===void 0&&(e=0),o===void 0&&(o=0),d.SECOND_OF_DAY.checkValidValue(e),d.NANO_OF_SECOND.checkValidValue(o);var c=_.intDiv(e,u.SECONDS_PER_HOUR);e-=c*u.SECONDS_PER_HOUR;var m=_.intDiv(e,u.SECONDS_PER_MINUTE);return e-=m*u.SECONDS_PER_MINUTE,new u(c,m,e,o)},u.ofNanoOfDay=function(e){e===void 0&&(e=0),d.NANO_OF_DAY.checkValidValue(e);var o=_.intDiv(e,u.NANOS_PER_HOUR);e-=o*u.NANOS_PER_HOUR;var c=_.intDiv(e,u.NANOS_PER_MINUTE);e-=c*u.NANOS_PER_MINUTE;var m=_.intDiv(e,u.NANOS_PER_SECOND);return e-=m*u.NANOS_PER_SECOND,new u(o,c,m,e)},u.from=function(e){y(e,"temporal");var o=e.query(P.localTime());if(o==null)throw new r("Unable to obtain LocalTime TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""));return o},u.parse=function(e,o){return o===void 0&&(o=X.ISO_LOCAL_TIME),y(o,"formatter"),o.parse(e,u.FROM)};function u(i,e,o,c){var m;i===void 0&&(i=0),e===void 0&&(e=0),o===void 0&&(o=0),c===void 0&&(c=0),m=p.call(this)||this;var g=_.safeToInt(i),N=_.safeToInt(e),R=_.safeToInt(o),x=_.safeToInt(c);return u._validate(g,N,R,x),N===0&&R===0&&x===0?(u.HOURS[g]||(m._hour=g,m._minute=N,m._second=R,m._nano=x,u.HOURS[g]=Y(m)),u.HOURS[g]||Y(m)):(m._hour=g,m._minute=N,m._second=R,m._nano=x,m)}u._validate=function(e,o,c,m){d.HOUR_OF_DAY.checkValidValue(e),d.MINUTE_OF_HOUR.checkValidValue(o),d.SECOND_OF_MINUTE.checkValidValue(c),d.NANO_OF_SECOND.checkValidValue(m)};var s=u.prototype;return s.isSupported=function(e){return e instanceof d||e instanceof T?e.isTimeBased():e!=null&&e.isSupportedBy(this)},s.range=function(e){return y(e),p.prototype.range.call(this,e)},s.get=function(e){return this.getLong(e)},s.getLong=function(e){return y(e,"field"),e instanceof d?this._get0(e):e.getFrom(this)},s._get0=function(e){switch(e){case d.NANO_OF_SECOND:return this._nano;case d.NANO_OF_DAY:return this.toNanoOfDay();case d.MICRO_OF_SECOND:return _.intDiv(this._nano,1e3);case d.MICRO_OF_DAY:return _.intDiv(this.toNanoOfDay(),1e3);case d.MILLI_OF_SECOND:return _.intDiv(this._nano,1e6);case d.MILLI_OF_DAY:return _.intDiv(this.toNanoOfDay(),1e6);case d.SECOND_OF_MINUTE:return this._second;case d.SECOND_OF_DAY:return this.toSecondOfDay();case d.MINUTE_OF_HOUR:return this._minute;case d.MINUTE_OF_DAY:return this._hour*60+this._minute;case d.HOUR_OF_AMPM:return _.intMod(this._hour,12);case d.CLOCK_HOUR_OF_AMPM:{var o=_.intMod(this._hour,12);return o%12===0?12:o}case d.HOUR_OF_DAY:return this._hour;case d.CLOCK_HOUR_OF_DAY:return this._hour===0?24:this._hour;case d.AMPM_OF_DAY:return _.intDiv(this._hour,12)}throw new f("Unsupported field: "+e)},s.hour=function(){return this._hour},s.minute=function(){return this._minute},s.second=function(){return this._second},s.nano=function(){return this._nano},s._withAdjuster=function(e){return y(e,"adjuster"),e instanceof u?e:p.prototype._withAdjuster.call(this,e)},s._withField=function(e,o){if(y(e,"field"),U(e,Ge,"field"),e instanceof d){switch(e.checkValidValue(o),e){case d.NANO_OF_SECOND:return this.withNano(o);case d.NANO_OF_DAY:return u.ofNanoOfDay(o);case d.MICRO_OF_SECOND:return this.withNano(o*1e3);case d.MICRO_OF_DAY:return u.ofNanoOfDay(o*1e3);case d.MILLI_OF_SECOND:return this.withNano(o*1e6);case d.MILLI_OF_DAY:return u.ofNanoOfDay(o*1e6);case d.SECOND_OF_MINUTE:return this.withSecond(o);case d.SECOND_OF_DAY:return this.plusSeconds(o-this.toSecondOfDay());case d.MINUTE_OF_HOUR:return this.withMinute(o);case d.MINUTE_OF_DAY:return this.plusMinutes(o-(this._hour*60+this._minute));case d.HOUR_OF_AMPM:return this.plusHours(o-_.intMod(this._hour,12));case d.CLOCK_HOUR_OF_AMPM:return this.plusHours((o===12?0:o)-_.intMod(this._hour,12));case d.HOUR_OF_DAY:return this.withHour(o);case d.CLOCK_HOUR_OF_DAY:return this.withHour(o===24?0:o);case d.AMPM_OF_DAY:return this.plusHours((o-_.intDiv(this._hour,12))*12)}throw new f("Unsupported field: "+e)}return e.adjustInto(this,o)},s.withHour=function(e){return e===void 0&&(e=0),this._hour===e?this:new u(e,this._minute,this._second,this._nano)},s.withMinute=function(e){return e===void 0&&(e=0),this._minute===e?this:new u(this._hour,e,this._second,this._nano)},s.withSecond=function(e){return e===void 0&&(e=0),this._second===e?this:new u(this._hour,this._minute,e,this._nano)},s.withNano=function(e){return e===void 0&&(e=0),this._nano===e?this:new u(this._hour,this._minute,this._second,e)},s.truncatedTo=function(e){if(y(e,"unit"),e===T.NANOS)return this;var o=e.duration();if(o.seconds()>u.SECONDS_PER_DAY)throw new r("Unit is too large to be used for truncation");var c=o.toNanos();if(_.intMod(u.NANOS_PER_DAY,c)!==0)throw new r("Unit must divide into a standard day without remainder");var m=this.toNanoOfDay();return u.ofNanoOfDay(_.intDiv(m,c)*c)},s._plusUnit=function(e,o){if(y(o,"unit"),o instanceof T){switch(o){case T.NANOS:return this.plusNanos(e);case T.MICROS:return this.plusNanos(_.intMod(e,u.MICROS_PER_DAY)*1e3);case T.MILLIS:return this.plusNanos(_.intMod(e,u.MILLIS_PER_DAY)*1e6);case T.SECONDS:return this.plusSeconds(e);case T.MINUTES:return this.plusMinutes(e);case T.HOURS:return this.plusHours(e);case T.HALF_DAYS:return this.plusHours(_.intMod(e,2)*12)}throw new f("Unsupported unit: "+o)}return o.addTo(this,e)},s.plusHours=function(e){if(e===0)return this;var o=_.intMod(_.intMod(e,u.HOURS_PER_DAY)+this._hour+u.HOURS_PER_DAY,u.HOURS_PER_DAY);return new u(o,this._minute,this._second,this._nano)},s.plusMinutes=function(e){if(e===0)return this;var o=this._hour*u.MINUTES_PER_HOUR+this._minute,c=_.intMod(_.intMod(e,u.MINUTES_PER_DAY)+o+u.MINUTES_PER_DAY,u.MINUTES_PER_DAY);if(o===c)return this;var m=_.intDiv(c,u.MINUTES_PER_HOUR),g=_.intMod(c,u.MINUTES_PER_HOUR);return new u(m,g,this._second,this._nano)},s.plusSeconds=function(e){if(e===0)return this;var o=this._hour*u.SECONDS_PER_HOUR+this._minute*u.SECONDS_PER_MINUTE+this._second,c=_.intMod(_.intMod(e,u.SECONDS_PER_DAY)+o+u.SECONDS_PER_DAY,u.SECONDS_PER_DAY);if(o===c)return this;var m=_.intDiv(c,u.SECONDS_PER_HOUR),g=_.intMod(_.intDiv(c,u.SECONDS_PER_MINUTE),u.MINUTES_PER_HOUR),N=_.intMod(c,u.SECONDS_PER_MINUTE);return new u(m,g,N,this._nano)},s.plusNanos=function(e){if(e===0)return this;var o=this.toNanoOfDay(),c=_.intMod(_.intMod(e,u.NANOS_PER_DAY)+o+u.NANOS_PER_DAY,u.NANOS_PER_DAY);if(o===c)return this;var m=_.intDiv(c,u.NANOS_PER_HOUR),g=_.intMod(_.intDiv(c,u.NANOS_PER_MINUTE),u.MINUTES_PER_HOUR),N=_.intMod(_.intDiv(c,u.NANOS_PER_SECOND),u.SECONDS_PER_MINUTE),R=_.intMod(c,u.NANOS_PER_SECOND);return new u(m,g,N,R)},s._minusUnit=function(e,o){return y(o,"unit"),this._plusUnit(-1*e,o)},s.minusHours=function(e){return this.plusHours(-1*_.intMod(e,u.HOURS_PER_DAY))},s.minusMinutes=function(e){return this.plusMinutes(-1*_.intMod(e,u.MINUTES_PER_DAY))},s.minusSeconds=function(e){return this.plusSeconds(-1*_.intMod(e,u.SECONDS_PER_DAY))},s.minusNanos=function(e){return this.plusNanos(-1*_.intMod(e,u.NANOS_PER_DAY))},s.query=function(e){return y(e,"query"),e===P.precision()?T.NANOS:e===P.localTime()?this:e===P.chronology()||e===P.zoneId()||e===P.zone()||e===P.offset()||e===P.localDate()?null:e.queryFrom(this)},s.adjustInto=function(e){return e.with(u.NANO_OF_DAY,this.toNanoOfDay())},s.until=function(e,o){y(e,"endExclusive"),y(o,"unit");var c=u.from(e);if(o instanceof T){var m=c.toNanoOfDay()-this.toNanoOfDay();switch(o){case T.NANOS:return m;case T.MICROS:return _.intDiv(m,1e3);case T.MILLIS:return _.intDiv(m,1e6);case T.SECONDS:return _.intDiv(m,u.NANOS_PER_SECOND);case T.MINUTES:return _.intDiv(m,u.NANOS_PER_MINUTE);case T.HOURS:return _.intDiv(m,u.NANOS_PER_HOUR);case T.HALF_DAYS:return _.intDiv(m,12*u.NANOS_PER_HOUR)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},s.atDate=function(e){return ae.of(e,this)},s.atOffset=function(e){return it.of(this,e)},s.toSecondOfDay=function(){var e=this._hour*u.SECONDS_PER_HOUR;return e+=this._minute*u.SECONDS_PER_MINUTE,e+=this._second,e},s.toNanoOfDay=function(){var e=this._hour*u.NANOS_PER_HOUR;return e+=this._minute*u.NANOS_PER_MINUTE,e+=this._second*u.NANOS_PER_SECOND,e+=this._nano,e},s.compareTo=function(e){y(e,"other"),U(e,u,"other");var o=_.compareNumbers(this._hour,e._hour);return o===0&&(o=_.compareNumbers(this._minute,e._minute),o===0&&(o=_.compareNumbers(this._second,e._second),o===0&&(o=_.compareNumbers(this._nano,e._nano)))),o},s.isAfter=function(e){return this.compareTo(e)>0},s.isBefore=function(e){return this.compareTo(e)<0},s.equals=function(e){return this===e?!0:e instanceof u?this._hour===e._hour&&this._minute===e._minute&&this._second===e._second&&this._nano===e._nano:!1},s.hashCode=function(){var e=this.toNanoOfDay();return _.hash(e)},s.toString=function(){var e="",o=this._hour,c=this._minute,m=this._second,g=this._nano;return e+=o<10?"0":"",e+=o,e+=c<10?":0":":",e+=c,(m>0||g>0)&&(e+=m<10?":0":":",e+=m,g>0&&(e+=".",_.intMod(g,1e6)===0?e+=(""+(_.intDiv(g,1e6)+1e3)).substring(1):_.intMod(g,1e3)===0?e+=(""+(_.intDiv(g,1e3)+1e6)).substring(1):e+=(""+(g+1e9)).substring(1))),e},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),e.format(this)},u}(xe);function mw(){D.HOURS=[];for(var p=0;p<24;p++)D.of(p,0,0,0);D.MIN=D.HOURS[0],D.MAX=new D(23,59,59,999999999),D.MIDNIGHT=D.HOURS[0],D.NOON=D.HOURS[12],D.FROM=we("LocalTime.FROM",function(u){return D.from(u)})}D.HOURS_PER_DAY=24,D.MINUTES_PER_HOUR=60,D.MINUTES_PER_DAY=D.MINUTES_PER_HOUR*D.HOURS_PER_DAY,D.SECONDS_PER_MINUTE=60,D.SECONDS_PER_HOUR=D.SECONDS_PER_MINUTE*D.MINUTES_PER_HOUR,D.SECONDS_PER_DAY=D.SECONDS_PER_HOUR*D.HOURS_PER_DAY,D.MILLIS_PER_DAY=D.SECONDS_PER_DAY*1e3,D.MICROS_PER_DAY=D.SECONDS_PER_DAY*1e6,D.NANOS_PER_SECOND=1e9,D.NANOS_PER_MINUTE=D.NANOS_PER_SECOND*D.SECONDS_PER_MINUTE,D.NANOS_PER_HOUR=D.NANOS_PER_MINUTE*D.MINUTES_PER_HOUR,D.NANOS_PER_DAY=D.NANOS_PER_HOUR*D.HOURS_PER_DAY;var Qr=1e6,de=function(p){b(u,p),u.now=function(e){return e===void 0&&(e=ce.systemUTC()),e.instant()},u.ofEpochSecond=function(e,o){o===void 0&&(o=0);var c=e+_.floorDiv(o,D.NANOS_PER_SECOND),m=_.floorMod(o,D.NANOS_PER_SECOND);return u._create(c,m)},u.ofEpochMilli=function(e){var o=_.floorDiv(e,1e3),c=_.floorMod(e,1e3);return u._create(o,c*1e6)},u.ofEpochMicro=function(e){var o=_.floorDiv(e,1e6),c=_.floorMod(e,1e6);return u._create(o,c*1e3)},u.from=function(e){try{var o=e.getLong(d.INSTANT_SECONDS),c=e.get(d.NANO_OF_SECOND);return u.ofEpochSecond(o,c)}catch(m){throw new r("Unable to obtain Instant from TemporalAccessor: "+e+", type "+typeof e,m)}},u.parse=function(e){return X.ISO_INSTANT.parse(e,u.FROM)},u._create=function(e,o){return e===0&&o===0?u.EPOCH:new u(e,o)},u._validate=function(e,o){if(e<u.MIN_SECONDS||e>u.MAX_SECONDS)throw new r("Instant exceeds minimum or maximum instant");if(o<0||o>D.NANOS_PER_SECOND)throw new r("Instant exceeds minimum or maximum instant")};function u(i,e){var o;return o=p.call(this)||this,u._validate(i,e),o._seconds=_.safeToInt(i),o._nanos=_.safeToInt(e),o}var s=u.prototype;return s.isSupported=function(e){return e instanceof d?e===d.INSTANT_SECONDS||e===d.NANO_OF_SECOND||e===d.MICRO_OF_SECOND||e===d.MILLI_OF_SECOND:e instanceof T?e.isTimeBased()||e===T.DAYS:e!=null&&e.isSupportedBy(this)},s.range=function(e){return p.prototype.range.call(this,e)},s.get=function(e){return this.getLong(e)},s.getLong=function(e){if(e instanceof d){switch(e){case d.NANO_OF_SECOND:return this._nanos;case d.MICRO_OF_SECOND:return _.intDiv(this._nanos,1e3);case d.MILLI_OF_SECOND:return _.intDiv(this._nanos,Qr);case d.INSTANT_SECONDS:return this._seconds}throw new f("Unsupported field: "+e)}return e.getFrom(this)},s.epochSecond=function(){return this._seconds},s.nano=function(){return this._nanos},s._withField=function(e,o){if(y(e,"field"),e instanceof d){switch(e.checkValidValue(o),e){case d.MILLI_OF_SECOND:{var c=o*Qr;return c!==this._nanos?u._create(this._seconds,c):this}case d.MICRO_OF_SECOND:{var m=o*1e3;return m!==this._nanos?u._create(this._seconds,m):this}case d.NANO_OF_SECOND:return o!==this._nanos?u._create(this._seconds,o):this;case d.INSTANT_SECONDS:return o!==this._seconds?u._create(o,this._nanos):this}throw new f("Unsupported field: "+e)}return e.adjustInto(this,o)},s.truncatedTo=function(e){if(y(e,"unit"),e===T.NANOS)return this;var o=e.duration();if(o.seconds()>D.SECONDS_PER_DAY)throw new r("Unit is too large to be used for truncation");var c=o.toNanos();if(_.intMod(D.NANOS_PER_DAY,c)!==0)throw new r("Unit must divide into a standard day without remainder");var m=_.intMod(this._seconds,D.SECONDS_PER_DAY)*D.NANOS_PER_SECOND+this._nanos,g=_.intDiv(m,c)*c;return this.plusNanos(g-m)},s._plusUnit=function(e,o){if(y(e,"amountToAdd"),y(o,"unit"),U(o,Z),o instanceof T){switch(o){case T.NANOS:return this.plusNanos(e);case T.MICROS:return this.plusMicros(e);case T.MILLIS:return this.plusMillis(e);case T.SECONDS:return this.plusSeconds(e);case T.MINUTES:return this.plusSeconds(_.safeMultiply(e,D.SECONDS_PER_MINUTE));case T.HOURS:return this.plusSeconds(_.safeMultiply(e,D.SECONDS_PER_HOUR));case T.HALF_DAYS:return this.plusSeconds(_.safeMultiply(e,D.SECONDS_PER_DAY/2));case T.DAYS:return this.plusSeconds(_.safeMultiply(e,D.SECONDS_PER_DAY))}throw new f("Unsupported unit: "+o)}return o.addTo(this,e)},s.plusSeconds=function(e){return this._plus(e,0)},s.plusMillis=function(e){return this._plus(_.intDiv(e,1e3),_.intMod(e,1e3)*Qr)},s.plusNanos=function(e){return this._plus(0,e)},s.plusMicros=function(e){return this._plus(_.intDiv(e,1e6),_.intMod(e,1e6)*1e3)},s._plus=function(e,o){if(e===0&&o===0)return this;var c=this._seconds+e;c=c+_.intDiv(o,D.NANOS_PER_SECOND);var m=this._nanos+o%D.NANOS_PER_SECOND;return u.ofEpochSecond(c,m)},s._minusUnit=function(e,o){return this._plusUnit(-1*e,o)},s.minusSeconds=function(e){return this.plusSeconds(e*-1)},s.minusMillis=function(e){return this.plusMillis(-1*e)},s.minusNanos=function(e){return this.plusNanos(-1*e)},s.minusMicros=function(e){return this.plusMicros(-1*e)},s.query=function(e){return y(e,"query"),e===P.precision()?T.NANOS:e===P.localDate()||e===P.localTime()||e===P.chronology()||e===P.zoneId()||e===P.zone()||e===P.offset()?null:e.queryFrom(this)},s.adjustInto=function(e){return y(e,"temporal"),e.with(d.INSTANT_SECONDS,this._seconds).with(d.NANO_OF_SECOND,this._nanos)},s.until=function(e,o){y(e,"endExclusive"),y(o,"unit");var c=u.from(e);if(o instanceof T){switch(o){case T.NANOS:return this._nanosUntil(c);case T.MICROS:return this._microsUntil(c);case T.MILLIS:return _.safeSubtract(c.toEpochMilli(),this.toEpochMilli());case T.SECONDS:return this._secondsUntil(c);case T.MINUTES:return _.intDiv(this._secondsUntil(c),D.SECONDS_PER_MINUTE);case T.HOURS:return _.intDiv(this._secondsUntil(c),D.SECONDS_PER_HOUR);case T.HALF_DAYS:return _.intDiv(this._secondsUntil(c),12*D.SECONDS_PER_HOUR);case T.DAYS:return _.intDiv(this._secondsUntil(c),D.SECONDS_PER_DAY)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},s._microsUntil=function(e){var o=_.safeSubtract(e.epochSecond(),this.epochSecond()),c=_.safeMultiply(o,1e6);return _.safeAdd(c,_.intDiv(e.nano()-this.nano(),1e3))},s._nanosUntil=function(e){var o=_.safeSubtract(e.epochSecond(),this.epochSecond()),c=_.safeMultiply(o,D.NANOS_PER_SECOND);return _.safeAdd(c,e.nano()-this.nano())},s._secondsUntil=function(e){var o=_.safeSubtract(e.epochSecond(),this.epochSecond()),c=e.nano()-this.nano();return o>0&&c<0?o--:o<0&&c>0&&o++,o},s.atOffset=function(e){return Xe.ofInstant(this,e)},s.atZone=function(e){return je.ofInstant(this,e)},s.toEpochMilli=function(){var e=_.safeMultiply(this._seconds,1e3);return e+_.intDiv(this._nanos,Qr)},s.compareTo=function(e){y(e,"otherInstant"),U(e,u,"otherInstant");var o=_.compareNumbers(this._seconds,e._seconds);return o!==0?o:this._nanos-e._nanos},s.isAfter=function(e){return this.compareTo(e)>0},s.isBefore=function(e){return this.compareTo(e)<0},s.equals=function(e){return this===e?!0:e instanceof u?this.epochSecond()===e.epochSecond()&&this.nano()===e.nano():!1},s.hashCode=function(){return _.hashCode(this._seconds,this._nanos)},s.toString=function(){return X.ISO_INSTANT.format(this)},s.toJSON=function(){return this.toString()},u}(xe);function Ew(){de.MIN_SECONDS=-31619119219200,de.MAX_SECONDS=31494816403199,de.EPOCH=new de(0,0),de.MIN=de.ofEpochSecond(de.MIN_SECONDS,0),de.MAX=de.ofEpochSecond(de.MAX_SECONDS,999999999),de.FROM=we("Instant.FROM",function(p){return de.from(p)})}var ce=function(){function p(){}p.systemUTC=function(){return new pa(z.UTC)},p.systemDefaultZone=function(){return new pa(oe.systemDefault())},p.system=function(i){return new pa(i)},p.fixed=function(i,e){return new vw(i,e)},p.offset=function(i,e){return new gw(i,e)};var u=p.prototype;return u.millis=function(){w("Clock.millis")},u.instant=function(){w("Clock.instant")},u.zone=function(){w("Clock.zone")},u.withZone=function(){w("Clock.withZone")},p}(),pa=function(p){b(u,p);function u(i){var e;return y(i,"zone"),e=p.call(this)||this,e._zone=i,e}var s=u.prototype;return s.zone=function(){return this._zone},s.millis=function(){return new Date().getTime()},s.instant=function(){return de.ofEpochMilli(this.millis())},s.equals=function(e){return e instanceof u?this._zone.equals(e._zone):!1},s.withZone=function(e){return e.equals(this._zone)?this:new u(e)},s.toString=function(){return"SystemClock["+this._zone.toString()+"]"},u}(ce),vw=function(p){b(u,p);function u(i,e){var o;return o=p.call(this)||this,o._instant=i,o._zoneId=e,o}var s=u.prototype;return s.instant=function(){return this._instant},s.millis=function(){return this._instant.toEpochMilli()},s.zone=function(){return this._zoneId},s.toString=function(){return"FixedClock[]"},s.equals=function(e){return e instanceof u?this._instant.equals(e._instant)&&this._zoneId.equals(e._zoneId):!1},s.withZone=function(e){return e.equals(this._zoneId)?this:new u(this._instant,e)},u}(ce),gw=function(p){b(u,p);function u(i,e){var o;return o=p.call(this)||this,o._baseClock=i,o._offset=e,o}var s=u.prototype;return s.zone=function(){return this._baseClock.zone()},s.withZone=function(e){return e.equals(this._baseClock.zone())?this:new u(this._baseClock.withZone(e),this._offset)},s.millis=function(){return this._baseClock.millis()+this._offset.toMillis()},s.instant=function(){return this._baseClock.instant().plus(this._offset)},s.equals=function(e){return e instanceof u?this._baseClock.equals(e._baseClock)&&this._offset.equals(e._offset):!1},s.toString=function(){return"OffsetClock["+this._baseClock+","+this._offset+"]"},u}(ce);var kc=function(){p.of=function(i,e,o){return new p(i,e,o)};function p(s,i,e){if(y(s,"transition"),y(i,"offsetBefore"),y(e,"offsetAfter"),i.equals(e))throw new h("Offsets must not be equal");if(s.nano()!==0)throw new h("Nano-of-second must be zero");s instanceof ae?this._transition=s:this._transition=ae.ofEpochSecond(s,0,i),this._offsetBefore=i,this._offsetAfter=e}var u=p.prototype;return u.instant=function(){return this._transition.toInstant(this._offsetBefore)},u.toEpochSecond=function(){return this._transition.toEpochSecond(this._offsetBefore)},u.dateTimeBefore=function(){return this._transition},u.dateTimeAfter=function(){return this._transition.plusSeconds(this.durationSeconds())},u.offsetBefore=function(){return this._offsetBefore},u.offsetAfter=function(){return this._offsetAfter},u.duration=function(){return B.ofSeconds(this.durationSeconds())},u.durationSeconds=function(){return this._offsetAfter.totalSeconds()-this._offsetBefore.totalSeconds()},u.isGap=function(){return this._offsetAfter.totalSeconds()>this._offsetBefore.totalSeconds()},u.isOverlap=function(){return this._offsetAfter.totalSeconds()<this._offsetBefore.totalSeconds()},u.isValidOffset=function(i){return this.isGap()?!1:this._offsetBefore.equals(i)||this._offsetAfter.equals(i)},u.validOffsets=function(){return this.isGap()?[]:[this._offsetBefore,this._offsetAfter]},u.compareTo=function(i){return this.instant().compareTo(i.instant())},u.equals=function(i){if(i===this)return!0;if(i instanceof p){var e=i;return this._transition.equals(e._transition)&&this._offsetBefore.equals(e.offsetBefore())&&this._offsetAfter.equals(e.offsetAfter())}return!1},u.hashCode=function(){return this._transition.hashCode()^this._offsetBefore.hashCode()^this._offsetAfter.hashCode()>>>16},u.toString=function(){return"Transition["+(this.isGap()?"Gap":"Overlap")+" at "+this._transition.toString()+this._offsetBefore.toString()+" to "+this._offsetAfter+"]"},p}();function yw(){P.ZONE_ID=we("ZONE_ID",function(p){return p.query(P.ZONE_ID)}),P.CHRONO=we("CHRONO",function(p){return p.query(P.CHRONO)}),P.PRECISION=we("PRECISION",function(p){return p.query(P.PRECISION)}),P.OFFSET=we("OFFSET",function(p){return p.isSupported(d.OFFSET_SECONDS)?z.ofTotalSeconds(p.get(d.OFFSET_SECONDS)):null}),P.ZONE=we("ZONE",function(p){var u=p.query(P.ZONE_ID);return u??p.query(P.OFFSET)}),P.LOCAL_DATE=we("LOCAL_DATE",function(p){return p.isSupported(d.EPOCH_DAY)?k.ofEpochDay(p.getLong(d.EPOCH_DAY)):null}),P.LOCAL_TIME=we("LOCAL_TIME",function(p){return p.isSupported(d.NANO_OF_DAY)?D.ofNanoOfDay(p.getLong(d.NANO_OF_DAY)):null})}var Tw=function(p){b(u,p);function u(){return p.apply(this,arguments)||this}var s=u.prototype;return s.isFixedOffset=function(){return!1},s.offsetOfInstant=function(e){var o=new Date(e.toEpochMilli()).getTimezoneOffset();return z.ofTotalMinutes(o*-1)},s.offsetOfEpochMilli=function(e){var o=new Date(e).getTimezoneOffset();return z.ofTotalMinutes(o*-1)},s.offsetOfLocalDateTime=function(e){var o=e.toEpochSecond(z.UTC)*1e3,c=new Date(o).getTimezoneOffset(),m=o+c*6e4,g=new Date(m).getTimezoneOffset();return z.ofTotalMinutes(g*-1)},s.validOffsets=function(e){return[this.offsetOfLocalDateTime(e)]},s.transition=function(){return null},s.standardOffset=function(e){return this.offsetOfInstant(e)},s.daylightSavings=function(){this._throwNotSupported()},s.isDaylightSavings=function(){this._throwNotSupported()},s.isValidOffset=function(e,o){return this.offsetOfLocalDateTime(e).equals(o)},s.nextTransition=function(){this._throwNotSupported()},s.previousTransition=function(){this._throwNotSupported()},s.transitions=function(){this._throwNotSupported()},s.transitionRules=function(){this._throwNotSupported()},s._throwNotSupported=function(){throw new r("not supported operation")},s.equals=function(e){return this===e||e instanceof u},s.toString=function(){return"SYSTEM"},u}(zn),ww=function(p){b(u,p);function u(){var i;return i=p.call(this)||this,i._rules=new Tw,i}var s=u.prototype;return s.rules=function(){return this._rules},s.equals=function(e){return this===e},s.id=function(){return"SYSTEM"},u}(oe);var En=function(){function p(){}return p.systemDefault=function(){return _a},p.getAvailableZoneIds=function(){return Xn.getAvailableZoneIds()},p.of=function(s){if(y(s,"zoneId"),s==="Z")return z.UTC;if(s.length===1)throw new r("Invalid zone: "+s);if(ct.startsWith(s,"+")||ct.startsWith(s,"-"))return z.of(s);if(s==="UTC"||s==="GMT"||s==="GMT0"||s==="UT")return new rt(s,z.UTC.rules());if(ct.startsWith(s,"UTC+")||ct.startsWith(s,"GMT+")||ct.startsWith(s,"UTC-")||ct.startsWith(s,"GMT-")){var i=z.of(s.substring(3));return i.totalSeconds()===0?new rt(s.substring(0,3),i.rules()):new rt(s.substring(0,3)+i.id(),i.rules())}if(ct.startsWith(s,"UT+")||ct.startsWith(s,"UT-")){var e=z.of(s.substring(2));return e.totalSeconds()===0?new rt("UT",e.rules()):new rt("UT"+e.id(),e.rules())}return s==="SYSTEM"?oe.systemDefault():rt.ofId(s)},p.ofOffset=function(s,i){if(y(s,"prefix"),y(i,"offset"),s.length===0)return i;if(s==="GMT"||s==="UTC"||s==="UT")return i.totalSeconds()===0?new rt(s,i.rules()):new rt(s+i.id(),i.rules());throw new h("Invalid prefix, must be GMT, UTC or UT: "+s)},p.from=function(s){y(s,"temporal");var i=s.query(P.zone());if(i==null)throw new r("Unable to obtain ZoneId from TemporalAccessor: "+s+", type "+(s.constructor!=null?s.constructor.name:""));return i},p}(),_a=null;function Sw(){_a=new ww,oe.systemDefault=En.systemDefault,oe.getAvailableZoneIds=En.getAvailableZoneIds,oe.of=En.of,oe.ofOffset=En.ofOffset,oe.from=En.from,z.from=En.from,oe.SYSTEM=_a,oe.UTC=z.ofTotalSeconds(0)}var Vc=!1;function Ow(){Vc||(Vc=!0,$n(),zr(),an(),VT(),mw(),ew(),yw(),HT(),Ew(),pw(),_w(),uw(),WT(),aw(),sw(),$T(),zT(),hw(),Sw(),fw(),ow(),iw(),dw(),lw())}Ow();var Nw=function(){function p(s,i){var e;if(s instanceof de){this.instant=s;return}else if(s instanceof k)i=i??oe.systemDefault(),e=s.atStartOfDay(i);else if(s instanceof ae)i=i??oe.systemDefault(),e=s.atZone(i);else if(s instanceof je)i==null?e=s:e=s.withZoneSameInstant(i);else throw new h("unsupported instance for convert operation:"+s);this.instant=e.toInstant()}var u=p.prototype;return u.toDate=function(){return new Date(this.instant.toEpochMilli())},u.toEpochMilli=function(){return this.instant.toEpochMilli()},p}();function Hc(p,u){return new Nw(p,u)}function Wc(p,u){if(u===void 0&&(u=oe.systemDefault()),y(p,"date"),y(u,"zone"),p instanceof Date)return de.ofEpochMilli(p.getTime()).atZone(u);if(typeof p.toDate=="function"&&p.toDate()instanceof Date)return de.ofEpochMilli(p.toDate().getTime()).atZone(u);throw new h("date must be a javascript Date or a moment instance")}function Iw(p){var u=[];return function(i){return~u.indexOf(i)||(i(p),u.push(i)),p}}var Gc={assert:M,DateTimeBuilder:Zr,DateTimeParseContext:Rc,DateTimePrintContext:Cc,MathUtil:_,StringUtil:ct,StringBuilder:Bc},$c={_:Gc,convert:Hc,nativeJs:Wc,ArithmeticException:l,DateTimeException:r,DateTimeParseException:a,IllegalArgumentException:h,IllegalStateException:E,UnsupportedTemporalTypeException:f,NullPointerException:v,Clock:ce,DayOfWeek:he,Duration:B,Instant:de,LocalDate:k,LocalTime:D,LocalDateTime:ae,OffsetTime:it,OffsetDateTime:Xe,Month:G,MonthDay:Qn,ParsePosition:ea,Period:lt,Year:Ze,YearConstants:be,YearMonth:mn,ZonedDateTime:je,ZoneOffset:z,ZoneId:oe,ZoneRegion:rt,ZoneOffsetTransition:kc,ZoneRules:zn,ZoneRulesProvider:Xn,ChronoLocalDate:ln,ChronoLocalDateTime:da,ChronoZonedDateTime:ha,IsoChronology:se,ChronoField:d,ChronoUnit:T,IsoFields:ze,Temporal:xe,TemporalAccessor:St,TemporalAdjuster:er,TemporalAdjusters:la,TemporalAmount:$,TemporalField:Ge,TemporalQueries:P,TemporalQuery:un,TemporalUnit:Z,ValueRange:K,DateTimeFormatter:X,DateTimeFormatterBuilder:fe,DecimalStyle:Zn,ResolverStyle:j,SignStyle:ne,TextStyle:ie},Kc=Iw($c);$c.use=Kc,n.ArithmeticException=l,n.ChronoField=d,n.ChronoLocalDate=ln,n.ChronoLocalDateTime=da,n.ChronoUnit=T,n.ChronoZonedDateTime=ha,n.Clock=ce,n.DateTimeException=r,n.DateTimeFormatter=X,n.DateTimeFormatterBuilder=fe,n.DateTimeParseException=a,n.DayOfWeek=he,n.DecimalStyle=Zn,n.Duration=B,n.IllegalArgumentException=h,n.IllegalStateException=E,n.Instant=de,n.IsoChronology=se,n.IsoFields=ze,n.LocalDate=k,n.LocalDateTime=ae,n.LocalTime=D,n.Month=G,n.MonthDay=Qn,n.NullPointerException=v,n.OffsetDateTime=Xe,n.OffsetTime=it,n.ParsePosition=ea,n.Period=lt,n.ResolverStyle=j,n.SignStyle=ne,n.Temporal=xe,n.TemporalAccessor=St,n.TemporalAdjuster=er,n.TemporalAdjusters=la,n.TemporalAmount=$,n.TemporalField=Ge,n.TemporalQueries=P,n.TemporalQuery=un,n.TemporalUnit=Z,n.TextStyle=ie,n.UnsupportedTemporalTypeException=f,n.ValueRange=K,n.Year=Ze,n.YearConstants=be,n.YearMonth=mn,n.ZoneId=oe,n.ZoneOffset=z,n.ZoneOffsetTransition=kc,n.ZoneRegion=rt,n.ZoneRules=zn,n.ZoneRulesProvider=Xn,n.ZonedDateTime=je,n._=Gc,n.convert=Hc,n.nativeJs=Wc,n.use=Kc})});var Kp=S((bo,$p)=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.default=void 0;var iA=oA(go()),Do=mr();function oA(n){return n&&n.__esModule?n:{default:n}}var sA=Do.LocalDate.ofYearDay(1900,1),aA=Buffer.from([0]),uA=Buffer.from([8]),Gp={id:61,type:"DATETIME",name:"DateTime",declaration:function(){return"datetime"},generateTypeInfo(){return Buffer.from([iA.default.id,8])},generateParameterLength(n,t){return n.value==null?aA:uA},generateParameterData:function*(n,t){if(n.value==null)return;let r=n.value,a;t.useUTC?a=Do.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()):a=Do.LocalDate.of(r.getFullYear(),r.getMonth()+1,r.getDate());let f=sA.until(a,Do.ChronoUnit.DAYS),l,h;if(t.useUTC){let v=r.getUTCHours()*60*60;v+=r.getUTCMinutes()*60,v+=r.getUTCSeconds(),l=v*1e3+r.getUTCMilliseconds()}else{let v=r.getHours()*60*60;v+=r.getMinutes()*60,v+=r.getSeconds(),l=v*1e3+r.getMilliseconds()}h=l/(3+1/3),h=Math.round(h),h===2592e4&&(f+=1,h=0);let E=Buffer.alloc(8);E.writeInt32LE(f,0),E.writeUInt32LE(h,4),yield E},validate:function(n){if(n==null)return null;if(n instanceof Date||(n=new Date(Date.parse(n))),isNaN(n))throw new TypeError("Invalid date.");return n}},fA=Gp;bo.default=fA;$p.exports=Gp});var jp=S((Ro,Zp)=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.default=void 0;var lA=cA(wo());function cA(n){return n&&n.__esModule?n:{default:n}}var hA=Buffer.from([0]),zp={id:62,type:"FLT8",name:"Float",declaration:function(){return"float"},generateTypeInfo(){return Buffer.from([lA.default.id,8])},generateParameterLength(n,t){return n.value==null?hA:Buffer.from([8])},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(8);r.writeDoubleLE(parseFloat(n.value),0),yield r},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");return n}},dA=zp;Ro.default=dA;Zp.exports=zp});var Zu=S((Lo,Jp)=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.default=void 0;var Xp={id:106,type:"DECIMALN",name:"DecimalN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},pA=Xp;Lo.default=pA;Jp.exports=Xp});var n_=S((Co,t_)=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.default=void 0;var _A=Qp(Zu()),ju=Qp(Ye());function Qp(n){return n&&n.__esModule?n:{default:n}}var mA=Buffer.from([0]),e_={id:55,type:"DECIMAL",name:"Decimal",declaration:function(n){return"decimal("+this.resolvePrecision(n)+", "+this.resolveScale(n)+")"},resolvePrecision:function(n){return n.precision!=null?n.precision:n.value===null?1:18},resolveScale:function(n){return n.scale!=null?n.scale:0},generateTypeInfo(n,t){let r;return n.precision<=9?r=5:n.precision<=19?r=9:n.precision<=28?r=13:r=17,Buffer.from([_A.default.id,r,n.precision,n.scale])},generateParameterLength(n,t){if(n.value==null)return mA;let r=n.precision;return r<=9?Buffer.from([5]):r<=19?Buffer.from([9]):r<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(n,t){if(n.value==null)return;let r=n.value<0?0:1,a=Math.round(Math.abs(n.value*Math.pow(10,n.scale))),f=n.precision;if(f<=9){let l=Buffer.alloc(5);l.writeUInt8(r,0),l.writeUInt32LE(a,1),yield l}else if(f<=19){let l=new ju.default(9);l.writeUInt8(r),l.writeUInt64LE(a),yield l.data}else if(f<=28){let l=new ju.default(13);l.writeUInt8(r),l.writeUInt64LE(a),l.writeUInt32LE(0),yield l.data}else{let l=new ju.default(17);l.writeUInt8(r),l.writeUInt64LE(a),l.writeUInt32LE(0),l.writeUInt32LE(0),yield l.data}},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");return n}},EA=e_;Co.default=EA;t_.exports=e_});var Xu=S((Mo,i_)=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.default=void 0;var r_={id:108,type:"NUMERICN",name:"NumericN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},vA=r_;Mo.default=vA;i_.exports=r_});var u_=S((Po,a_)=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.default=void 0;var gA=o_(Xu()),Ju=o_(Ye());function o_(n){return n&&n.__esModule?n:{default:n}}var yA=Buffer.from([0]),s_={id:63,type:"NUMERIC",name:"Numeric",declaration:function(n){return"numeric("+this.resolvePrecision(n)+", "+this.resolveScale(n)+")"},resolvePrecision:function(n){return n.precision!=null?n.precision:n.value===null?1:18},resolveScale:function(n){return n.scale!=null?n.scale:0},generateTypeInfo(n){let t;return n.precision<=9?t=5:n.precision<=19?t=9:n.precision<=28?t=13:t=17,Buffer.from([gA.default.id,t,n.precision,n.scale])},generateParameterLength(n,t){if(n.value==null)return yA;let r=n.precision;return r<=9?Buffer.from([5]):r<=19?Buffer.from([9]):r<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(n,t){if(n.value==null)return;let r=n.value<0?0:1,a=Math.round(Math.abs(n.value*Math.pow(10,n.scale)));if(n.precision<=9){let f=Buffer.alloc(5);f.writeUInt8(r,0),f.writeUInt32LE(a,1),yield f}else if(n.precision<=19){let f=new Ju.default(10);f.writeUInt8(r),f.writeUInt64LE(a),yield f.data}else if(n.precision<=28){let f=new Ju.default(14);f.writeUInt8(r),f.writeUInt64LE(a),f.writeUInt32LE(0),yield f.data}else{let f=new Ju.default(18);f.writeUInt8(r),f.writeUInt64LE(a),f.writeUInt32LE(0),f.writeUInt32LE(0),yield f.data}},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");return n}},TA=s_;Po.default=TA;a_.exports=s_});var c_=S((Fo,l_)=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.default=void 0;var wA=SA(No());function SA(n){return n&&n.__esModule?n:{default:n}}var OA=Buffer.from([4]),NA=Buffer.from([0]),f_={id:122,type:"MONEY4",name:"SmallMoney",declaration:function(){return"smallmoney"},generateTypeInfo:function(){return Buffer.from([wA.default.id,4])},generateParameterLength(n,t){return n.value==null?NA:OA},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(4);r.writeInt32LE(n.value*1e4,0),yield r},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");if(n<-214748.3648||n>214748.3647)throw new TypeError("Value must be between -214748.3648 and 214748.3647.");return n}},IA=f_;Fo.default=IA;l_.exports=f_});var __=S((xo,p_)=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.default=void 0;var AA=h_(Dn()),DA=h_(Ye());function h_(n){return n&&n.__esModule?n:{default:n}}var bA=Buffer.from([8]),RA=Buffer.from([0]),d_={id:127,type:"INT8",name:"BigInt",declaration:function(){return"bigint"},generateTypeInfo(){return Buffer.from([AA.default.id,8])},generateParameterLength(n,t){return n.value==null?RA:bA},*generateParameterData(n,t){if(n.value==null)return;let r=new DA.default(8);r.writeInt64LE(Number(n.value)),yield r.data},validate:function(n){if(n==null)return null;if(typeof n!="number"&&(n=Number(n)),isNaN(n))throw new TypeError("Invalid number.");if(n<Number.MIN_SAFE_INTEGER||n>Number.MAX_SAFE_INTEGER)throw new TypeError(`Value must be between ${Number.MIN_SAFE_INTEGER} and ${Number.MAX_SAFE_INTEGER}, inclusive.  For smaller or bigger numbers, use VarChar type.`);return n}},LA=d_;xo.default=LA;p_.exports=d_});var v_=S((Uo,E_)=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.default=void 0;var CA=Buffer.from([255,255,255,255]),m_={id:34,type:"IMAGE",name:"Image",hasTableName:!0,declaration:function(){return"image"},resolveLength:function(n){return n.value!=null?n.value.length:-1},generateTypeInfo(n){let t=Buffer.alloc(5);return t.writeUInt8(this.id,0),t.writeInt32LE(n.length,1),t},generateParameterLength(n,t){if(n.value==null)return CA;let r=Buffer.alloc(4);return r.writeInt32LE(n.value.length,0),r},*generateParameterData(n,t){n.value!=null&&(yield n.value)},validate:function(n){if(n==null)return null;if(!Buffer.isBuffer(n))throw new TypeError("Invalid buffer.");return n}},MA=m_;Uo.default=MA;E_.exports=m_});var T_=S((Bo,y_)=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.default=void 0;var PA=FA(require("iconv-lite"));function FA(n){return n&&n.__esModule?n:{default:n}}var xA=Buffer.from([255,255,255,255]),g_={id:35,type:"TEXT",name:"Text",hasTableName:!0,declaration:function(){return"text"},resolveLength:function(n){let t=n.value;return t!=null?t.length:-1},generateTypeInfo(n,t){let r=Buffer.alloc(10);return r.writeUInt8(this.id,0),r.writeInt32LE(n.length,1),n.collation&&n.collation.toBuffer().copy(r,5,0,5),r},generateParameterLength(n,t){let r=n.value;if(r==null)return xA;let a=Buffer.alloc(4);return a.writeInt32LE(r.length,0),a},generateParameterData:function*(n,t){let r=n.value;r!=null&&(yield r)},validate:function(n,t){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");if(!t)throw new Error("No collation was set by the server for the current connection.");if(!t.codepage)throw new Error("The collation set by the server has no associated encoding.");return PA.default.encode(n,t.codepage)}},UA=g_;Bo.default=UA;y_.exports=g_});var Qu=S(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.bufferToLowerCaseGuid=qA;Er.bufferToUpperCaseGuid=BA;Er.guidToArray=YA;var Me=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],Pe=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function BA(n){return Me[n[3]]+Me[n[2]]+Me[n[1]]+Me[n[0]]+"-"+Me[n[5]]+Me[n[4]]+"-"+Me[n[7]]+Me[n[6]]+"-"+Me[n[8]]+Me[n[9]]+"-"+Me[n[10]]+Me[n[11]]+Me[n[12]]+Me[n[13]]+Me[n[14]]+Me[n[15]]}function qA(n){return Pe[n[3]]+Pe[n[2]]+Pe[n[1]]+Pe[n[0]]+"-"+Pe[n[5]]+Pe[n[4]]+"-"+Pe[n[7]]+Pe[n[6]]+"-"+Pe[n[8]]+Pe[n[9]]+"-"+Pe[n[10]]+Pe[n[11]]+Pe[n[12]]+Pe[n[13]]+Pe[n[14]]+Pe[n[15]]}var Re={},bn=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"].map(n=>n.charCodeAt(0));for(let n=0;n<bn.length;n++){let t=Re[bn[n]]={};for(let r=0;r<bn.length;r++){let a=String.fromCharCode(bn[n],bn[r]),f=parseInt(a,16);t[bn[r]]=f}}function YA(n){return[Re[n.charCodeAt(6)][n.charCodeAt(7)],Re[n.charCodeAt(4)][n.charCodeAt(5)],Re[n.charCodeAt(2)][n.charCodeAt(3)],Re[n.charCodeAt(0)][n.charCodeAt(1)],Re[n.charCodeAt(11)][n.charCodeAt(12)],Re[n.charCodeAt(9)][n.charCodeAt(10)],Re[n.charCodeAt(16)][n.charCodeAt(17)],Re[n.charCodeAt(14)][n.charCodeAt(15)],Re[n.charCodeAt(19)][n.charCodeAt(20)],Re[n.charCodeAt(21)][n.charCodeAt(22)],Re[n.charCodeAt(24)][n.charCodeAt(25)],Re[n.charCodeAt(26)][n.charCodeAt(27)],Re[n.charCodeAt(28)][n.charCodeAt(29)],Re[n.charCodeAt(30)][n.charCodeAt(31)],Re[n.charCodeAt(32)][n.charCodeAt(33)],Re[n.charCodeAt(34)][n.charCodeAt(35)]]}});var O_=S((qo,S_)=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.default=void 0;var kA=Qu(),VA=Buffer.from([0]),HA=Buffer.from([16]),w_={id:36,type:"GUIDN",name:"UniqueIdentifier",declaration:function(){return"uniqueidentifier"},resolveLength:function(){return 16},generateTypeInfo(){return Buffer.from([this.id,16])},generateParameterLength(n,t){return n.value==null?VA:HA},generateParameterData:function*(n,t){n.value!=null&&(yield Buffer.from((0,kA.guidToArray)(n.value)))},validate:function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n))throw new TypeError("Invalid GUID.");return n}},WA=w_;qo.default=WA;S_.exports=w_});var A_=S((Yo,I_)=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.default=void 0;var GA=Buffer.from([255,255,255,255]),N_={id:99,type:"NTEXT",name:"NText",hasTableName:!0,declaration:function(){return"ntext"},resolveLength:function(n){let t=n.value;return t!=null?t.length:-1},generateTypeInfo(n,t){let r=Buffer.alloc(10);return r.writeUInt8(this.id,0),r.writeInt32LE(n.length,1),n.collation&&n.collation.toBuffer().copy(r,5,0,5),r},generateParameterLength(n,t){if(n.value==null)return GA;let r=Buffer.alloc(4);return r.writeInt32LE(Buffer.byteLength(n.value,"ucs2"),0),r},generateParameterData:function*(n,t){n.value!=null&&(yield Buffer.from(n.value.toString(),"ucs2"))},validate:function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");return n}},$A=N_;Yo.default=$A;I_.exports=N_});var R_=S((ko,b_)=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.default=void 0;var KA=(1<<16)-1,zA=Buffer.from([254,255,255,255,255,255,255,255]),ZA=Buffer.from([0,0,0,0]),jA=Buffer.from([255,255]),XA=Buffer.from([255,255,255,255,255,255,255,255]),D_={id:165,type:"BIGVARBIN",name:"VarBinary",maximumLength:8e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:t!=null?r=t.length||1:t===null&&!n.output?r=1:r=this.maximumLength,r<=this.maximumLength?"varbinary("+r+")":"varbinary(max)"},resolveLength:function(n){let t=n.value;return n.length!=null?n.length:t!=null?t.length:this.maximumLength},generateTypeInfo:function(n){let t=Buffer.alloc(3);return t.writeUInt8(this.id,0),n.length<=this.maximumLength?t.writeUInt16LE(n.length,1):t.writeUInt16LE(KA,1),t},generateParameterLength(n,t){if(n.value==null)return n.length<=this.maximumLength?jA:XA;let r=n.value;Buffer.isBuffer(r)||(r=r.toString());let a=Buffer.byteLength(r,"ucs2");if(n.length<=this.maximumLength){let f=Buffer.alloc(2);return f.writeUInt16LE(a,0),f}else return zA},*generateParameterData(n,t){if(n.value==null)return;let r=n.value;if(n.length<=this.maximumLength)Buffer.isBuffer(r)?yield r:yield Buffer.from(r.toString(),"ucs2");else{Buffer.isBuffer(r)||(r=r.toString());let a=Buffer.byteLength(r,"ucs2");if(a>0){let f=Buffer.alloc(4);f.writeUInt32LE(a,0),yield f,Buffer.isBuffer(r)?yield r:yield Buffer.from(r,"ucs2")}yield ZA}},validate:function(n){if(n==null)return null;if(!Buffer.isBuffer(n))throw new TypeError("Invalid buffer.");return n}},JA=D_;ko.default=JA;b_.exports=D_});var M_=S((Vo,C_)=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.default=void 0;var QA=eD(require("iconv-lite"));function eD(n){return n&&n.__esModule?n:{default:n}}var tD=(1<<16)-1,nD=Buffer.from([254,255,255,255,255,255,255,255]),rD=Buffer.from([0,0,0,0]),iD=Buffer.from([255,255]),oD=Buffer.from([255,255,255,255,255,255,255,255]),L_={id:167,type:"BIGVARCHR",name:"VarChar",maximumLength:8e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:t!=null?r=t.length||1:t===null&&!n.output?r=1:r=this.maximumLength,r<=this.maximumLength?"varchar("+r+")":"varchar(max)"},resolveLength:function(n){let t=n.value;return n.length!=null?n.length:t!=null?t.length||1:this.maximumLength},generateTypeInfo(n){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),n.length<=this.maximumLength?t.writeUInt16LE(n.length,1):t.writeUInt16LE(tD,1),n.collation&&n.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(n,t){let r=n.value;if(r==null)return n.length<=this.maximumLength?iD:oD;if(n.length<=this.maximumLength){let a=Buffer.alloc(2);return a.writeUInt16LE(r.length,0),a}else return nD},*generateParameterData(n,t){let r=n.value;if(r!=null)if(n.length<=this.maximumLength)yield r;else{if(r.length>0){let a=Buffer.alloc(4);a.writeUInt32LE(r.length,0),yield a,yield r}yield rD}},validate:function(n,t){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");if(!t)throw new Error("No collation was set by the server for the current connection.");if(!t.codepage)throw new Error("The collation set by the server has no associated encoding.");return QA.default.encode(n,t.codepage)}},sD=L_;Vo.default=sD;C_.exports=L_});var x_=S((Ho,F_)=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.default=void 0;var aD=Buffer.from([255,255]),P_={id:173,type:"BIGBinary",name:"Binary",maximumLength:8e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:t!=null?r=t.length||1:t===null&&!n.output?r=1:r=this.maximumLength,"binary("+r+")"},resolveLength:function(n){let t=n.value;return t!=null?t.length:this.maximumLength},generateTypeInfo(n){let t=Buffer.alloc(3);return t.writeUInt8(this.id,0),t.writeUInt16LE(n.length,1),t},generateParameterLength(n,t){if(n.value==null)return aD;let r=Buffer.alloc(2);return r.writeUInt16LE(n.length,0),r},*generateParameterData(n,t){n.value!=null&&(yield n.value.slice(0,n.length!==void 0?Math.min(n.length,this.maximumLength):this.maximumLength))},validate:function(n){if(n==null)return null;if(!Buffer.isBuffer(n))throw new TypeError("Invalid buffer.");return n}},uD=P_;Ho.default=uD;F_.exports=P_});var q_=S((Wo,B_)=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.default=void 0;var fD=lD(require("iconv-lite"));function lD(n){return n&&n.__esModule?n:{default:n}}var cD=Buffer.from([255,255]),U_={id:175,type:"BIGCHAR",name:"Char",maximumLength:8e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:t!=null?r=t.length||1:t===null&&!n.output?r=1:r=this.maximumLength,r<this.maximumLength?"char("+r+")":"char("+this.maximumLength+")"},resolveLength:function(n){let t=n.value;return n.length!=null?n.length:t!=null?t.length||1:this.maximumLength},generateTypeInfo(n){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),t.writeUInt16LE(n.length,1),n.collation&&n.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(n,t){let r=n.value;if(r==null)return cD;let a=Buffer.alloc(2);return a.writeUInt16LE(r.length,0),a},*generateParameterData(n,t){n.value!=null&&(yield Buffer.from(n.value,"ascii"))},validate:function(n,t){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");if(!t)throw new Error("No collation was set by the server for the current connection.");if(!t.codepage)throw new Error("The collation set by the server has no associated encoding.");return fD.default.encode(n,t.codepage)}},hD=U_;Wo.default=hD;B_.exports=U_});var V_=S((Go,k_)=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.default=void 0;var dD=(1<<16)-1,pD=Buffer.from([254,255,255,255,255,255,255,255]),_D=Buffer.from([0,0,0,0]),mD=Buffer.from([255,255]),ED=Buffer.from([255,255,255,255,255,255,255,255]),Y_={id:231,type:"NVARCHAR",name:"NVarChar",maximumLength:4e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:t!=null?r=t.toString().length||1:t===null&&!n.output?r=1:r=this.maximumLength,r<=this.maximumLength?"nvarchar("+r+")":"nvarchar(max)"},resolveLength:function(n){let t=n.value;return n.length!=null?n.length:t!=null?Buffer.isBuffer(t)?t.length/2||1:t.toString().length||1:this.maximumLength},generateTypeInfo(n){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),n.length<=this.maximumLength?t.writeUInt16LE(n.length*2,1):t.writeUInt16LE(dD,1),n.collation&&n.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(n,t){if(n.value==null)return n.length<=this.maximumLength?mD:ED;let r=n.value;if(n.length<=this.maximumLength){let a;r instanceof Buffer?a=r.length:(r=r.toString(),a=Buffer.byteLength(r,"ucs2"));let f=Buffer.alloc(2);return f.writeUInt16LE(a,0),f}else return pD},*generateParameterData(n,t){if(n.value==null)return;let r=n.value;if(n.length<=this.maximumLength)r instanceof Buffer?yield r:(r=r.toString(),yield Buffer.from(r,"ucs2"));else{if(r instanceof Buffer){let a=r.length;if(a>0){let f=Buffer.alloc(4);f.writeUInt32LE(a,0),yield f,yield r}}else{r=r.toString();let a=Buffer.byteLength(r,"ucs2");if(a>0){let f=Buffer.alloc(4);f.writeUInt32LE(a,0),yield f,yield Buffer.from(r,"ucs2")}}yield _D}},validate:function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");return n}},vD=Y_;Go.default=vD;k_.exports=Y_});var G_=S(($o,W_)=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.default=void 0;var gD=Buffer.from([255,255]),H_={id:239,type:"NCHAR",name:"NChar",maximumLength:4e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:n.value!=null?r=t.toString().length||1:n.value===null&&!n.output?r=1:r=this.maximumLength,r<this.maximumLength?"nchar("+r+")":"nchar("+this.maximumLength+")"},resolveLength:function(n){let t=n.value;return n.length!=null?n.length:n.value!=null?Buffer.isBuffer(n.value)?n.value.length/2||1:t.toString().length||1:this.maximumLength},generateTypeInfo:function(n){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),t.writeUInt16LE(n.length*2,1),n.collation&&n.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(n,t){if(n.value==null)return gD;let{value:r}=n;if(r instanceof Buffer){let a=r.length,f=Buffer.alloc(2);return f.writeUInt16LE(a,0),f}else{let a=Buffer.byteLength(r.toString(),"ucs2"),f=Buffer.alloc(2);return f.writeUInt16LE(a,0),f}},*generateParameterData(n,t){if(n.value==null)return;let r=n.value;r instanceof Buffer?yield r:yield Buffer.from(r,"ucs2")},validate:function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");return n}},yD=H_;$o.default=yD;W_.exports=H_});var z_=S((Ko,K_)=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.default=void 0;var $_={id:241,type:"XML",name:"Xml",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},TD=$_;Ko.default=TD;K_.exports=$_});var X_=S((zo,j_)=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.default=void 0;var wD=SD(Ye());function SD(n){return n&&n.__esModule?n:{default:n}}var OD=Buffer.from([0]),Z_={id:41,type:"TIMEN",name:"Time",declaration:function(n){return"time("+this.resolveScale(n)+")"},resolveScale:function(n){return n.scale!=null?n.scale:n.value===null?0:7},generateTypeInfo(n){return Buffer.from([this.id,n.scale])},generateParameterLength(n,t){if(n.value==null)return OD;switch(n.scale){case 0:case 1:case 2:return Buffer.from([3]);case 3:case 4:return Buffer.from([4]);case 5:case 6:case 7:return Buffer.from([5]);default:throw new Error("invalid scale")}},*generateParameterData(n,t){if(n.value==null)return;let r=new wD.default(16),a=n.value,f;switch(t.useUTC?f=((a.getUTCHours()*60+a.getUTCMinutes())*60+a.getUTCSeconds())*1e3+a.getUTCMilliseconds():f=((a.getHours()*60+a.getMinutes())*60+a.getSeconds())*1e3+a.getMilliseconds(),f=f*Math.pow(10,n.scale-3),f+=(n.value.nanosecondDelta!=null?n.value.nanosecondDelta:0)*Math.pow(10,n.scale),f=Math.round(f),n.scale){case 0:case 1:case 2:r.writeUInt24LE(f);break;case 3:case 4:r.writeUInt32LE(f);break;case 5:case 6:case 7:r.writeUInt40LE(f)}yield r.data},validate:function(n){if(n==null)return null;if(n instanceof Date||(n=new Date(Date.parse(n))),isNaN(n))throw new TypeError("Invalid time.");return n}},ND=Z_;zo.default=ND;j_.exports=Z_});var e0=S((jo,Q_)=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.default=void 0;var Zo=mr(),ef=global.Date,ID=Zo.LocalDate.ofYearDay(1,1),AD=Buffer.from([0]),DD=Buffer.from([3]),J_={id:40,type:"DATEN",name:"Date",declaration:function(){return"date"},generateTypeInfo:function(){return Buffer.from([this.id])},generateParameterLength(n,t){return n.value==null?AD:DD},*generateParameterData(n,t){if(n.value==null)return;let r=n.value,a;t.useUTC?a=Zo.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()):a=Zo.LocalDate.of(r.getFullYear(),r.getMonth()+1,r.getDate());let f=ID.until(a,Zo.ChronoUnit.DAYS),l=Buffer.alloc(3);l.writeUIntLE(f,0,3),yield l},validate:function(n){if(n==null)return null;if(n instanceof ef||(n=new ef(ef.parse(n))),isNaN(n))throw new TypeError("Invalid date.");return n}},bD=J_;jo.default=bD;Q_.exports=J_});var r0=S((Jo,n0)=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.default=void 0;var Xo=mr(),RD=LD(Ye());function LD(n){return n&&n.__esModule?n:{default:n}}var CD=Xo.LocalDate.ofYearDay(1,1),MD=Buffer.from([0]),t0={id:42,type:"DATETIME2N",name:"DateTime2",declaration:function(n){return"datetime2("+this.resolveScale(n)+")"},resolveScale:function(n){return n.scale!=null?n.scale:n.value===null?0:7},generateTypeInfo(n,t){return Buffer.from([this.id,n.scale])},generateParameterLength(n,t){if(n.value==null)return MD;switch(n.scale){case 0:case 1:case 2:return Buffer.from([6]);case 3:case 4:return Buffer.from([7]);case 5:case 6:case 7:return Buffer.from([8]);default:throw new Error("invalid scale")}},*generateParameterData(n,t){if(n.value==null)return;let r=n.value,a=n.scale,f=new RD.default(16);a=a;let l;switch(t.useUTC?l=((r.getUTCHours()*60+r.getUTCMinutes())*60+r.getUTCSeconds())*1e3+r.getUTCMilliseconds():l=((r.getHours()*60+r.getMinutes())*60+r.getSeconds())*1e3+r.getMilliseconds(),l=l*Math.pow(10,a-3),l+=(r.nanosecondDelta!=null?r.nanosecondDelta:0)*Math.pow(10,a),l=Math.round(l),a){case 0:case 1:case 2:f.writeUInt24LE(l);break;case 3:case 4:f.writeUInt32LE(l);break;case 5:case 6:case 7:f.writeUInt40LE(l)}let h;t.useUTC?h=Xo.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()):h=Xo.LocalDate.of(r.getFullYear(),r.getMonth()+1,r.getDate());let E=CD.until(h,Xo.ChronoUnit.DAYS);f.writeUInt24LE(E),yield f.data},validate:function(n){if(n==null)return null;if(n instanceof Date||(n=new Date(Date.parse(n))),isNaN(n))throw new TypeError("Invalid date.");return n}},PD=t0;Jo.default=PD;n0.exports=t0});var s0=S((Qo,o0)=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.default=void 0;var tf=mr(),FD=xD(Ye());function xD(n){return n&&n.__esModule?n:{default:n}}var UD=tf.LocalDate.ofYearDay(1,1),BD=Buffer.from([0]),i0={id:43,type:"DATETIMEOFFSETN",name:"DateTimeOffset",declaration:function(n){return"datetimeoffset("+this.resolveScale(n)+")"},resolveScale:function(n){return n.scale!=null?n.scale:n.value===null?0:7},generateTypeInfo(n){return Buffer.from([this.id,n.scale])},generateParameterLength(n,t){if(n.value==null)return BD;switch(n.scale){case 0:case 1:case 2:return Buffer.from([8]);case 3:case 4:return Buffer.from([9]);case 5:case 6:case 7:return Buffer.from([10]);default:throw new Error("invalid scale")}},*generateParameterData(n,t){if(n.value==null)return;let r=n.value,a=n.scale,f=new FD.default(16);a=a;let l;switch(l=((r.getUTCHours()*60+r.getUTCMinutes())*60+r.getUTCSeconds())*1e3+r.getMilliseconds(),l=l*Math.pow(10,a-3),l+=(r.nanosecondDelta!=null?r.nanosecondDelta:0)*Math.pow(10,a),l=Math.round(l),a){case 0:case 1:case 2:f.writeUInt24LE(l);break;case 3:case 4:f.writeUInt32LE(l);break;case 5:case 6:case 7:f.writeUInt40LE(l)}let h=tf.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()),E=UD.until(h,tf.ChronoUnit.DAYS);f.writeUInt24LE(E);let v=-r.getTimezoneOffset();f.writeInt16LE(v),yield f.data},validate:function(n){if(n==null)return null;if(n instanceof Date||(n=new Date(Date.parse(n))),isNaN(n))throw new TypeError("Invalid date.");return n}},qD=i0;Qo.default=qD;o0.exports=i0});var f0=S((es,u0)=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.default=void 0;var a0={id:240,type:"UDTTYPE",name:"UDT",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},YD=a0;es.default=YD;u0.exports=a0});var h0=S((ns,c0)=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.default=void 0;var kD=VD(Ye());function VD(n){return n&&n.__esModule?n:{default:n}}var HD=Buffer.from([1]),ts=Buffer.from([0]),WD=Buffer.from([255,255]),l0={id:243,type:"TVPTYPE",name:"TVP",declaration:function(n){return n.value.name+" readonly"},generateTypeInfo(n){var t,r;let a="",f=((t=n.value)===null||t===void 0?void 0:t.schema)??"",l=((r=n.value)===null||r===void 0?void 0:r.name)??"",h=1+1+Buffer.byteLength(a,"ucs2")+1+Buffer.byteLength(f,"ucs2")+1+Buffer.byteLength(l,"ucs2"),E=new kD.default(h,"ucs2");return E.writeUInt8(this.id),E.writeBVarchar(a),E.writeBVarchar(f),E.writeBVarchar(l),E.data},generateParameterLength(n,t){if(n.value==null)return WD;let{columns:r}=n.value,a=Buffer.alloc(2);return a.writeUInt16LE(r.length,0),a},*generateParameterData(n,t){if(n.value==null){yield ts,yield ts;return}let{columns:r,rows:a}=n.value;for(let f=0,l=r.length;f<l;f++){let h=r[f],E=Buffer.alloc(6);E.writeUInt32LE(0,0),E.writeUInt16LE(0,4),yield E,yield h.type.generateTypeInfo(h),yield Buffer.from([0])}yield ts;for(let f=0,l=a.length;f<l;f++){yield HD;let h=a[f];for(let E=0,v=h.length;E<v;E++){let O=r[E],A=h[E],b={value:O.type.validate(A,n.collation),length:O.length,scale:O.scale,precision:O.precision};yield O.type.generateParameterLength(b,t),yield*O.type.generateParameterData(b,t)}}yield ts},validate:function(n){if(n==null)return null;if(typeof n!="object")throw new TypeError("Invalid table.");if(!Array.isArray(n.columns))throw new TypeError("Invalid table.");if(!Array.isArray(n.rows))throw new TypeError("Invalid table.");return n}},GD=l0;ns.default=GD;c0.exports=l0});var _0=S((rs,p0)=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.default=void 0;var d0={id:98,type:"SSVARIANTTYPE",name:"Variant",declaration:function(){return"sql_variant"},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},$D=d0;rs.default=$D;p0.exports=d0});var vr=S(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.typeByName=Ut.TYPES=Ut.TYPE=void 0;var m0=ee(cp()),nf=ee(mp()),rf=ee(Tp()),of=ee(Op()),sf=ee(Ap()),af=ee(Mp()),uf=ee(Bp()),ff=ee(Hp()),lf=ee(Kp()),cf=ee(jp()),hf=ee(n_()),df=ee(u_()),pf=ee(c_()),_f=ee(__()),mf=ee(v_()),Ef=ee(T_()),vf=ee(O_()),E0=ee(Dn()),gf=ee(A_()),v0=ee(zu()),g0=ee(Zu()),y0=ee(Xu()),T0=ee(wo()),w0=ee(No()),S0=ee(go()),yf=ee(R_()),Tf=ee(M_()),wf=ee(x_()),Sf=ee(q_()),Of=ee(V_()),Nf=ee(G_()),If=ee(z_()),Af=ee(X_()),Df=ee(e0()),bf=ee(r0()),Rf=ee(s0()),Lf=ee(f0()),Cf=ee(h0()),Mf=ee(_0());function ee(n){return n&&n.__esModule?n:{default:n}}var KD={[m0.default.id]:m0.default,[nf.default.id]:nf.default,[rf.default.id]:rf.default,[of.default.id]:of.default,[sf.default.id]:sf.default,[af.default.id]:af.default,[uf.default.id]:uf.default,[ff.default.id]:ff.default,[lf.default.id]:lf.default,[cf.default.id]:cf.default,[hf.default.id]:hf.default,[df.default.id]:df.default,[pf.default.id]:pf.default,[_f.default.id]:_f.default,[mf.default.id]:mf.default,[Ef.default.id]:Ef.default,[vf.default.id]:vf.default,[E0.default.id]:E0.default,[gf.default.id]:gf.default,[v0.default.id]:v0.default,[g0.default.id]:g0.default,[y0.default.id]:y0.default,[T0.default.id]:T0.default,[w0.default.id]:w0.default,[S0.default.id]:S0.default,[yf.default.id]:yf.default,[Tf.default.id]:Tf.default,[wf.default.id]:wf.default,[Sf.default.id]:Sf.default,[Of.default.id]:Of.default,[Nf.default.id]:Nf.default,[If.default.id]:If.default,[Af.default.id]:Af.default,[Df.default.id]:Df.default,[bf.default.id]:bf.default,[Rf.default.id]:Rf.default,[Lf.default.id]:Lf.default,[Cf.default.id]:Cf.default,[Mf.default.id]:Mf.default};Ut.TYPE=KD;var O0={TinyInt:nf.default,Bit:rf.default,SmallInt:of.default,Int:sf.default,SmallDateTime:af.default,Real:uf.default,Money:ff.default,DateTime:lf.default,Float:cf.default,Decimal:hf.default,Numeric:df.default,SmallMoney:pf.default,BigInt:_f.default,Image:mf.default,Text:Ef.default,UniqueIdentifier:vf.default,NText:gf.default,VarBinary:yf.default,VarChar:Tf.default,Binary:wf.default,Char:Sf.default,NVarChar:Of.default,NChar:Nf.default,Xml:If.default,Time:Af.default,Date:Df.default,DateTime2:bf.default,DateTimeOffset:Rf.default,UDT:Lf.default,TVP:Cf.default,Variant:Mf.default};Ut.TYPES=O0;var zD=O0;Ut.typeByName=zD});var os=S((gr,Pf)=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.default=void 0;gr.readCollation=is;var ZD=Ku(),jD=vr(),N0=vn();function is(n,t){n.readBuffer(5,r=>{t(ZD.Collation.fromBuffer(r))})}function XD(n,t){n.readUInt8(r=>{r===1?n.readBVarChar(a=>{n.readBVarChar(f=>{n.readUsVarChar(l=>{t({dbname:a,owningSchema:f,xmlSchemaCollection:l})})})}):t(void 0)})}function JD(n,t){n.readUInt16LE(r=>{n.readBVarChar(a=>{n.readBVarChar(f=>{n.readBVarChar(l=>{n.readUsVarChar(h=>{t({maxByteSize:r,dbname:a,owningSchema:f,typeName:l,assemblyName:h})})})})})})}function I0(n,t,r){(t.tdsVersion<"7_2"?n.readUInt16LE:n.readUInt32LE).call(n,a=>{n.readUInt16LE(f=>{n.readUInt8(l=>{let h=jD.TYPE[l];if(!h)throw new Error((0,N0.sprintf)("Unrecognised data type 0x%02X",l));switch(h.name){case"Null":case"TinyInt":case"SmallInt":case"Int":case"BigInt":case"Real":case"Float":case"SmallMoney":case"Money":case"Bit":case"SmallDateTime":case"DateTime":case"Date":return r({userType:a,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:void 0});case"IntN":case"FloatN":case"MoneyN":case"BitN":case"UniqueIdentifier":case"DateTimeN":return n.readUInt8(E=>{r({userType:a,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})});case"Variant":return n.readUInt32LE(E=>{r({userType:a,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})});case"VarChar":case"Char":case"NVarChar":case"NChar":return n.readUInt16LE(E=>{is(n,v=>{r({userType:a,flags:f,type:h,collation:v,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})})});case"Text":case"NText":return n.readUInt32LE(E=>{is(n,v=>{r({userType:a,flags:f,type:h,collation:v,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})})});case"VarBinary":case"Binary":return n.readUInt16LE(E=>{r({userType:a,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})});case"Image":return n.readUInt32LE(E=>{r({userType:a,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})});case"Xml":return XD(n,E=>{r({userType:a,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:E,udtInfo:void 0})});case"Time":case"DateTime2":case"DateTimeOffset":return n.readUInt8(E=>{r({userType:a,flags:f,type:h,collation:void 0,precision:void 0,scale:E,dataLength:void 0,schema:void 0,udtInfo:void 0})});case"NumericN":case"DecimalN":return n.readUInt8(E=>{n.readUInt8(v=>{n.readUInt8(O=>{r({userType:a,flags:f,type:h,collation:void 0,precision:v,scale:O,dataLength:E,schema:void 0,udtInfo:void 0})})})});case"UDT":return JD(n,E=>{r({userType:a,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:E})});default:throw new Error((0,N0.sprintf)("Unrecognised type %s",h.name))}})})})}var QD=I0;gr.default=QD;Pf.exports=I0;Pf.exports.readCollation=is});var b0=S((ss,D0)=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.default=void 0;var eb=nb(os()),tb=Le();function nb(n){return n&&n.__esModule?n:{default:n}}function rb(n,t,r,a){r.type.hasTableName?t.tdsVersion>="7_2"?n.readUInt8(f=>{let l=[],h=0;function E(v){if(f===h)return v();n.readUsVarChar(O=>{l.push(O),h++,E(v)})}E(()=>{a(l)})}):n.readUsVarChar(a):a(void 0)}function ib(n,t,r,a,f){n.readBVarChar(l=>{t.columnNameReplacer?f(t.columnNameReplacer(l,r,a)):t.camelCaseColumns?f(l.replace(/^[A-Z]/,function(h){return h.toLowerCase()})):f(l)})}function ob(n,t,r,a){(0,eb.default)(n,t,f=>{rb(n,t,f,l=>{ib(n,t,r,f,h=>{a({userType:f.userType,flags:f.flags,type:f.type,collation:f.collation,precision:f.precision,scale:f.scale,udtInfo:f.udtInfo,dataLength:f.dataLength,schema:f.schema,colName:h,tableName:l})})})})}async function A0(n){for(;n.buffer.length-n.position<2;)await n.streamBuffer.waitForChunk();let t=n.buffer.readUInt16LE(n.position);n.position+=2;let r=[];for(let a=0;a<t;a++){let f;for(ob(n,n.options,a,l=>{f=l});n.suspended;){await n.streamBuffer.waitForChunk(),n.suspended=!1;let l=n.next;l()}r.push(f)}return new tb.ColMetadataToken(r)}var sb=A0;ss.default=sb;D0.exports=A0});var R0=S(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.doneInProcParser=ub;Tr.doneParser=ab;Tr.doneProcParser=fb;var Ff=Le(),yr={MORE:1,ERROR:2,INXACT:4,COUNT:16,ATTN:32,SRVERROR:256};function xf(n,t,r){n.readUInt16LE(a=>{let f=!!(a&yr.MORE),l=!!(a&yr.ERROR),h=!!(a&yr.COUNT),E=!!(a&yr.ATTN),v=!!(a&yr.SRVERROR);n.readUInt16LE(O=>{let A=b=>{r({more:f,sqlError:l,attention:E,serverError:v,rowCount:h?b:void 0,curCmd:O})};t.tdsVersion<"7_2"?n.readUInt32LE(A):n.readBigUInt64LE(b=>{A(Number(b))})})})}function ab(n,t,r){xf(n,t,a=>{r(new Ff.DoneToken(a))})}function ub(n,t,r){xf(n,t,a=>{r(new Ff.DoneInProcToken(a))})}function fb(n,t,r){xf(n,t,a=>{r(new Ff.DoneProcToken(a))})}});var P0=S((as,M0)=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.default=void 0;var L0=Ku(),at=Le(),lb={1:{name:"DATABASE",event:"databaseChange"},2:{name:"LANGUAGE",event:"languageChange"},3:{name:"CHARSET",event:"charsetChange"},4:{name:"PACKET_SIZE",event:"packetSizeChange"},7:{name:"SQL_COLLATION",event:"sqlCollationChange"},8:{name:"BEGIN_TXN",event:"beginTransaction"},9:{name:"COMMIT_TXN",event:"commitTransaction"},10:{name:"ROLLBACK_TXN",event:"rollbackTransaction"},13:{name:"DATABASE_MIRRORING_PARTNER",event:"partnerNode"},17:{name:"TXN_ENDED"},18:{name:"RESET_CONNECTION",event:"resetConnection"},20:{name:"ROUTING_CHANGE",event:"routingChange"}};function cb(n,t,r,a){switch(r.name){case"DATABASE":case"LANGUAGE":case"CHARSET":case"PACKET_SIZE":case"DATABASE_MIRRORING_PARTNER":return n.readBVarChar(f=>{n.readBVarChar(l=>{switch(r.name){case"PACKET_SIZE":return a(new at.PacketSizeEnvChangeToken(parseInt(f),parseInt(l)));case"DATABASE":return a(new at.DatabaseEnvChangeToken(f,l));case"LANGUAGE":return a(new at.LanguageEnvChangeToken(f,l));case"CHARSET":return a(new at.CharsetEnvChangeToken(f,l));case"DATABASE_MIRRORING_PARTNER":return a(new at.DatabaseMirroringPartnerEnvChangeToken(f,l))}})});case"SQL_COLLATION":case"BEGIN_TXN":case"COMMIT_TXN":case"ROLLBACK_TXN":case"RESET_CONNECTION":return n.readBVarByte(f=>{n.readBVarByte(l=>{switch(r.name){case"SQL_COLLATION":{let h=f.length?L0.Collation.fromBuffer(f):void 0,E=l.length?L0.Collation.fromBuffer(l):void 0;return a(new at.CollationChangeToken(h,E))}case"BEGIN_TXN":return a(new at.BeginTransactionEnvChangeToken(f,l));case"COMMIT_TXN":return a(new at.CommitTransactionEnvChangeToken(f,l));case"ROLLBACK_TXN":return a(new at.RollbackTransactionEnvChangeToken(f,l));case"RESET_CONNECTION":return a(new at.ResetConnectionEnvChangeToken(f,l))}})});case"ROUTING_CHANGE":return n.readUInt16LE(f=>{n.readBuffer(f,l=>{let h=l.readUInt8(0);if(h!==0)throw new Error("Unknown protocol byte in routing change event");let E=l.readUInt16LE(1),v=l.readUInt16LE(3),O=l.toString("ucs2",5,5+v*2),A={protocol:h,port:E,server:O};n.readUInt16LE(b=>{n.readBuffer(b,C=>{a(new at.RoutingEnvChangeToken(A,C))})})})});default:console.error("Tedious > Unsupported ENVCHANGE type "+r.name),n.readBuffer(t-1,()=>{a(void 0)})}}function C0(n,t,r){n.readUInt16LE(a=>{n.readUInt8(f=>{let l=lb[f];if(!l)return console.error("Tedious > Unsupported ENVCHANGE type "+f),n.readBuffer(a-1,()=>{r(void 0)});cb(n,a,l,h=>{r(h)})})})}var hb=C0;as.default=hb;M0.exports=C0});var U0=S(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.errorParser=pb;us.infoParser=db;var F0=Le();function x0(n,t,r){n.readUInt16LE(()=>{n.readUInt32LE(a=>{n.readUInt8(f=>{n.readUInt8(l=>{n.readUsVarChar(h=>{n.readBVarChar(E=>{n.readBVarChar(v=>{(t.tdsVersion<"7_2"?n.readUInt16LE:n.readUInt32LE).call(n,O=>{r({number:a,state:f,class:l,message:h,serverName:E,procName:v,lineNumber:O})})})})})})})})})}function db(n,t,r){x0(n,t,a=>{r(new F0.InfoMessageToken(a))})}function pb(n,t,r){x0(n,t,a=>{r(new F0.ErrorMessageToken(a))})}});var k0=S((fs,Y0)=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.default=void 0;var _b=Le(),B0={STSURL:1,SPN:2};function q0(n,t,r){n.readUInt32LE(a=>{n.readBuffer(a,f=>{let l,h,E=0,v=f.readUInt32LE(E);E+=4;for(let O=0;O<v;O++){let A=f.readUInt8(E);E+=1;let b=f.readUInt32LE(E);E+=4;let C=f.readUInt32LE(E);switch(E+=4,A){case B0.SPN:l=f.toString("ucs2",C,C+b);break;case B0.STSURL:h=f.toString("ucs2",C,C+b);break;default:break}}r(new _b.FedAuthInfoToken(l,h))})})}var mb=q0;fs.default=mb;Y0.exports=q0});var W0=S((ls,H0)=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.default=void 0;var Eb=Le(),Uf={SESSIONRECOVERY:1,FEDAUTH:2,COLUMNENCRYPTION:4,GLOBALTRANSACTIONS:5,AZURESQLSUPPORT:8,UTF8_SUPPORT:10,TERMINATOR:255};function V0(n,t,r){let a,f;function l(){n.readUInt8(h=>{if(h===Uf.TERMINATOR)return r(new Eb.FeatureExtAckToken(a,f));n.readUInt32LE(E=>{n.readBuffer(E,v=>{switch(h){case Uf.FEDAUTH:a=v;break;case Uf.UTF8_SUPPORT:f=!!v[0];break}l()})})})}l()}var vb=V0;ls.default=vb;H0.exports=V0});var K0=S((cs,$0)=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.default=void 0;var gb=Le(),yb=ir(),Tb={0:"SQL_DFLT",1:"SQL_TSQL"};function G0(n,t,r){n.readUInt16LE(()=>{n.readUInt8(a=>{let f=Tb[a];n.readUInt32BE(l=>{let h=yb.versionsByValue[l];n.readBVarChar(E=>{n.readUInt8(v=>{n.readUInt8(O=>{n.readUInt8(A=>{n.readUInt8(b=>{r(new gb.LoginAckToken({interface:f,tdsVersion:h,progName:E,progVersion:{major:v,minor:O,buildNumHi:A,buildNumLow:b}}))})})})})})})})})}var wb=G0;cs.default=wb;$0.exports=G0});var j0=S((hs,Z0)=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.default=void 0;var Sb=Le();function z0(n,t,r){n.readUInt16LE(a=>{let f=a/2,l=[],h=0;function E(v){if(h===f)return v();n.readUInt16LE(O=>{l.push(O),h++,E(v)})}E(()=>{r(new Sb.OrderToken(l))})})}var Ob=z0;hs.default=Ob;Z0.exports=z0});var Q0=S((ds,J0)=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.default=void 0;var Nb=Le();function X0(n,t,r){n.readInt32LE(a=>{r(new Nb.ReturnStatusToken(a))})}var Ib=X0;ds.default=Ib;J0.exports=X0});var ms=S((_s,dm)=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.default=void 0;var em=os(),Ab=vr(),im=Db(require("iconv-lite")),Yf=vn(),tm=Qu();function Db(n){return n&&n.__esModule?n:{default:n}}var Bf=(1<<16)-1,qf=(1<<16)-1,bb=3+1/3,om=1e4,Rb=Buffer.from([255,255,255,255,255,255,255,255]),Lb=Buffer.from([254,255,255,255,255,255,255,255]),sm="utf8";function kf(n,t){n.readUInt8(t)}function Vf(n,t){n.readInt16LE(t)}function Hf(n,t){n.readInt32LE(t)}function Wf(n,t){n.readBigInt64LE(r=>{t(r.toString())})}function Gf(n,t){n.readFloatLE(t)}function $f(n,t){n.readDoubleLE(t)}function Kf(n,t){n.readInt32LE(r=>{t(r/om)})}function zf(n,t){n.readInt32LE(r=>{n.readUInt32LE(a=>{t((a+4294967296*r)/om)})})}function Zf(n,t){n.readUInt8(r=>{t(!!r)})}function am(n,t,r,a){let f=t.type;switch(f.name){case"Null":return a(null);case"TinyInt":return kf(n,a);case"SmallInt":return Vf(n,a);case"Int":return Hf(n,a);case"BigInt":return Wf(n,a);case"IntN":return n.readUInt8(h=>{switch(h){case 0:return a(null);case 1:return kf(n,a);case 2:return Vf(n,a);case 4:return Hf(n,a);case 8:return Wf(n,a);default:throw new Error("Unsupported dataLength "+h+" for IntN")}});case"Real":return Gf(n,a);case"Float":return $f(n,a);case"FloatN":return n.readUInt8(h=>{switch(h){case 0:return a(null);case 4:return Gf(n,a);case 8:return $f(n,a);default:throw new Error("Unsupported dataLength "+h+" for FloatN")}});case"SmallMoney":return Kf(n,a);case"Money":return zf(n,a);case"MoneyN":return n.readUInt8(h=>{switch(h){case 0:return a(null);case 4:return Kf(n,a);case 8:return zf(n,a);default:throw new Error("Unsupported dataLength "+h+" for MoneyN")}});case"Bit":return Zf(n,a);case"BitN":return n.readUInt8(h=>{switch(h){case 0:return a(null);case 1:return Zf(n,a);default:throw new Error("Unsupported dataLength "+h+" for BitN")}});case"VarChar":case"Char":let l=t.collation.codepage;return t.dataLength===qf?Mb(n,l,a):n.readUInt16LE(h=>{if(h===Bf)return a(null);Xf(n,h,l,a)});case"NVarChar":case"NChar":return t.dataLength===qf?rm(n,a):n.readUInt16LE(h=>{if(h===Bf)return a(null);Jf(n,h,a)});case"VarBinary":case"Binary":return t.dataLength===qf?nm(n,a):n.readUInt16LE(h=>{if(h===Bf)return a(null);jf(n,h,a)});case"Text":return n.readUInt8(h=>{if(h===0)return a(null);n.readBuffer(h,E=>{n.readBuffer(8,v=>{n.readUInt32LE(O=>{Xf(n,O,t.collation.codepage,a)})})})});case"NText":return n.readUInt8(h=>{if(h===0)return a(null);n.readBuffer(h,E=>{n.readBuffer(8,v=>{n.readUInt32LE(O=>{Jf(n,O,a)})})})});case"Image":return n.readUInt8(h=>{if(h===0)return a(null);n.readBuffer(h,E=>{n.readBuffer(8,v=>{n.readUInt32LE(O=>{jf(n,O,a)})})})});case"Xml":return rm(n,a);case"SmallDateTime":return Qf(n,r.useUTC,a);case"DateTime":return el(n,r.useUTC,a);case"DateTimeN":return n.readUInt8(h=>{switch(h){case 0:return a(null);case 4:return Qf(n,r.useUTC,a);case 8:return el(n,r.useUTC,a);default:throw new Error("Unsupported dataLength "+h+" for DateTimeN")}});case"Time":return n.readUInt8(h=>h===0?a(null):ps(n,h,t.scale,r.useUTC,a));case"Date":return n.readUInt8(h=>h===0?a(null):lm(n,r.useUTC,a));case"DateTime2":return n.readUInt8(h=>h===0?a(null):cm(n,h,t.scale,r.useUTC,a));case"DateTimeOffset":return n.readUInt8(h=>h===0?a(null):hm(n,h,t.scale,a));case"NumericN":case"DecimalN":return n.readUInt8(h=>h===0?a(null):fm(n,h,t.precision,t.scale,a));case"UniqueIdentifier":return n.readUInt8(h=>{switch(h){case 0:return a(null);case 16:return um(n,r,a);default:throw new Error((0,Yf.sprintf)("Unsupported guid size %d",h-1))}});case"UDT":return nm(n,a);case"Variant":return n.readUInt32LE(h=>{if(h===0)return a(null);Cb(n,r,h,a)});default:throw new Error((0,Yf.sprintf)("Unrecognised type %s",f.name))}}function um(n,t,r){n.readBuffer(16,a=>{r(t.lowerCaseGuids?(0,tm.bufferToLowerCaseGuid)(a):(0,tm.bufferToUpperCaseGuid)(a))})}function fm(n,t,r,a,f){n.readUInt8(l=>{l=l===1?1:-1;let h;if(t===5)h=n.readUInt32LE;else if(t===9)h=n.readUNumeric64LE;else if(t===13)h=n.readUNumeric96LE;else if(t===17)h=n.readUNumeric128LE;else throw new Error((0,Yf.sprintf)("Unsupported numeric dataLength %d",t));h.call(n,E=>{f(E*l/Math.pow(10,a))})})}function Cb(n,t,r,a){return n.readUInt8(f=>{let l=Ab.TYPE[f];return n.readUInt8(h=>{switch(r=r-h-2,l.name){case"UniqueIdentifier":return um(n,t,a);case"Bit":return Zf(n,a);case"TinyInt":return kf(n,a);case"SmallInt":return Vf(n,a);case"Int":return Hf(n,a);case"BigInt":return Wf(n,a);case"SmallDateTime":return Qf(n,t.useUTC,a);case"DateTime":return el(n,t.useUTC,a);case"Real":return Gf(n,a);case"Float":return $f(n,a);case"SmallMoney":return Kf(n,a);case"Money":return zf(n,a);case"Date":return lm(n,t.useUTC,a);case"Time":return n.readUInt8(E=>ps(n,r,E,t.useUTC,a));case"DateTime2":return n.readUInt8(E=>cm(n,r,E,t.useUTC,a));case"DateTimeOffset":return n.readUInt8(E=>hm(n,r,E,a));case"VarBinary":case"Binary":return n.readUInt16LE(E=>{jf(n,r,a)});case"NumericN":case"DecimalN":return n.readUInt8(E=>{n.readUInt8(v=>{fm(n,r,E,v,a)})});case"VarChar":case"Char":return n.readUInt16LE(E=>{(0,em.readCollation)(n,v=>{Xf(n,r,v.codepage,a)})});case"NVarChar":case"NChar":return n.readUInt16LE(E=>{(0,em.readCollation)(n,v=>{Jf(n,r,a)})});default:throw new Error("Invalid type!")}})})}function jf(n,t,r){return n.readBuffer(t,r)}function Xf(n,t,r,a){return r==null&&(r=sm),n.readBuffer(t,f=>{a(im.default.decode(f,r))})}function Jf(n,t,r){n.readBuffer(t,a=>{r(a.toString("ucs2"))})}function nm(n,t){return tl(n,t)}function Mb(n,t,r){t==null&&(t=sm),tl(n,a=>{r(a?im.default.decode(a,t):null)})}function rm(n,t){tl(n,r=>{t(r?r.toString("ucs2"):null)})}function tl(n,t){n.readBuffer(8,r=>{if(r.equals(Rb))return t(null);if(r.equals(Lb))return Fb(n,t);{let a=r.readUInt32LE(0),f=r.readUInt32LE(4);f>=2<<53-32&&console.warn("Read UInt64LE > 53 bits : high="+f+", low="+a);let l=a+4294967296*f;return Pb(n,l,t)}})}function Pb(n,t,r){let a=Buffer.alloc(t,0),f=0;function l(h){n.readUInt32LE(E=>{if(!E)return h();n.readBuffer(E,v=>{v.copy(a,f),f+=E,l(h)})})}l(()=>{if(f!==t)throw new Error("Partially Length-prefixed Bytes unmatched lengths : expected "+t+", but got "+f+" bytes");r(a)})}function Fb(n,t){let r=[],a=0;function f(l){n.readUInt32LE(h=>{if(!h)return l();n.readBuffer(h,E=>{r.push(E),a+=h,f(l)})})}f(()=>{t(Buffer.concat(r,a))})}function Qf(n,t,r){n.readUInt16LE(a=>{n.readUInt16LE(f=>{let l;t?l=new Date(Date.UTC(1900,0,1+a,0,f)):l=new Date(1900,0,1+a,0,f),r(l)})})}function el(n,t,r){n.readInt32LE(a=>{n.readUInt32LE(f=>{let l=Math.round(f*bb),h;t?h=new Date(Date.UTC(1900,0,1+a,0,0,0,l)):h=new Date(1900,0,1+a,0,0,0,l),r(h)})})}function ps(n,t,r,a,f){let l;switch(t){case 3:l=n.readUInt24LE;break;case 4:l=n.readUInt32LE;break;case 5:l=n.readUInt40LE}l.call(n,h=>{if(r<7)for(let v=r;v<7;v++)h*=10;let E;a?E=new Date(Date.UTC(1970,0,1,0,0,0,h/1e4)):E=new Date(1970,0,1,0,0,0,h/1e4),Object.defineProperty(E,"nanosecondsDelta",{enumerable:!1,value:h%1e4/Math.pow(10,7)}),f(E)})}function lm(n,t,r){n.readUInt24LE(a=>{r(t?new Date(Date.UTC(2e3,0,a-730118)):new Date(2e3,0,a-730118))})}function cm(n,t,r,a,f){ps(n,t-3,r,a,l=>{n.readUInt24LE(h=>{let E;a?E=new Date(Date.UTC(2e3,0,h-730118,0,0,0,+l)):E=new Date(2e3,0,h-730118,l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()),Object.defineProperty(E,"nanosecondsDelta",{enumerable:!1,value:l.nanosecondsDelta}),f(E)})})}function hm(n,t,r,a){ps(n,t-5,r,!0,f=>{n.readUInt24LE(l=>{n.readInt16LE(()=>{let h=new Date(Date.UTC(2e3,0,l-730118,0,0,0,+f));Object.defineProperty(h,"nanosecondsDelta",{enumerable:!1,value:f.nanosecondsDelta}),a(h)})})})}var xb=am;_s.default=xb;dm.exports=am});var Em=S((Es,mm)=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.default=void 0;var Ub=Le(),Bb=pm(os()),qb=pm(ms());function pm(n){return n&&n.__esModule?n:{default:n}}function _m(n,t,r){n.readUInt16LE(a=>{n.readBVarChar(f=>{f.charAt(0)==="@"&&(f=f.slice(1)),n.readUInt8(()=>{(0,Bb.default)(n,t,l=>{(0,qb.default)(n,l,t,h=>{r(new Ub.ReturnValueToken({paramOrdinal:a,paramName:f,metadata:l,value:h}))})})})})})}var Yb=_m;Es.default=Yb;mm.exports=_m});var Tm=S((vs,ym)=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.default=void 0;var vm=Le(),kb=Vb(ms());function Vb(n){return n&&n.__esModule?n:{default:n}}async function gm(n){let t=n.colMetadata,r=t.length,a=[];for(let f=0;f<r;f++){let l=t[f],h;for((0,kb.default)(n,l,n.options,E=>{h=E});n.suspended;){await n.streamBuffer.waitForChunk(),n.suspended=!1;let E=n.next;E()}a.push({value:h,metadata:l})}if(n.options.useColumnNames){let f=Object.create(null);return a.forEach(l=>{let h=l.metadata.colName;f[h]==null&&(f[h]=l)}),new vm.RowToken(f)}else return new vm.RowToken(a)}var Hb=gm;vs.default=Hb;ym.exports=gm});var Nm=S((gs,Om)=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.default=void 0;var wm=Le(),Wb=Gb(ms());function Gb(n){return n&&n.__esModule?n:{default:n}}function $b(n,t,r,a){a(null)}async function Sm(n){let t=n.colMetadata,r=Math.ceil(t.length/8),a=[],f=[];for(;n.buffer.length-n.position<r;)await n.streamBuffer.waitForChunk();let l=n.buffer.slice(n.position,n.position+r);n.position+=r;for(let h=0,E=l.length;h<E;h++){let v=l[h];f.push(!!(v&1)),f.push(!!(v&2)),f.push(!!(v&4)),f.push(!!(v&8)),f.push(!!(v&16)),f.push(!!(v&32)),f.push(!!(v&64)),f.push(!!(v&128))}for(let h=0;h<t.length;h++){let E=t[h],v;for((f[h]?$b:Wb.default)(n,E,n.options,O=>{v=O});n.suspended;){await n.streamBuffer.waitForChunk(),n.suspended=!1;let O=n.next;O()}a.push({value:v,metadata:E})}if(n.options.useColumnNames){let h={};return a.forEach(E=>{let v=E.metadata.colName;h[v]==null&&(h[v]=E)}),new wm.NBCRowToken(h)}else return new wm.NBCRowToken(a)}var Kb=Sm;gs.default=Kb;Om.exports=Sm});var Dm=S((ys,Am)=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.default=void 0;var zb=Le();function Zb(n){let t={};return t.magic=n.slice(0,8).toString("utf8"),t.type=n.readInt32LE(8),t.domainLen=n.readInt16LE(12),t.domainMax=n.readInt16LE(14),t.domainOffset=n.readInt32LE(16),t.flags=n.readInt32LE(20),t.nonce=n.slice(24,32),t.zeroes=n.slice(32,40),t.targetLen=n.readInt16LE(40),t.targetMax=n.readInt16LE(42),t.targetOffset=n.readInt32LE(44),t.oddData=n.slice(48,56),t.domain=n.slice(56,56+t.domainLen).toString("ucs2"),t.target=n.slice(56+t.domainLen,56+t.domainLen+t.targetLen),t}function Im(n,t,r){n.readUsVarByte(a=>{r(new zb.SSPIToken(Zb(a),a))})}var jb=Im;ys.default=jb;Am.exports=Im});var Cm=S((Ts,Lm)=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.default=void 0;var Ie=Le(),Xb=ut(b0()),nl=R0(),Jb=ut(P0()),bm=U0(),Qb=ut(k0()),eR=ut(W0()),tR=ut(K0()),nR=ut(j0()),rR=ut(Q0()),iR=ut(Em()),oR=ut(Tm()),sR=ut(Nm()),aR=ut(Dm());function ut(n){return n&&n.__esModule?n:{default:n}}var Rm={[Ie.TYPE.DONE]:nl.doneParser,[Ie.TYPE.DONEINPROC]:nl.doneInProcParser,[Ie.TYPE.DONEPROC]:nl.doneProcParser,[Ie.TYPE.ENVCHANGE]:Jb.default,[Ie.TYPE.ERROR]:bm.errorParser,[Ie.TYPE.FEDAUTHINFO]:Qb.default,[Ie.TYPE.FEATUREEXTACK]:eR.default,[Ie.TYPE.INFO]:bm.infoParser,[Ie.TYPE.LOGINACK]:tR.default,[Ie.TYPE.ORDER]:nR.default,[Ie.TYPE.RETURNSTATUS]:rR.default,[Ie.TYPE.RETURNVALUE]:iR.default,[Ie.TYPE.SSPI]:aR.default},rl=class{constructor(t){this.iterator=void 0,this.buffer=void 0,this.position=void 0,this.iterator=(t[Symbol.asyncIterator]||t[Symbol.iterator]).call(t),this.buffer=Buffer.alloc(0),this.position=0}async waitForChunk(){let t=await this.iterator.next();if(t.done)throw new Error("unexpected end of data");this.position===this.buffer.length?this.buffer=t.value:this.buffer=Buffer.concat([this.buffer.slice(this.position),t.value]),this.position=0}},Rn=class{static async*parseTokens(t,r,a,f=[]){let l,h=O=>{l=O},E=new rl(t),v=new Rn(E,r,a);for(v.colMetadata=f;;){try{await E.waitForChunk()}catch(O){if(E.position===E.buffer.length)return;throw O}if(v.suspended){v.suspended=!1;let O=v.next;O(),!v.suspended&&l&&(l instanceof Ie.ColMetadataToken&&(v.colMetadata=l.columns),yield l)}for(;!v.suspended&&v.position+1<=v.buffer.length;){let O=v.buffer.readUInt8(v.position);if(v.position+=1,O===Ie.TYPE.COLMETADATA){let A=await(0,Xb.default)(v);v.colMetadata=A.columns,yield A}else if(O===Ie.TYPE.ROW)yield(0,oR.default)(v);else if(O===Ie.TYPE.NBCROW)yield(0,sR.default)(v);else if(Rm[O])Rm[O](v,v.options,h),!v.suspended&&l&&(l instanceof Ie.ColMetadataToken&&(v.colMetadata=l.columns),yield l);else throw new Error("Unknown type: "+O)}}}constructor(t,r,a){this.debug=void 0,this.colMetadata=void 0,this.options=void 0,this.suspended=void 0,this.next=void 0,this.streamBuffer=void 0,this.debug=r,this.colMetadata=[],this.options=a,this.streamBuffer=t,this.suspended=!1,this.next=void 0}get buffer(){return this.streamBuffer.buffer}get position(){return this.streamBuffer.position}set position(t){this.streamBuffer.position=t}suspend(t){this.suspended=!0,this.next=t}awaitData(t,r){this.position+t<=this.buffer.length?r():this.suspend(()=>{this.awaitData(t,r)})}readInt8(t){this.awaitData(1,()=>{let r=this.buffer.readInt8(this.position);this.position+=1,t(r)})}readUInt8(t){this.awaitData(1,()=>{let r=this.buffer.readUInt8(this.position);this.position+=1,t(r)})}readInt16LE(t){this.awaitData(2,()=>{let r=this.buffer.readInt16LE(this.position);this.position+=2,t(r)})}readInt16BE(t){this.awaitData(2,()=>{let r=this.buffer.readInt16BE(this.position);this.position+=2,t(r)})}readUInt16LE(t){this.awaitData(2,()=>{let r=this.buffer.readUInt16LE(this.position);this.position+=2,t(r)})}readUInt16BE(t){this.awaitData(2,()=>{let r=this.buffer.readUInt16BE(this.position);this.position+=2,t(r)})}readInt32LE(t){this.awaitData(4,()=>{let r=this.buffer.readInt32LE(this.position);this.position+=4,t(r)})}readInt32BE(t){this.awaitData(4,()=>{let r=this.buffer.readInt32BE(this.position);this.position+=4,t(r)})}readUInt32LE(t){this.awaitData(4,()=>{let r=this.buffer.readUInt32LE(this.position);this.position+=4,t(r)})}readUInt32BE(t){this.awaitData(4,()=>{let r=this.buffer.readUInt32BE(this.position);this.position+=4,t(r)})}readBigInt64LE(t){this.awaitData(8,()=>{let r=this.buffer.readBigInt64LE(this.position);this.position+=8,t(r)})}readInt64LE(t){this.awaitData(8,()=>{let r=Math.pow(2,32)*this.buffer.readInt32LE(this.position+4)+((this.buffer[this.position+4]&128)===128?1:-1)*this.buffer.readUInt32LE(this.position);this.position+=8,t(r)})}readInt64BE(t){this.awaitData(8,()=>{let r=Math.pow(2,32)*this.buffer.readInt32BE(this.position)+((this.buffer[this.position]&128)===128?1:-1)*this.buffer.readUInt32BE(this.position+4);this.position+=8,t(r)})}readBigUInt64LE(t){this.awaitData(8,()=>{let r=this.buffer.readBigUInt64LE(this.position);this.position+=8,t(r)})}readUInt64LE(t){this.awaitData(8,()=>{let r=Math.pow(2,32)*this.buffer.readUInt32LE(this.position+4)+this.buffer.readUInt32LE(this.position);this.position+=8,t(r)})}readUInt64BE(t){this.awaitData(8,()=>{let r=Math.pow(2,32)*this.buffer.readUInt32BE(this.position)+this.buffer.readUInt32BE(this.position+4);this.position+=8,t(r)})}readFloatLE(t){this.awaitData(4,()=>{let r=this.buffer.readFloatLE(this.position);this.position+=4,t(r)})}readFloatBE(t){this.awaitData(4,()=>{let r=this.buffer.readFloatBE(this.position);this.position+=4,t(r)})}readDoubleLE(t){this.awaitData(8,()=>{let r=this.buffer.readDoubleLE(this.position);this.position+=8,t(r)})}readDoubleBE(t){this.awaitData(8,()=>{let r=this.buffer.readDoubleBE(this.position);this.position+=8,t(r)})}readUInt24LE(t){this.awaitData(3,()=>{let r=this.buffer.readUInt16LE(this.position),a=this.buffer.readUInt8(this.position+2);this.position+=3,t(r|a<<16)})}readUInt40LE(t){this.awaitData(5,()=>{let r=this.buffer.readUInt32LE(this.position),a=this.buffer.readUInt8(this.position+4);this.position+=5,t(4294967296*a+r)})}readUNumeric64LE(t){this.awaitData(8,()=>{let r=this.buffer.readUInt32LE(this.position),a=this.buffer.readUInt32LE(this.position+4);this.position+=8,t(4294967296*a+r)})}readUNumeric96LE(t){this.awaitData(12,()=>{let r=this.buffer.readUInt32LE(this.position),a=this.buffer.readUInt32LE(this.position+4),f=this.buffer.readUInt32LE(this.position+8);this.position+=12,t(r+4294967296*a+4294967296*4294967296*f)})}readUNumeric128LE(t){this.awaitData(16,()=>{let r=this.buffer.readUInt32LE(this.position),a=this.buffer.readUInt32LE(this.position+4),f=this.buffer.readUInt32LE(this.position+8),l=this.buffer.readUInt32LE(this.position+12);this.position+=16,t(r+4294967296*a+4294967296*4294967296*f+4294967296*4294967296*4294967296*l)})}readBuffer(t,r){this.awaitData(t,()=>{let a=this.buffer.slice(this.position,this.position+t);this.position+=t,r(a)})}readBVarChar(t){this.readUInt8(r=>{this.readBuffer(r*2,a=>{t(a.toString("ucs2"))})})}readUsVarChar(t){this.readUInt16LE(r=>{this.readBuffer(r*2,a=>{t(a.toString("ucs2"))})})}readBVarByte(t){this.readUInt8(r=>{this.readBuffer(r,t)})}readUsVarByte(t){this.readUInt16LE(r=>{this.readBuffer(r,t)})}},uR=Rn;Ts.default=uR;Lm.exports=Rn});var Mm=S(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.Parser=void 0;var fR=require("events"),lR=hR(Cm()),cR=require("stream");function hR(n){return n&&n.__esModule?n:{default:n}}var il=class extends fR.EventEmitter{constructor(t,r,a,f){super(),this.debug=void 0,this.options=void 0,this.parser=void 0,this.debug=r,this.options=f,this.parser=cR.Readable.from(lR.default.parseTokens(t,this.debug,this.options)),this.parser.on("data",l=>{a[l.handlerName](l)}),this.parser.on("drain",()=>{this.emit("drain")}),this.parser.on("end",()=>{this.emit("end")})}pause(){return this.parser.pause()}resume(){return this.parser.resume()}};ws.Parser=il});var al=S(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.Transaction=ft.OPERATION_TYPE=ft.ISOLATION_LEVEL=void 0;ft.assertValidIsolationLevel=pR;ft.isolationLevelByValue=void 0;var Ss=dR(Ye()),Os=Li();function dR(n){return n&&n.__esModule?n:{default:n}}var wr={TM_GET_DTC_ADDRESS:0,TM_PROPAGATE_XACT:1,TM_BEGIN_XACT:5,TM_PROMOTE_XACT:6,TM_COMMIT_XACT:7,TM_ROLLBACK_XACT:8,TM_SAVE_XACT:9};ft.OPERATION_TYPE=wr;var At={NO_CHANGE:0,READ_UNCOMMITTED:1,READ_COMMITTED:2,REPEATABLE_READ:3,SERIALIZABLE:4,SNAPSHOT:5};ft.ISOLATION_LEVEL=At;var sl={};ft.isolationLevelByValue=sl;for(let n in At){let t=At[n];sl[t]=n}function pR(n,t){if(typeof n!="number")throw new TypeError(`The "${t}" ${t.includes(".")?"property":"argument"} must be of type number. Received type ${typeof n} (${n})`);if(!Number.isInteger(n))throw new RangeError(`The value of "${t}" is out of range. It must be an integer. Received: ${n}`);if(!(n>=0&&n<=5))throw new RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= 5. Received: ${n}`)}var ol=class{constructor(t,r=At.NO_CHANGE){this.name=void 0,this.isolationLevel=void 0,this.outstandingRequestCount=void 0,this.name=t,this.isolationLevel=r,this.outstandingRequestCount=1}beginPayload(t){let r=new Ss.default(100,"ucs2");return(0,Os.writeToTrackingBuffer)(r,t,this.outstandingRequestCount),r.writeUShort(wr.TM_BEGIN_XACT),r.writeUInt8(this.isolationLevel),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield r.data},toString:()=>"Begin Transaction: name="+this.name+", isolationLevel="+sl[this.isolationLevel]}}commitPayload(t){let r=new Ss.default(100,"ascii");return(0,Os.writeToTrackingBuffer)(r,t,this.outstandingRequestCount),r.writeUShort(wr.TM_COMMIT_XACT),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),r.writeUInt8(0),{*[Symbol.iterator](){yield r.data},toString:()=>"Commit Transaction: name="+this.name}}rollbackPayload(t){let r=new Ss.default(100,"ascii");return(0,Os.writeToTrackingBuffer)(r,t,this.outstandingRequestCount),r.writeUShort(wr.TM_ROLLBACK_XACT),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),r.writeUInt8(0),{*[Symbol.iterator](){yield r.data},toString:()=>"Rollback Transaction: name="+this.name}}savePayload(t){let r=new Ss.default(100,"ascii");return(0,Os.writeToTrackingBuffer)(r,t,this.outstandingRequestCount),r.writeUShort(wr.TM_SAVE_XACT),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield r.data},toString:()=>"Save Transaction: name="+this.name}}isolationLevelToTSQL(){switch(this.isolationLevel){case At.READ_UNCOMMITTED:return"READ UNCOMMITTED";case At.READ_COMMITTED:return"READ COMMITTED";case At.REPEATABLE_READ:return"REPEATABLE READ";case At.SERIALIZABLE:return"SERIALIZABLE";case At.SNAPSHOT:return"SNAPSHOT"}return""}};ft.Transaction=ol});var xm=S((lx,Fm)=>{"use strict";var _R="Function.prototype.bind called on incompatible ",mR=Object.prototype.toString,ER=Math.max,vR="[object Function]",Pm=function(t,r){for(var a=[],f=0;f<t.length;f+=1)a[f]=t[f];for(var l=0;l<r.length;l+=1)a[l+t.length]=r[l];return a},gR=function(t,r){for(var a=[],f=r||0,l=0;f<t.length;f+=1,l+=1)a[l]=t[f];return a},yR=function(n,t){for(var r="",a=0;a<n.length;a+=1)r+=n[a],a+1<n.length&&(r+=t);return r};Fm.exports=function(t){var r=this;if(typeof r!="function"||mR.apply(r)!==vR)throw new TypeError(_R+r);for(var a=gR(arguments,1),f,l=function(){if(this instanceof f){var A=r.apply(this,Pm(a,arguments));return Object(A)===A?A:this}return r.apply(t,Pm(a,arguments))},h=ER(0,r.length-a.length),E=[],v=0;v<h;v++)E[v]="$"+v;if(f=Function("binder","return function ("+yR(E,",")+"){ return binder.apply(this,arguments); }")(l),r.prototype){var O=function(){};O.prototype=r.prototype,f.prototype=new O,O.prototype=null}return f}});var Sr=S((cx,Um)=>{"use strict";var TR=xm();Um.exports=Function.prototype.bind||TR});var ul=S((hx,qm)=>{"use strict";var Bm=Object.prototype.toString;qm.exports=function(t){var r=Bm.call(t),a=r==="[object Arguments]";return a||(a=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Bm.call(t.callee)==="[object Function]"),a}});var zm=S((dx,Km)=>{"use strict";var $m;Object.keys||(Or=Object.prototype.hasOwnProperty,fl=Object.prototype.toString,Ym=ul(),ll=Object.prototype.propertyIsEnumerable,km=!ll.call({toString:null},"toString"),Vm=ll.call(function(){},"prototype"),Nr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ns=function(n){var t=n.constructor;return t&&t.prototype===n},Hm={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Wm=function(){if(typeof window>"u")return!1;for(var n in window)try{if(!Hm["$"+n]&&Or.call(window,n)&&window[n]!==null&&typeof window[n]=="object")try{Ns(window[n])}catch{return!0}}catch{return!0}return!1}(),Gm=function(n){if(typeof window>"u"||!Wm)return Ns(n);try{return Ns(n)}catch{return!1}},$m=function(t){var r=t!==null&&typeof t=="object",a=fl.call(t)==="[object Function]",f=Ym(t),l=r&&fl.call(t)==="[object String]",h=[];if(!r&&!a&&!f)throw new TypeError("Object.keys called on a non-object");var E=Vm&&a;if(l&&t.length>0&&!Or.call(t,0))for(var v=0;v<t.length;++v)h.push(String(v));if(f&&t.length>0)for(var O=0;O<t.length;++O)h.push(String(O));else for(var A in t)!(E&&A==="prototype")&&Or.call(t,A)&&h.push(String(A));if(km)for(var b=Gm(t),C=0;C<Nr.length;++C)!(b&&Nr[C]==="constructor")&&Or.call(t,Nr[C])&&h.push(Nr[C]);return h});var Or,fl,Ym,ll,km,Vm,Nr,Ns,Hm,Wm,Gm;Km.exports=$m});var Jm=S((px,Xm)=>{"use strict";var wR=Array.prototype.slice,SR=ul(),Zm=Object.keys,Is=Zm?function(t){return Zm(t)}:zm(),jm=Object.keys;Is.shim=function(){if(Object.keys){var t=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);t||(Object.keys=function(a){return SR(a)?jm(wR.call(a)):jm(a)})}else Object.keys=Is;return Object.keys||Is};Xm.exports=Is});var cl=S((_x,Qm)=>{"use strict";Qm.exports=Error});var tE=S((mx,eE)=>{"use strict";eE.exports=EvalError});var rE=S((Ex,nE)=>{"use strict";nE.exports=RangeError});var oE=S((vx,iE)=>{"use strict";iE.exports=ReferenceError});var Bt=S((gx,sE)=>{"use strict";sE.exports=SyntaxError});var J=S((yx,aE)=>{"use strict";aE.exports=TypeError});var fE=S((Tx,uE)=>{"use strict";uE.exports=URIError});var hl=S((wx,lE)=>{"use strict";lE.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),a=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var f=42;t[r]=f;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var l=Object.getOwnPropertySymbols(t);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(t,r);if(h.value!==f||h.enumerable!==!0)return!1}return!0}});var As=S((Sx,hE)=>{"use strict";var cE=typeof Symbol<"u"&&Symbol,OR=hl();hE.exports=function(){return typeof cE!="function"||typeof Symbol!="function"||typeof cE("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:OR()}});var Ir=S((Ox,dE)=>{"use strict";var dl={__proto__:null,foo:{}},NR=Object;dE.exports=function(){return{__proto__:dl}.foo===dl.foo&&!(dl instanceof NR)}});var Dt=S((Nx,pE)=>{"use strict";var IR=Function.prototype.call,AR=Object.prototype.hasOwnProperty,DR=Sr();pE.exports=DR.call(IR,AR)});var Se=S((Ix,gE)=>{"use strict";var re,bR=cl(),RR=tE(),LR=rE(),CR=oE(),Pn=Bt(),Mn=J(),MR=fE(),vE=Function,pl=function(n){try{return vE('"use strict"; return ('+n+").constructor;")()}catch{}},en=Object.getOwnPropertyDescriptor;if(en)try{en({},"")}catch{en=null}var _l=function(){throw new Mn},PR=en?function(){try{return arguments.callee,_l}catch{try{return en(arguments,"callee").get}catch{return _l}}}():_l,Ln=As()(),FR=Ir()(),Ae=Object.getPrototypeOf||(FR?function(n){return n.__proto__}:null),Cn={},xR=typeof Uint8Array>"u"||!Ae?re:Ae(Uint8Array),tn={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?re:ArrayBuffer,"%ArrayIteratorPrototype%":Ln&&Ae?Ae([][Symbol.iterator]()):re,"%AsyncFromSyncIteratorPrototype%":re,"%AsyncFunction%":Cn,"%AsyncGenerator%":Cn,"%AsyncGeneratorFunction%":Cn,"%AsyncIteratorPrototype%":Cn,"%Atomics%":typeof Atomics>"u"?re:Atomics,"%BigInt%":typeof BigInt>"u"?re:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?re:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?re:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":bR,"%eval%":eval,"%EvalError%":RR,"%Float32Array%":typeof Float32Array>"u"?re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?re:FinalizationRegistry,"%Function%":vE,"%GeneratorFunction%":Cn,"%Int8Array%":typeof Int8Array>"u"?re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ln&&Ae?Ae(Ae([][Symbol.iterator]())):re,"%JSON%":typeof JSON=="object"?JSON:re,"%Map%":typeof Map>"u"?re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ln||!Ae?re:Ae(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?re:Promise,"%Proxy%":typeof Proxy>"u"?re:Proxy,"%RangeError%":LR,"%ReferenceError%":CR,"%Reflect%":typeof Reflect>"u"?re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ln||!Ae?re:Ae(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ln&&Ae?Ae(""[Symbol.iterator]()):re,"%Symbol%":Ln?Symbol:re,"%SyntaxError%":Pn,"%ThrowTypeError%":PR,"%TypedArray%":xR,"%TypeError%":Mn,"%Uint8Array%":typeof Uint8Array>"u"?re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?re:Uint32Array,"%URIError%":MR,"%WeakMap%":typeof WeakMap>"u"?re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?re:WeakSet};if(Ae)try{null.error}catch(n){_E=Ae(Ae(n)),tn["%Error.prototype%"]=_E}var _E,UR=function n(t){var r;if(t==="%AsyncFunction%")r=pl("async function () {}");else if(t==="%GeneratorFunction%")r=pl("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=pl("async function* () {}");else if(t==="%AsyncGenerator%"){var a=n("%AsyncGeneratorFunction%");a&&(r=a.prototype)}else if(t==="%AsyncIteratorPrototype%"){var f=n("%AsyncGenerator%");f&&Ae&&(r=Ae(f.prototype))}return tn[t]=r,r},mE={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ar=Sr(),Ds=Dt(),BR=Ar.call(Function.call,Array.prototype.concat),qR=Ar.call(Function.apply,Array.prototype.splice),EE=Ar.call(Function.call,String.prototype.replace),bs=Ar.call(Function.call,String.prototype.slice),YR=Ar.call(Function.call,RegExp.prototype.exec),kR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,VR=/\\(\\)?/g,HR=function(t){var r=bs(t,0,1),a=bs(t,-1);if(r==="%"&&a!=="%")throw new Pn("invalid intrinsic syntax, expected closing `%`");if(a==="%"&&r!=="%")throw new Pn("invalid intrinsic syntax, expected opening `%`");var f=[];return EE(t,kR,function(l,h,E,v){f[f.length]=E?EE(v,VR,"$1"):h||l}),f},WR=function(t,r){var a=t,f;if(Ds(mE,a)&&(f=mE[a],a="%"+f[0]+"%"),Ds(tn,a)){var l=tn[a];if(l===Cn&&(l=UR(a)),typeof l>"u"&&!r)throw new Mn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:f,name:a,value:l}}throw new Pn("intrinsic "+t+" does not exist!")};gE.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new Mn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Mn('"allowMissing" argument must be a boolean');if(YR(/^%?[^%]*%?$/,t)===null)throw new Pn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var a=HR(t),f=a.length>0?a[0]:"",l=WR("%"+f+"%",r),h=l.name,E=l.value,v=!1,O=l.alias;O&&(f=O[0],qR(a,BR([0,1],O)));for(var A=1,b=!0;A<a.length;A+=1){var C=a[A],Y=bs(C,0,1),F=bs(C,-1);if((Y==='"'||Y==="'"||Y==="`"||F==='"'||F==="'"||F==="`")&&Y!==F)throw new Pn("property names with quotes must have matching quotes");if((C==="constructor"||!b)&&(v=!0),f+="."+C,h="%"+f+"%",Ds(tn,h))E=tn[h];else if(E!=null){if(!(C in E)){if(!r)throw new Mn("base intrinsic for "+t+" exists, but the property is not available.");return}if(en&&A+1>=a.length){var y=en(E,C);b=!!y,b&&"get"in y&&!("originalValue"in y.get)?E=y.get:E=E[C]}else b=Ds(E,C),E=E[C];b&&!v&&(tn[h]=E)}}return E}});var Dr=S((Ax,yE)=>{"use strict";var GR=Se(),Rs=GR("%Object.defineProperty%",!0)||!1;if(Rs)try{Rs({},"a",{value:1})}catch{Rs=!1}yE.exports=Rs});var Cs=S((Dx,TE)=>{"use strict";var $R=Se(),Ls=$R("%Object.getOwnPropertyDescriptor%",!0);if(Ls)try{Ls([],"length")}catch{Ls=null}TE.exports=Ls});var br=S((bx,OE)=>{"use strict";var wE=Dr(),KR=Bt(),Fn=J(),SE=Cs();OE.exports=function(t,r,a){if(!t||typeof t!="object"&&typeof t!="function")throw new Fn("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Fn("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Fn("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Fn("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Fn("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Fn("`loose`, if provided, must be a boolean");var f=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,E=arguments.length>6?arguments[6]:!1,v=!!SE&&SE(t,r);if(wE)wE(t,r,{configurable:h===null&&v?v.configurable:!h,enumerable:f===null&&v?v.enumerable:!f,value:a,writable:l===null&&v?v.writable:!l});else if(E||!f&&!l&&!h)t[r]=a;else throw new KR("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var xn=S((Rx,IE)=>{"use strict";var ml=Dr(),NE=function(){return!!ml};NE.hasArrayLengthDefineBug=function(){if(!ml)return null;try{return ml([],"length",{value:1}).length!==1}catch{return!0}};IE.exports=NE});var Rr=S((Lx,RE)=>{"use strict";var zR=Jm(),ZR=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",jR=Object.prototype.toString,XR=Array.prototype.concat,AE=br(),JR=function(n){return typeof n=="function"&&jR.call(n)==="[object Function]"},DE=xn()(),QR=function(n,t,r,a){if(t in n){if(a===!0){if(n[t]===r)return}else if(!JR(a)||!a())return}DE?AE(n,t,r,!0):AE(n,t,r)},bE=function(n,t){var r=arguments.length>2?arguments[2]:{},a=zR(t);ZR&&(a=XR.call(a,Object.getOwnPropertySymbols(t)));for(var f=0;f<a.length;f+=1)QR(n,a[f],t[a[f]],r[a[f]])};bE.supportsDescriptors=!!DE;RE.exports=bE});var CE=S((Cx,LE)=>{"use strict";var Cr=function(){return typeof function(){}.name=="string"},Lr=Object.getOwnPropertyDescriptor;if(Lr)try{Lr([],"length")}catch{Lr=null}Cr.functionsHaveConfigurableNames=function(){if(!Cr()||!Lr)return!1;var t=Lr(function(){},"name");return!!t&&!!t.configurable};var eL=Function.prototype.bind;Cr.boundFunctionsHaveNames=function(){return Cr()&&typeof eL=="function"&&function(){}.bind().name!==""};LE.exports=Cr});var FE=S((Mx,PE)=>{"use strict";var ME=br(),tL=xn()(),nL=CE().functionsHaveConfigurableNames(),rL=J();PE.exports=function(t,r){if(typeof t!="function")throw new rL("`fn` is not a function");var a=arguments.length>2&&!!arguments[2];return(!a||nL)&&(tL?ME(t,"name",r,!0,!0):ME(t,"name",r)),t}});var qt=S((Px,xE)=>{"use strict";xE.exports=function(t){return typeof t=="string"||typeof t=="symbol"}});var vt=S((Fx,UE)=>{"use strict";var iL=J(),Mr=Dt(),oL={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};UE.exports=function(t){if(!t||typeof t!="object")return!1;for(var r in t)if(Mr(t,r)&&!oL[r])return!1;var a=Mr(t,"[[Value]]")||Mr(t,"[[Writable]]"),f=Mr(t,"[[Get]]")||Mr(t,"[[Set]]");if(a&&f)throw new iL("Property Descriptors may not be both accessor and data descriptors");return!0}});var Ms=S((xx,qE)=>{"use strict";var sL=J(),BE=Dt(),aL=vt();qE.exports=function(t){if(typeof t>"u")return!1;if(!aL(t))throw new sL("Assertion failed: `Desc` must be a Property Descriptor");return!(!BE(t,"[[Get]]")&&!BE(t,"[[Set]]"))}});var kE=S((Ux,YE)=>{"use strict";YE.exports=function(t){return t===null||typeof t!="function"&&typeof t!="object"}});var GE=S((Bx,WE)=>{"use strict";var HE=Se(),uL=HE("%Object.preventExtensions%",!0),fL=HE("%Object.isExtensible%",!0),VE=kE();WE.exports=uL?function(t){return!VE(t)&&fL(t)}:function(t){return!VE(t)}});var El=S((qx,$E)=>{"use strict";$E.exports=function(t){if(t===null)return"Null";if(typeof t>"u")return"Undefined";if(typeof t=="function"||typeof t=="object")return"Object";if(typeof t=="number")return"Number";if(typeof t=="boolean")return"Boolean";if(typeof t=="string")return"String"}});var Be=S((Yx,KE)=>{"use strict";var lL=El();KE.exports=function(t){return typeof t=="symbol"?"Symbol":typeof t=="bigint"?"BigInt":lL(t)}});var vl=S((kx,zE)=>{"use strict";zE.exports=function(t){return!!t}});var JE=S((Vx,XE)=>{"use strict";var jE=Function.prototype.toString,Un=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,yl,Ps;if(typeof Un=="function"&&typeof Object.defineProperty=="function")try{yl=Object.defineProperty({},"length",{get:function(){throw Ps}}),Ps={},Un(function(){throw 42},null,yl)}catch(n){n!==Ps&&(Un=null)}else Un=null;var cL=/^\s*class\b/,Tl=function(t){try{var r=jE.call(t);return cL.test(r)}catch{return!1}},gl=function(t){try{return Tl(t)?!1:(jE.call(t),!0)}catch{return!1}},Fs=Object.prototype.toString,hL="[object Object]",dL="[object Function]",pL="[object GeneratorFunction]",_L="[object HTMLAllCollection]",mL="[object HTML document.all class]",EL="[object HTMLCollection]",vL=typeof Symbol=="function"&&!!Symbol.toStringTag,gL=!(0 in[,]),wl=function(){return!1};typeof document=="object"&&(ZE=document.all,Fs.call(ZE)===Fs.call(document.all)&&(wl=function(t){if((gL||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=Fs.call(t);return(r===_L||r===mL||r===EL||r===hL)&&t("")==null}catch{}return!1}));var ZE;XE.exports=Un?function(t){if(wl(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Un(t,null,yl)}catch(r){if(r!==Ps)return!1}return!Tl(t)&&gl(t)}:function(t){if(wl(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(vL)return gl(t);if(Tl(t))return!1;var r=Fs.call(t);return r!==dL&&r!==pL&&!/^\[object HTML/.test(r)?!1:gl(t)}});var xs=S((Hx,QE)=>{"use strict";QE.exports=JE()});var nv=S((Wx,tv)=>{"use strict";var gt=Dt(),Us=J(),yL=Be(),Sl=vl(),ev=xs();tv.exports=function(t){if(yL(t)!=="Object")throw new Us("ToPropertyDescriptor requires an object");var r={};if(gt(t,"enumerable")&&(r["[[Enumerable]]"]=Sl(t.enumerable)),gt(t,"configurable")&&(r["[[Configurable]]"]=Sl(t.configurable)),gt(t,"value")&&(r["[[Value]]"]=t.value),gt(t,"writable")&&(r["[[Writable]]"]=Sl(t.writable)),gt(t,"get")){var a=t.get;if(typeof a<"u"&&!ev(a))throw new Us("getter must be a function");r["[[Get]]"]=a}if(gt(t,"set")){var f=t.set;if(typeof f<"u"&&!ev(f))throw new Us("setter must be a function");r["[[Set]]"]=f}if((gt(r,"[[Get]]")||gt(r,"[[Set]]"))&&(gt(r,"[[Value]]")||gt(r,"[[Writable]]")))throw new Us("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return r}});var Pr=S((Gx,rv)=>{"use strict";rv.exports=Number.isNaN||function(t){return t!==t}});var Ol=S(($x,ov)=>{"use strict";var iv=Pr();ov.exports=function(t,r){return t===r?t===0?1/t===1/r:!0:iv(t)&&iv(r)}});var lv=S((Kx,fv)=>{"use strict";var TL=Se(),sv=br(),wL=xn()(),av=Cs(),uv=J(),SL=TL("%Math.floor%");fv.exports=function(t,r){if(typeof t!="function")throw new uv("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||SL(r)!==r)throw new uv("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],f=!0,l=!0;if("length"in t&&av){var h=av(t,"length");h&&!h.configurable&&(f=!1),h&&!h.writable&&(l=!1)}return(f||l||!a)&&(wL?sv(t,"length",r,!0,!0):sv(t,"length",r)),t}});var Il=S((zx,Bs)=>{"use strict";var Nl=Sr(),qs=Se(),OL=lv(),NL=J(),dv=qs("%Function.prototype.apply%"),pv=qs("%Function.prototype.call%"),_v=qs("%Reflect.apply%",!0)||Nl.call(pv,dv),cv=Dr(),IL=qs("%Math.max%");Bs.exports=function(t){if(typeof t!="function")throw new NL("a function is required");var r=_v(Nl,pv,arguments);return OL(r,1+IL(0,t.length-(arguments.length-1)),!0)};var hv=function(){return _v(Nl,dv,arguments)};cv?cv(Bs.exports,"apply",{value:hv}):Bs.exports.apply=hv});var bt=S((Zx,vv)=>{"use strict";var mv=Se(),Ev=Il(),AL=Ev(mv("String.prototype.indexOf"));vv.exports=function(t,r){var a=mv(t,!!r);return typeof a=="function"&&AL(t,".prototype.")>-1?Ev(a):a}});var Al=S((jx,yv)=>{"use strict";var DL=Se(),gv=DL("%Array%"),bL=!gv.isArray&&bt()("Object.prototype.toString");yv.exports=gv.isArray||function(t){return bL(t)==="[object Array]"}});var Dl=S((Xx,Sv)=>{"use strict";var RL=xn(),Tv=Dr(),wv=RL.hasArrayLengthDefineBug(),LL=wv&&Al(),CL=bt(),ML=CL("Object.prototype.propertyIsEnumerable");Sv.exports=function(t,r,a,f,l,h){if(!Tv){if(!t(h)||!h["[[Configurable]]"]||!h["[[Writable]]"]||l in f&&ML(f,l)!==!!h["[[Enumerable]]"])return!1;var E=h["[[Value]]"];return f[l]=E,r(f[l],E)}return wv&&l==="length"&&"[[Value]]"in h&&LL(f)&&f.length!==h["[[Value]]"]?(f.length=h["[[Value]]"],f.length===h["[[Value]]"]):(Tv(f,l,a(h)),!0)}});var Nv=S((Jx,Ov)=>{"use strict";var PL=vt();Ov.exports=function(t,r){return PL(r)&&typeof r=="object"&&"[[Enumerable]]"in r&&"[[Configurable]]"in r&&(t.IsAccessorDescriptor(r)||t.IsDataDescriptor(r))}});var bl=S((Qx,Iv)=>{"use strict";Iv.exports=function(t){if(typeof t>"u")return t;var r={};return"[[Value]]"in t&&(r.value=t["[[Value]]"]),"[[Writable]]"in t&&(r.writable=!!t["[[Writable]]"]),"[[Get]]"in t&&(r.get=t["[[Get]]"]),"[[Set]]"in t&&(r.set=t["[[Set]]"]),"[[Enumerable]]"in t&&(r.enumerable=!!t["[[Enumerable]]"]),"[[Configurable]]"in t&&(r.configurable=!!t["[[Configurable]]"]),r}});var Dv=S((eU,Av)=>{"use strict";var FL=J(),xL=vt(),UL=bl();Av.exports=function(t){if(typeof t<"u"&&!xL(t))throw new FL("Assertion failed: `Desc` must be a Property Descriptor");return UL(t)}});var Rl=S((tU,Rv)=>{"use strict";var BL=J(),bv=Dt(),qL=vt();Rv.exports=function(t){if(typeof t>"u")return!1;if(!qL(t))throw new BL("Assertion failed: `Desc` must be a Property Descriptor");return!(!bv(t,"[[Value]]")&&!bv(t,"[[Writable]]"))}});var Cv=S((nU,Lv)=>{"use strict";var YL=J(),kL=Ms(),VL=Rl(),HL=vt();Lv.exports=function(t){if(typeof t>"u")return!1;if(!HL(t))throw new YL("Assertion failed: `Desc` must be a Property Descriptor");return!kL(t)&&!VL(t)}});var Fv=S((rU,Pv)=>{"use strict";var Bn=J(),Fr=Dl(),WL=Nv(),Mv=vt(),xr=Dv(),nn=Ms(),Yt=Rl(),GL=Cv(),$L=qt(),yt=Ol(),KL=Be();Pv.exports=function(t,r,a,f,l){var h=KL(t);if(h!=="Undefined"&&h!=="Object")throw new Bn("Assertion failed: O must be undefined or an Object");if(!$L(r))throw new Bn("Assertion failed: P must be a Property Key");if(typeof a!="boolean")throw new Bn("Assertion failed: extensible must be a Boolean");if(!Mv(f))throw new Bn("Assertion failed: Desc must be a Property Descriptor");if(typeof l<"u"&&!Mv(l))throw new Bn("Assertion failed: current must be a Property Descriptor, or undefined");if(typeof l>"u")return a?h==="Undefined"?!0:nn(f)?Fr(Yt,yt,xr,t,r,f):Fr(Yt,yt,xr,t,r,{"[[Configurable]]":!!f["[[Configurable]]"],"[[Enumerable]]":!!f["[[Enumerable]]"],"[[Value]]":f["[[Value]]"],"[[Writable]]":!!f["[[Writable]]"]}):!1;if(!WL({IsAccessorDescriptor:nn,IsDataDescriptor:Yt},l))throw new Bn("`current`, when present, must be a fully populated and valid Property Descriptor");if(!l["[[Configurable]]"]){if("[[Configurable]]"in f&&f["[[Configurable]]"]||"[[Enumerable]]"in f&&!yt(f["[[Enumerable]]"],l["[[Enumerable]]"])||!GL(f)&&!yt(nn(f),nn(l)))return!1;if(nn(l)){if("[[Get]]"in f&&!yt(f["[[Get]]"],l["[[Get]]"])||"[[Set]]"in f&&!yt(f["[[Set]]"],l["[[Set]]"]))return!1}else if(!l["[[Writable]]"]&&("[[Writable]]"in f&&f["[[Writable]]"]||"[[Value]]"in f&&!yt(f["[[Value]]"],l["[[Value]]"])))return!1}if(h!=="Undefined"){var E,v;return Yt(l)&&nn(f)?(E=("[[Configurable]]"in f?f:l)["[[Configurable]]"],v=("[[Enumerable]]"in f?f:l)["[[Enumerable]]"],Fr(Yt,yt,xr,t,r,{"[[Configurable]]":!!E,"[[Enumerable]]":!!v,"[[Get]]":("[[Get]]"in f?f:l)["[[Get]]"],"[[Set]]":("[[Set]]"in f?f:l)["[[Set]]"]})):nn(l)&&Yt(f)?(E=("[[Configurable]]"in f?f:l)["[[Configurable]]"],v=("[[Enumerable]]"in f?f:l)["[[Enumerable]]"],Fr(Yt,yt,xr,t,r,{"[[Configurable]]":!!E,"[[Enumerable]]":!!v,"[[Value]]":("[[Value]]"in f?f:l)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in f?f:l)["[[Writable]]"]})):Fr(Yt,yt,xr,t,r,f)}return!0}});var qv=S((iU,Bv)=>{"use strict";var xv=Cs(),Uv=Bt(),Ll=J(),zL=vt(),ZL=Ms(),jL=GE(),XL=qt(),JL=nv(),QL=Ol(),eC=Be(),tC=Fv();Bv.exports=function(t,r,a){if(eC(t)!=="Object")throw new Ll("Assertion failed: O must be an Object");if(!XL(r))throw new Ll("Assertion failed: P must be a Property Key");if(!zL(a))throw new Ll("Assertion failed: Desc must be a Property Descriptor");if(!xv){if(ZL(a))throw new Uv("This environment does not support accessor property descriptors.");var f=!(r in t)&&a["[[Writable]]"]&&a["[[Enumerable]]"]&&a["[[Configurable]]"]&&"[[Value]]"in a,l=r in t&&(!("[[Configurable]]"in a)||a["[[Configurable]]"])&&(!("[[Enumerable]]"in a)||a["[[Enumerable]]"])&&(!("[[Writable]]"in a)||a["[[Writable]]"])&&"[[Value]]"in a;if(f||l)return t[r]=a["[[Value]]"],QL(t[r],a["[[Value]]"]);throw new Uv("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var h=xv(t,r),E=h&&JL(h),v=jL(t);return tC(t,r,v,a,E)}});var Vv=S((oU,kv)=>{"use strict";var Yv=J(),nC=qt(),rC=qv(),iC=Be();kv.exports=function(t,r,a){if(iC(t)!=="Object")throw new Yv("Assertion failed: Type(O) is not Object");if(!nC(r))throw new Yv("Assertion failed: IsPropertyKey(P) is not true");var f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":a,"[[Writable]]":!0};return rC(t,r,f)}});var Wv=S((sU,Hv)=>{"use strict";var Cl=J(),oC=Vv(),sC=qt(),aC=Be();Hv.exports=function(t,r,a){if(aC(t)!=="Object")throw new Cl("Assertion failed: Type(O) is not Object");if(!sC(r))throw new Cl("Assertion failed: IsPropertyKey(P) is not true");var f=oC(t,r,a);if(!f)throw new Cl("unable to create data property")}});var $v=S((aU,Gv)=>{"use strict";var uC=J(),fC=vt(),lC=bl();Gv.exports=function(t){if(typeof t<"u"&&!fC(t))throw new uC("Assertion failed: `Desc` must be a Property Descriptor");return lC(t)}});var Zv=S((uU,zv)=>{"use strict";var cC=J(),Kv=Dt(),hC=vt();zv.exports=function(t){if(typeof t>"u")return!1;if(!hC(t))throw new cC("Assertion failed: `Desc` must be a Property Descriptor");return!(!Kv(t,"[[Value]]")&&!Kv(t,"[[Writable]]"))}});var Xv=S((fU,jv)=>{"use strict";jv.exports=function(t){return typeof t=="string"||typeof t=="symbol"}});var eg=S((lU,Qv)=>{"use strict";var Jv=Pr();Qv.exports=function(t,r){return t===r?t===0?1/t===1/r:!0:Jv(t)&&Jv(r)}});var ng=S((cU,tg)=>{"use strict";var dC=El();tg.exports=function(t){return typeof t=="symbol"?"Symbol":typeof t=="bigint"?"BigInt":dC(t)}});var og=S((hU,ig)=>{"use strict";var rg=J(),pC=Dl(),_C=$v(),mC=Zv(),EC=Xv(),vC=eg(),gC=ng();ig.exports=function(t,r,a){if(gC(t)!=="Object")throw new rg("Assertion failed: Type(O) is not Object");if(!EC(r))throw new rg("Assertion failed: IsPropertyKey(P) is not true");var f={"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":a,"[[Writable]]":!0};return pC(mC,vC,_C,t,r,f)}});var ag=S((dU,sg)=>{sg.exports=require("util").inspect});var Yn=S((pU,Ig)=>{var Vl=typeof Map=="function"&&Map.prototype,Ml=Object.getOwnPropertyDescriptor&&Vl?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ks=Vl&&Ml&&typeof Ml.get=="function"?Ml.get:null,ug=Vl&&Map.prototype.forEach,Hl=typeof Set=="function"&&Set.prototype,Pl=Object.getOwnPropertyDescriptor&&Hl?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Vs=Hl&&Pl&&typeof Pl.get=="function"?Pl.get:null,fg=Hl&&Set.prototype.forEach,yC=typeof WeakMap=="function"&&WeakMap.prototype,Br=yC?WeakMap.prototype.has:null,TC=typeof WeakSet=="function"&&WeakSet.prototype,qr=TC?WeakSet.prototype.has:null,wC=typeof WeakRef=="function"&&WeakRef.prototype,lg=wC?WeakRef.prototype.deref:null,SC=Boolean.prototype.valueOf,OC=Object.prototype.toString,NC=Function.prototype.toString,IC=String.prototype.match,Wl=String.prototype.slice,Vt=String.prototype.replace,AC=String.prototype.toUpperCase,cg=String.prototype.toLowerCase,yg=RegExp.prototype.test,hg=Array.prototype.concat,Tt=Array.prototype.join,DC=Array.prototype.slice,dg=Math.floor,Ul=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Fl=Object.getOwnPropertySymbols,Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,qn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Fe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===qn?"object":"symbol")?Symbol.toStringTag:null,Tg=Object.prototype.propertyIsEnumerable,pg=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function _g(n,t){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||yg.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var a=n<0?-dg(-n):dg(n);if(a!==n){var f=String(a),l=Wl.call(t,f.length+1);return Vt.call(f,r,"$&_")+"."+Vt.call(Vt.call(l,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Vt.call(t,r,"$&_")}var ql=ag(),mg=ql.custom,Eg=Sg(mg)?mg:null;Ig.exports=function n(t,r,a,f){var l=r||{};if(kt(l,"quoteStyle")&&l.quoteStyle!=="single"&&l.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(kt(l,"maxStringLength")&&(typeof l.maxStringLength=="number"?l.maxStringLength<0&&l.maxStringLength!==1/0:l.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=kt(l,"customInspect")?l.customInspect:!0;if(typeof h!="boolean"&&h!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(kt(l,"indent")&&l.indent!==null&&l.indent!=="	"&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(kt(l,"numericSeparator")&&typeof l.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var E=l.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return Ng(t,l);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var v=String(t);return E?_g(t,v):v}if(typeof t=="bigint"){var O=String(t)+"n";return E?_g(t,O):O}var A=typeof l.depth>"u"?5:l.depth;if(typeof a>"u"&&(a=0),a>=A&&A>0&&typeof t=="object")return Yl(t)?"[Array]":"[Object]";var b=$C(l,a);if(typeof f>"u")f=[];else if(Og(f,t)>=0)return"[Circular]";function C(T,an,Ge){if(an&&(f=DC.call(f),f.push(an)),Ge){var K={depth:l.depth};return kt(l,"quoteStyle")&&(K.quoteStyle=l.quoteStyle),n(T,K,a+1,f)}return n(T,l,a+1,f)}if(typeof t=="function"&&!vg(t)){var Y=UC(t),F=Ys(t,C);return"[Function"+(Y?": "+Y:" (anonymous)")+"]"+(F.length>0?" { "+Tt.call(F,", ")+" }":"")}if(Sg(t)){var y=qn?Vt.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Bl.call(t);return typeof t=="object"&&!qn?Ur(y):y}if(HC(t)){for(var U="<"+cg.call(String(t.nodeName)),w=t.attributes||[],M=0;M<w.length;M++)U+=" "+w[M].name+"="+wg(bC(w[M].value),"double",l);return U+=">",t.childNodes&&t.childNodes.length&&(U+="..."),U+="</"+cg.call(String(t.nodeName))+">",U}if(Yl(t)){if(t.length===0)return"[]";var I=Ys(t,C);return b&&!GC(I)?"["+kl(I,b)+"]":"[ "+Tt.call(I,", ")+" ]"}if(LC(t)){var L=Ys(t,C);return!("cause"in Error.prototype)&&"cause"in t&&!Tg.call(t,"cause")?"{ ["+String(t)+"] "+Tt.call(hg.call("[cause]: "+C(t.cause),L),", ")+" }":L.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Tt.call(L,", ")+" }"}if(typeof t=="object"&&h){if(Eg&&typeof t[Eg]=="function"&&ql)return ql(t,{depth:A-a});if(h!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(BC(t)){var _=[];return ug&&ug.call(t,function(T,an){_.push(C(an,t,!0)+" => "+C(T,t))}),gg("Map",ks.call(t),_,b)}if(kC(t)){var Q=[];return fg&&fg.call(t,function(T){Q.push(C(T,t))}),gg("Set",Vs.call(t),Q,b)}if(qC(t))return xl("WeakMap");if(VC(t))return xl("WeakSet");if(YC(t))return xl("WeakRef");if(MC(t))return Ur(C(Number(t)));if(FC(t))return Ur(C(Ul.call(t)));if(PC(t))return Ur(SC.call(t));if(CC(t))return Ur(C(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===global)return"{ [object globalThis] }";if(!RC(t)&&!vg(t)){var $=Ys(t,C),Z=pg?pg(t)===Object.prototype:t instanceof Object||t.constructor===Object,B=t instanceof Object?"":"null prototype",zr=!Z&&Fe&&Object(t)===t&&Fe in t?Wl.call(Ht(t),8,-1):B?"Object":"",be=Z||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",$n=be+(zr||B?"["+Tt.call(hg.call([],zr||[],B||[]),": ")+"] ":"");return $.length===0?$n+"{}":b?$n+"{"+kl($,b)+"}":$n+"{ "+Tt.call($,", ")+" }"}return String(t)};function wg(n,t,r){var a=(r.quoteStyle||t)==="double"?'"':"'";return a+n+a}function bC(n){return Vt.call(String(n),/"/g,"&quot;")}function Yl(n){return Ht(n)==="[object Array]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function RC(n){return Ht(n)==="[object Date]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function vg(n){return Ht(n)==="[object RegExp]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function LC(n){return Ht(n)==="[object Error]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function CC(n){return Ht(n)==="[object String]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function MC(n){return Ht(n)==="[object Number]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function PC(n){return Ht(n)==="[object Boolean]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function Sg(n){if(qn)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!Bl)return!1;try{return Bl.call(n),!0}catch{}return!1}function FC(n){if(!n||typeof n!="object"||!Ul)return!1;try{return Ul.call(n),!0}catch{}return!1}var xC=Object.prototype.hasOwnProperty||function(n){return n in this};function kt(n,t){return xC.call(n,t)}function Ht(n){return OC.call(n)}function UC(n){if(n.name)return n.name;var t=IC.call(NC.call(n),/^function\s*([\w$]+)/);return t?t[1]:null}function Og(n,t){if(n.indexOf)return n.indexOf(t);for(var r=0,a=n.length;r<a;r++)if(n[r]===t)return r;return-1}function BC(n){if(!ks||!n||typeof n!="object")return!1;try{ks.call(n);try{Vs.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function qC(n){if(!Br||!n||typeof n!="object")return!1;try{Br.call(n,Br);try{qr.call(n,qr)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function YC(n){if(!lg||!n||typeof n!="object")return!1;try{return lg.call(n),!0}catch{}return!1}function kC(n){if(!Vs||!n||typeof n!="object")return!1;try{Vs.call(n);try{ks.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function VC(n){if(!qr||!n||typeof n!="object")return!1;try{qr.call(n,qr);try{Br.call(n,Br)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function HC(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function Ng(n,t){if(n.length>t.maxStringLength){var r=n.length-t.maxStringLength,a="... "+r+" more character"+(r>1?"s":"");return Ng(Wl.call(n,0,t.maxStringLength),t)+a}var f=Vt.call(Vt.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,WC);return wg(f,"single",t)}function WC(n){var t=n.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+AC.call(t.toString(16))}function Ur(n){return"Object("+n+")"}function xl(n){return n+" { ? }"}function gg(n,t,r,a){var f=a?kl(r,a):Tt.call(r,", ");return n+" ("+t+") {"+f+"}"}function GC(n){for(var t=0;t<n.length;t++)if(Og(n[t],`
`)>=0)return!1;return!0}function $C(n,t){var r;if(n.indent==="	")r="	";else if(typeof n.indent=="number"&&n.indent>0)r=Tt.call(Array(n.indent+1)," ");else return null;return{base:r,prev:Tt.call(Array(t+1),r)}}function kl(n,t){if(n.length===0)return"";var r=`
`+t.prev+t.base;return r+Tt.call(n,","+r)+`
`+t.prev}function Ys(n,t){var r=Yl(n),a=[];if(r){a.length=n.length;for(var f=0;f<n.length;f++)a[f]=kt(n,f)?t(n[f],n):""}var l=typeof Fl=="function"?Fl(n):[],h;if(qn){h={};for(var E=0;E<l.length;E++)h["$"+l[E]]=l[E]}for(var v in n)!kt(n,v)||r&&String(Number(v))===v&&v<n.length||qn&&h["$"+v]instanceof Symbol||(yg.call(/[^\w$]/,v)?a.push(t(v,n)+": "+t(n[v],n)):a.push(v+": "+t(n[v],n)));if(typeof Fl=="function")for(var O=0;O<l.length;O++)Tg.call(n,l[O])&&a.push("["+t(l[O])+"]: "+t(n[l[O]],n));return a}});var Gl=S((_U,Ag)=>{"use strict";Ag.exports=function(t){return typeof t=="number"&&t>=55296&&t<=56319}});var $l=S((mU,Dg)=>{"use strict";Dg.exports=function(t){return typeof t=="number"&&t>=56320&&t<=57343}});var Lg=S((EU,Rg)=>{"use strict";var KC=Se(),zC=J(),bg=KC("%String.fromCharCode%"),ZC=Gl(),jC=$l();Rg.exports=function(t,r){if(!ZC(t)||!jC(r))throw new zC("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return bg(t)+bg(r)}});var Ug=S((vU,xg)=>{"use strict";var Cg=J(),Fg=bt(),XC=Gl(),Mg=$l(),JC=Lg(),QC=Fg("String.prototype.charAt"),Pg=Fg("String.prototype.charCodeAt");xg.exports=function(t,r){if(typeof t!="string")throw new Cg("Assertion failed: `string` must be a String");var a=t.length;if(r<0||r>=a)throw new Cg("Assertion failed: `position` must be >= 0, and < the length of `string`");var f=Pg(t,r),l=QC(t,r),h=XC(f),E=Mg(f);if(!h&&!E)return{"[[CodePoint]]":l,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(E||r+1===a)return{"[[CodePoint]]":l,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var v=Pg(t,r+1);return Mg(v)?{"[[CodePoint]]":JC(f,v),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":l,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}});var qg=S((gU,Bg)=>{"use strict";var e1=Pr();Bg.exports=function(n){return(typeof n=="number"||typeof n=="bigint")&&!e1(n)&&n!==1/0&&n!==-1/0}});var Vg=S((yU,kg)=>{"use strict";var Yg=Se(),t1=Yg("%Math.abs%"),n1=Yg("%Math.floor%"),r1=Pr(),i1=qg();kg.exports=function(t){if(typeof t!="number"||r1(t)||!i1(t))return!1;var r=t1(t);return n1(r)===r}});var Wg=S((TU,Hg)=>{"use strict";Hg.exports=Number.MAX_SAFE_INTEGER||9007199254740991});var $g=S((wU,Gg)=>{"use strict";var o1=Ug(),s1=Vg(),a1=Wg(),Kl=J();Gg.exports=function(t,r,a){if(typeof t!="string")throw new Kl("Assertion failed: `S` must be a String");if(!s1(r)||r<0||r>a1)throw new Kl("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if(typeof a!="boolean")throw new Kl("Assertion failed: `unicode` must be a Boolean");if(!a)return r+1;var f=t.length;if(r+1>=f)return r+1;var l=o1(t,r);return r+l["[[CodeUnitCount]]"]}});var zl=S((SU,Kg)=>{"use strict";var u1=J();Kg.exports=function(t,r){if(typeof r!="boolean")throw new u1("Assertion failed: Type(done) is not Boolean");return{value:t,done:r}}});var Yr=S((OU,Zg)=>{"use strict";var zg=J(),f1=Yn(),l1=qt(),c1=Be();Zg.exports=function(t,r){if(c1(t)!=="Object")throw new zg("Assertion failed: Type(O) is not Object");if(!l1(r))throw new zg("Assertion failed: IsPropertyKey(P) is not true, got "+f1(r));return t[r]}});var Zl=S((NU,jg)=>{"use strict";var h1=J(),d1=Yr(),p1=vl(),_1=Be();jg.exports=function(t){if(_1(t)!=="Object")throw new h1("Assertion failed: Type(iterResult) is not Object");return p1(d1(t,"done"))}});var jl=S((IU,Xg)=>{"use strict";var m1=J(),E1=Yr(),v1=Be();Xg.exports=function(t){if(v1(t)!=="Object")throw new m1("Assertion failed: Type(iterResult) is not Object");return E1(t,"value")}});var ty=S((AU,ey)=>{"use strict";var g1=Se(),y1=Il(),T1=Bt(),Jg=g1("%Promise.resolve%",!0),Qg=Jg&&y1(Jg);ey.exports=function(t,r){if(!Qg)throw new T1("This environment does not support Promises.");return Qg(t,r)}});var iy=S((DU,ry)=>{"use strict";var w1=Se(),ny=Bt(),S1=J(),Xl=w1("%Promise%",!0),O1=bt(),N1=zl(),I1=Zl(),A1=jl(),D1=ty(),b1=Be(),R1=O1("Promise.prototype.then",!0);ry.exports=function(t){if(b1(t)!=="Object")throw new S1("Assertion failed: Type(O) is not Object");if(arguments.length>1)throw new ny("although AsyncFromSyncIteratorContinuation should take a second argument, it is not used in this implementation");if(!Xl)throw new ny("This environment does not support Promises.");return new Xl(function(r){var a=I1(t),f=A1(t),l=D1(Xl,f),h=function(E){return N1(E,a)};r(R1(l,h))})}});var Hs=S((bU,oy)=>{"use strict";oy.exports=Al()});var Ws=S((RU,sy)=>{"use strict";var L1=Se(),C1=bt(),M1=J(),P1=Hs(),F1=L1("%Reflect.apply%",!0)||C1("Function.prototype.apply");sy.exports=function(t,r){var a=arguments.length>2?arguments[2]:[];if(!P1(a))throw new M1("Assertion failed: optional `argumentsList`, if provided, must be a List");return F1(t,r,a)}});var uy=S((LU,ay)=>{"use strict";var x1=J(),U1=Yn(),B1=qt();ay.exports=function(t,r){if(!B1(r))throw new x1("Assertion failed: IsPropertyKey(P) is not true, got "+U1(r));return t[r]}});var Jl=S((CU,cy)=>{"use strict";var fy=J(),q1=uy(),Y1=xs(),k1=qt(),ly=Yn();cy.exports=function(t,r){if(!k1(r))throw new fy("Assertion failed: IsPropertyKey(P) is not true");var a=q1(t,r);if(a!=null){if(!Y1(a))throw new fy(ly(r)+" is not a function: "+ly(a));return a}}});var kr=S((MU,hy)=>{"use strict";var Ql=Dt();hy.exports=function(t){return!!t&&typeof t=="object"&&Ql(t,"[[Iterator]]")&&Ql(t,"[[NextMethod]]")&&typeof t["[[NextMethod]]"]=="function"&&Ql(t,"[[Done]]")&&typeof t["[[Done]]"]=="boolean"}});var ec=S((PU,_y)=>{"use strict";var dy=J(),py=Ws(),V1=Be(),H1=kr();_y.exports=function(t){if(!H1(t))throw new dy("Assertion failed: `iteratorRecord` must be an Iterator Record");var r;if(arguments.length<2?r=py(t["[[NextMethod]]"],t["[[Iterator]]"]):r=py(t["[[NextMethod]]"],t["[[Iterator]]"],[arguments[1]]),V1(r)!=="Object")throw new dy("iterator next must return an object");return r}});var Ey=S((FU,my)=>{"use strict";my.exports=function(t,r){for(var a=0;a<t.length;a+=1)r(t[a],a,t)}});var yy=S((xU,gy)=>{"use strict";var vy=Se(),kn=bt(),W1=Yn(),G1=J(),Gs=vy("%WeakMap%",!0),$s=vy("%Map%",!0),$1=kn("WeakMap.prototype.get",!0),K1=kn("WeakMap.prototype.set",!0),z1=kn("WeakMap.prototype.has",!0),Z1=kn("Map.prototype.get",!0),j1=kn("Map.prototype.set",!0),X1=kn("Map.prototype.has",!0),tc=function(n,t){for(var r=n,a;(a=r.next)!==null;r=a)if(a.key===t)return r.next=a.next,a.next=n.next,n.next=a,a},J1=function(n,t){var r=tc(n,t);return r&&r.value},Q1=function(n,t,r){var a=tc(n,t);a?a.value=r:n.next={key:t,next:n.next,value:r}},eM=function(n,t){return!!tc(n,t)};gy.exports=function(){var t,r,a,f={assert:function(l){if(!f.has(l))throw new G1("Side channel does not contain "+W1(l))},get:function(l){if(Gs&&l&&(typeof l=="object"||typeof l=="function")){if(t)return $1(t,l)}else if($s){if(r)return Z1(r,l)}else if(a)return J1(a,l)},has:function(l){if(Gs&&l&&(typeof l=="object"||typeof l=="function")){if(t)return z1(t,l)}else if($s){if(r)return X1(r,l)}else if(a)return eM(a,l);return!1},set:function(l,h){Gs&&l&&(typeof l=="object"||typeof l=="function")?(t||(t=new Gs),K1(t,l,h)):$s?(r||(r=new $s),j1(r,l,h)):(a||(a={key:{},next:null}),Q1(a,l,h))}};return f}});var rc=S((UU,Ty)=>{"use strict";var tM=Dt(),Vr=yy()(),Rt=J(),nc={assert:function(n,t){if(!n||typeof n!="object"&&typeof n!="function")throw new Rt("`O` is not an object");if(typeof t!="string")throw new Rt("`slot` must be a string");if(Vr.assert(n),!nc.has(n,t))throw new Rt("`"+t+"` is not present on `O`")},get:function(n,t){if(!n||typeof n!="object"&&typeof n!="function")throw new Rt("`O` is not an object");if(typeof t!="string")throw new Rt("`slot` must be a string");var r=Vr.get(n);return r&&r["$"+t]},has:function(n,t){if(!n||typeof n!="object"&&typeof n!="function")throw new Rt("`O` is not an object");if(typeof t!="string")throw new Rt("`slot` must be a string");var r=Vr.get(n);return!!r&&tM(r,"$"+t)},set:function(n,t,r){if(!n||typeof n!="object"&&typeof n!="function")throw new Rt("`O` is not an object");if(typeof t!="string")throw new Rt("`slot` must be a string");var a=Vr.get(n);a||(a={},Vr.set(n,a)),a["$"+t]=r}};Object.freeze&&Object.freeze(nc);Ty.exports=nc});var Ny=S((BU,Oy)=>{"use strict";var nM=Se(),wy=nM("%Object.create%",!0),Sy=J(),rM=Bt(),iM=Hs(),oM=Be(),sM=Ey(),aM=rc(),uM=Ir()();Oy.exports=function(t){if(t!==null&&oM(t)!=="Object")throw new Sy("Assertion failed: `proto` must be null or an object");var r=arguments.length<2?[]:arguments[1];if(!iM(r))throw new Sy("Assertion failed: `additionalInternalSlotsList` must be an Array");var a;if(wy)a=wy(t);else if(uM)a={__proto__:t};else{if(t===null)throw new rM("native Object.create support is required to create null objects");var f=function(){};f.prototype=t,a=new f}return r.length>0&&sM(r,function(l){aM.set(a,l,void 0)}),a}});var Ly=S((qU,Ry)=>{"use strict";var by=Se(),ic=Bt(),sc=J(),Vn=by("%Promise%",!0),oc=iy(),Wt=Ws(),fM=zl(),lM=Yr(),Iy=Jl(),Ay=ec(),cM=Ny(),Dy=Be(),rn=rc(),hM=kr(),dM=by("%AsyncFromSyncIteratorPrototype%",!0)||{next:function(t){if(!Vn)throw new ic("This environment does not support Promises.");var r=this;rn.assert(r,"[[SyncIteratorRecord]]");var a=arguments.length;return new Vn(function(f){var l=rn.get(r,"[[SyncIteratorRecord]]"),h;a>0?h=Ay(l,t):h=Ay(l),f(oc(h))})},return:function(){if(!Vn)throw new ic("This environment does not support Promises.");var n=this;rn.assert(n,"[[SyncIteratorRecord]]");var t=arguments.length>0,r=t?arguments[0]:void 0;return new Vn(function(a,f){var l=rn.get(n,"[[SyncIteratorRecord]]")["[[Iterator]]"],h=Iy(l,"return");if(typeof h>"u"){var E=fM(r,!0);Wt(a,void 0,[E]);return}var v;if(t?v=Wt(h,l,[r]):v=Wt(h,l),Dy(v)!=="Object"){Wt(f,void 0,[new sc("Iterator `return` method returned a non-object value.")]);return}a(oc(v))})},throw:function(){if(!Vn)throw new ic("This environment does not support Promises.");var n=this;rn.assert(n,"[[SyncIteratorRecord]]");var t=arguments.length>0,r=t?arguments[0]:void 0;return new Vn(function(a,f){var l=rn.get(n,"[[SyncIteratorRecord]]")["[[Iterator]]"],h=Iy(l,"throw");if(typeof h>"u"){Wt(f,void 0,[r]);return}var E;if(t?E=Wt(h,l,[r]):E=Wt(h,l),Dy(E)!=="Object"){Wt(f,void 0,[new sc("Iterator `throw` method returned a non-object value.")]);return}a(oc(E))})}};Ry.exports=function(t){if(!hM(t))throw new sc("Assertion failed: `syncIteratorRecord` must be an Iterator Record");var r=cM(dM);rn.set(r,"[[SyncIteratorRecord]]",t);var a=lM(r,"next");return{"[[Iterator]]":r,"[[NextMethod]]":a,"[[Done]]":!1}}});var Py=S((YU,My)=>{"use strict";var Cy=J(),pM=Ws(),_M=Yr(),mM=xs(),EM=Be();My.exports=function(t,r){if(!mM(r))throw new Cy("method must be a function");var a=pM(r,t);if(EM(a)!=="Object")throw new Cy("iterator must return an object");var f=_M(a,"next");return{"[[Iterator]]":a,"[[NextMethod]]":f,"[[Done]]":!1}}});var xy=S((kU,Fy)=>{"use strict";var vM=hl();Fy.exports=function(){return vM()&&!!Symbol.toStringTag}});var By=S((VU,Uy)=>{"use strict";var gM=String.prototype.valueOf,yM=function(t){try{return gM.call(t),!0}catch{return!1}},TM=Object.prototype.toString,wM="[object String]",SM=xy()();Uy.exports=function(t){return typeof t=="string"?!0:typeof t!="object"?!1:SM?yM(t):TM.call(t)===wM}});var ky=S((HU,Yy)=>{"use strict";var OM=As()(),qy=Se(),NM=bt(),IM=By(),AM=qy("%Symbol.iterator%",!0),DM=NM("String.prototype.slice"),bM=qy("%String%");Yy.exports=function(t,r){var a;return OM?a=t.GetMethod(r,AM):t.IsArray(r)?a=function(){var f=-1,l=this;return{next:function(){return f+=1,{done:f>=l.length,value:l[f]}}}}:IM(r)&&(a=function(){var f=0;return{next:function(){var l=t.AdvanceStringIndex(bM(r),f,!0),h=DM(r,f,l);return f=l,{done:l>r.length,value:h}}}}),a}});var $y=S((WU,Gy)=>{"use strict";var RM=Se(),ac=J(),Vy=RM("%Symbol.asyncIterator%",!0),LM=Yn(),CM=As()(),MM=$g(),PM=Ly(),Hy=Py(),Wy=Jl(),FM=Hs(),xM=ky();Gy.exports=function(t,r){if(r!=="SYNC"&&r!=="ASYNC")throw new ac("Assertion failed: `kind` must be one of 'sync' or 'async', got "+LM(r));var a;if(r==="ASYNC"&&CM&&Vy&&(a=Wy(t,Vy)),typeof a>"u"){var f=xM({AdvanceStringIndex:MM,GetMethod:Wy,IsArray:FM},t);if(r==="ASYNC"){if(typeof f>"u")throw new ac("iterator method is `undefined`");var l=Hy(t,f);return PM(l)}a=f}if(typeof a>"u")throw new ac("iterator method is `undefined`");return Hy(t,a)}});var zy=S((GU,Ky)=>{"use strict";var UM=J(),BM=Zl(),qM=ec(),YM=kr();Ky.exports=function(t){if(!YM(t))throw new UM("Assertion failed: `iteratorRecord` must be an Iterator Record");var r=qM(t),a=BM(r);return a===!0?!1:r}});var jy=S(($U,Zy)=>{"use strict";var kM=J(),VM=bt(),HM=VM("Array.prototype.push"),WM=zy(),GM=jl(),$M=kr();Zy.exports=function(t){if(!$M(t))throw new kM("Assertion failed: `iteratorRecord` must be an Iterator Record");for(var r=[],a=!0;a;)if(a=WM(t),a){var f=GM(a);HM(r,f)}return r}});var Jy=S((KU,Xy)=>{"use strict";var KM=Se(),zM=KM("%Object.setPrototypeOf%",!0),ZM=Ir()();Xy.exports=zM||(ZM?function(n,t){return n.__proto__=t,n}:null)});var eT=S((zU,Qy)=>{"use strict";var jM=Se(),XM=jM("%Object.getPrototypeOf%",!0),JM=Ir()();Qy.exports=XM||(JM?function(n){return n.__proto__}:null)});var iT=S((ZU,rT)=>{"use strict";var tT=J(),nT=eT(),QM=Be();rT.exports=function(t){if(QM(t)!=="Object")throw new tT("Assertion failed: O must be an Object");if(!nT)throw new tT("This environment does not support fetching prototypes.");return nT(t)}});var sT=S((jU,oT)=>{"use strict";var eP=J(),tP=Jy(),nP=iT();oT.exports=function(t,r){if(typeof r!="object")throw new eP("Assertion failed: V must be Object or Null");try{tP(t,r)}catch{return!1}return nP(t)===r}});var fc=S((XU,fT)=>{"use strict";var rP=Wv(),uc=og(),iP=$y(),oP=xn()(),sP=jy(),aT=sT(),uT=cl();function Hr(n,t){var r=new uT(t);aT(r,Ks),delete r.constructor;var a=sP(iP(n,"SYNC"));return rP(r,"errors",a),r}oP&&Object.defineProperty(Hr,"prototype",{writable:!1});var Ks=Hr.prototype;if(!uc(Ks,"constructor",Hr)||!uc(Ks,"message","")||!uc(Ks,"name","AggregateError"))throw new uT("unable to install AggregateError.prototype properties; please report this!");aT(Hr.prototype,Error.prototype);fT.exports=Hr});var lc=S((JU,lT)=>{"use strict";var aP=fc();lT.exports=function(){return typeof AggregateError=="function"?AggregateError:aP}});var cc=S((QU,cT)=>{"use strict";cT.exports=global});var hc=S((e2,hT)=>{"use strict";var uP=cc();hT.exports=function(){return typeof global!="object"||!global||global.Math!==Math||global.Array!==Array?uP:global}});var pT=S((t2,dT)=>{"use strict";var fP=Rr(),lP=hc();dT.exports=function(){var t=lP();if(fP.supportsDescriptors){var r=Object.getOwnPropertyDescriptor(t,"globalThis");(!r||r.configurable&&(r.enumerable||!r.writable||globalThis!==t))&&Object.defineProperty(t,"globalThis",{configurable:!0,enumerable:!1,value:t,writable:!0})}else(typeof globalThis!="object"||globalThis!==t)&&(t.globalThis=t);return t}});var vT=S((n2,ET)=>{"use strict";var cP=Rr(),hP=cc(),_T=hc(),dP=pT(),pP=_T(),mT=function(){return pP};cP(mT,{getPolyfill:_T,implementation:hP,shim:dP});ET.exports=mT});var TT=S((r2,yT)=>{"use strict";var _P=Rr(),gT=vT()(),mP=lc();yT.exports=function(){var t=mP();return _P(gT,{AggregateError:t},{AggregateError:function(){return gT.AggregateError!==t}}),t}});var zs=S((i2,ST)=>{"use strict";var EP=Sr(),vP=Rr(),gP=FE(),yP=br(),TP=fc(),wT=lc(),wP=TT(),dc=wT(),pc=gP(EP.call(dc),dc.name,!0);yP(pc,"prototype",dc.prototype,!0,!0,!0,!0);vP(pc,{getPolyfill:wT,implementation:TP,shim:wP});ST.exports=pc});var IT=S(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.connectInParallel=NP;Wr.connectInSequence=IP;Wr.lookupAllAddresses=mc;var Zs=_c(require("net")),SP=OP(require("punycode")),Hn=_c(fi()),OT=_c(zs());function NT(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(NT=function(a){return a?r:t})(n)}function OP(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=NT(t);if(r&&r.has(n))return r.get(n);var a={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if(l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)){var h=f?Object.getOwnPropertyDescriptor(n,l):null;h&&(h.get||h.set)?Object.defineProperty(a,l,h):a[l]=n[l]}return a.default=n,r&&r.set(n,a),a}function _c(n){return n&&n.__esModule?n:{default:n}}async function NP(n,t,r){if(r.aborted)throw new Hn.default;let a=await mc(n.host,t,r);return await new Promise((f,l)=>{let h=new Array(a.length),E=[];function v(b){E.push(b),this.removeListener("error",v),this.removeListener("connect",O),this.destroy(),E.length===a.length&&(r.removeEventListener("abort",A),l(new OT.default(E,"Could not connect (parallel)")))}function O(){r.removeEventListener("abort",A);for(let b=0;b<h.length;b++){let C=h[b];this!==C&&(C.removeListener("error",v),C.removeListener("connect",O),C.destroy())}f(this)}let A=()=>{for(let b=0;b<h.length;b++){let C=h[b];C.removeListener("error",v),C.removeListener("connect",O),C.destroy()}l(new Hn.default)};for(let b=0,C=a.length;b<C;b++){let Y=h[b]=Zs.default.connect({...n,host:a[b].address,family:a[b].family});Y.on("error",v),Y.on("connect",O)}r.addEventListener("abort",A,{once:!0})})}async function IP(n,t,r){if(r.aborted)throw new Hn.default;let a=[],f=await mc(n.host,t,r);for(let l of f)try{return await new Promise((h,E)=>{let v=Zs.default.connect({...n,host:l.address,family:l.family}),O=()=>{v.removeListener("error",A),v.removeListener("connect",b),v.destroy(),E(new Hn.default)},A=C=>{r.removeEventListener("abort",O),v.removeListener("error",A),v.removeListener("connect",b),v.destroy(),E(C)},b=()=>{r.removeEventListener("abort",O),v.removeListener("error",A),v.removeListener("connect",b),h(v)};r.addEventListener("abort",O,{once:!0}),v.on("error",A),v.on("connect",b)})}catch(h){if(h instanceof Error&&h.name==="AbortError")throw h;a.push(h);continue}throw new OT.default(a,"Could not connect (sequence)")}async function mc(n,t,r){if(r.aborted)throw new Hn.default;return Zs.default.isIPv6(n)?[{address:n,family:6}]:Zs.default.isIPv4(n)?[{address:n,family:4}]:await new Promise((a,f)=>{let l=()=>{f(new Hn.default)};r.addEventListener("abort",l),t(SP.toASCII(n),{all:!0},(h,E)=>{r.removeEventListener("abort",l),h?f(h):a(E)})})}});var Ec=S(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.name=void 0;var AP="Tedious";js.name=AP});var AT=S(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.createNTLMRequest=DP;var tt={NTLM_NegotiateUnicode:1,NTLM_NegotiateOEM:2,NTLM_RequestTarget:4,NTLM_Unknown9:8,NTLM_NegotiateSign:16,NTLM_NegotiateSeal:32,NTLM_NegotiateDatagram:64,NTLM_NegotiateLanManagerKey:128,NTLM_Unknown8:256,NTLM_NegotiateNTLM:512,NTLM_NegotiateNTOnly:1024,NTLM_Anonymous:2048,NTLM_NegotiateOemDomainSupplied:4096,NTLM_NegotiateOemWorkstationSupplied:8192,NTLM_Unknown6:16384,NTLM_NegotiateAlwaysSign:32768,NTLM_TargetTypeDomain:65536,NTLM_TargetTypeServer:131072,NTLM_TargetTypeShare:262144,NTLM_NegotiateExtendedSecurity:524288,NTLM_NegotiateIdentify:1048576,NTLM_Unknown5:2097152,NTLM_RequestNonNTSessionKey:4194304,NTLM_NegotiateTargetInfo:8388608,NTLM_Unknown4:16777216,NTLM_NegotiateVersion:33554432,NTLM_Unknown3:67108864,NTLM_Unknown2:134217728,NTLM_Unknown1:268435456,NTLM_Negotiate128:536870912,NTLM_NegotiateKeyExchange:1073741824,NTLM_Negotiate56:2147483648};function DP(n){let t=escape(n.domain.toUpperCase()),r=n.workstation?escape(n.workstation.toUpperCase()):"",a=tt.NTLM_NegotiateUnicode+tt.NTLM_NegotiateOEM+tt.NTLM_RequestTarget+tt.NTLM_NegotiateNTLM+tt.NTLM_NegotiateOemDomainSupplied+tt.NTLM_NegotiateOemWorkstationSupplied+tt.NTLM_NegotiateAlwaysSign+tt.NTLM_NegotiateVersion+tt.NTLM_NegotiateExtendedSecurity+tt.NTLM_Negotiate128+tt.NTLM_Negotiate56;r===""&&(a-=tt.NTLM_NegotiateOemWorkstationSupplied);let f=Buffer.alloc(40),l=[f],h=0;return h+=f.write("NTLMSSP",h,7,"ascii"),h=f.writeUInt8(0,h),h=f.writeUInt32LE(1,h),h=f.writeUInt32LE(a,h),h=f.writeUInt16LE(t.length,h),h=f.writeUInt16LE(t.length,h),h=f.writeUInt32LE(f.length+r.length,h),h=f.writeUInt16LE(r.length,h),h=f.writeUInt16LE(r.length,h),h=f.writeUInt32LE(f.length,h),h=f.writeUInt8(5,h),h=f.writeUInt8(0,h),h=f.writeUInt16LE(2195,h),h=f.writeUInt8(0,h),h=f.writeUInt8(0,h),h=f.writeUInt8(0,h),f.writeUInt8(15,h),l.push(Buffer.from(r,"ascii")),l.push(Buffer.from(t,"ascii")),Buffer.concat(l)}});var bT=S(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.BulkLoadPayload=void 0;var DT;DT=Symbol.asyncIterator;var gc=class{constructor(t){this.bulkLoad=void 0,this.iterator=void 0,this.bulkLoad=t,this.iterator=this.bulkLoad.rowToPacketTransform[Symbol.asyncIterator]()}[DT](){return this.iterator}toString(t=""){return t+"BulkLoad"}};Xs.BulkLoadPayload=gc});var RT=S((f2,bP)=>{bP.exports={author:"Mike D Pilsbury <mike.pilsbury@gmail.com>",contributors:["Alex Robson","Arthur Schreiber","Bret Copeland <bret@atlantisflight.org> (https://github.com/bretcope)","Bryan Ross <bryan@rossipedia.com> (https://github.com/rossipedia)","Ciaran Jessup <ciaranj@gmail.com>","Cort Fritz <cfritz@caa.com>","lastonesky","Patrik Simek <patrik@patriksimek.cz>","Phil Dodderidge <pdodde@poyntz.com>","Zach Aller"],name:"tedious",description:"A TDS driver, for connecting to MS SQLServer databases.",keywords:["sql","database","mssql","sqlserver","sql-server","tds","msnodesql","azure"],homepage:"https://github.com/tediousjs/tedious",bugs:"https://github.com/tediousjs/tedious/issues",license:"MIT",version:"15.1.3",main:"./lib/tedious.js",repository:{type:"git",url:"https://github.com/tediousjs/tedious.git"},engines:{node:">=14"},publishConfig:{tag:"next"},dependencies:{"@azure/identity":"^2.0.4","@azure/keyvault-keys":"^4.4.0","@js-joda/core":"^5.2.0",bl:"^5.0.0","es-aggregate-error":"^1.0.8","iconv-lite":"^0.6.3","js-md4":"^0.3.2",jsbi:"^4.3.0","native-duplexpair":"^1.0.0","node-abort-controller":"^3.0.1",punycode:"^2.1.0","sprintf-js":"^1.1.2"},devDependencies:{"@babel/cli":"^7.17.10","@babel/core":"^7.17.10","@babel/node":"^7.17.10","@babel/plugin-proposal-class-properties":"^7.16.7","@babel/preset-env":"^7.17.10","@babel/preset-typescript":"^7.16.7","@babel/register":"^7.17.7","@commitlint/cli":"^16.2.4","@commitlint/config-conventional":"^16.2.4","@commitlint/travis-cli":"^16.2.4","@types/es-aggregate-error":"^1.0.2","@types/async":"^3.2.13","@types/bl":"^5.0.2","@types/chai":"^4.3.1","@types/depd":"^1.1.32","@types/lru-cache":"^5.1.0","@types/mocha":"^9.1.1","@types/node":"^12.20.50","@types/sprintf-js":"^1.1.2","@typescript-eslint/eslint-plugin":"^5.22.0","@typescript-eslint/parser":"^5.22.0",async:"^3.2.3","babel-plugin-istanbul":"^6.1.1",chai:"^4.3.6",codecov:"^3.8.3",eslint:"^7.32.0",mitm:"^1.7.2",mocha:"^9.2.2",nyc:"^15.1.0",rimraf:"^3.0.2","semantic-release":"^19.0.3",sinon:"^11.1.2",typedoc:"^0.22.15",typescript:"^4.6.4"},scripts:{docs:"typedoc",lint:"eslint src test --ext .js,.ts && tsc",test:"mocha test/unit test/unit/token test/unit/tracking-buffer","test-integration":"mocha test/integration/","test-all":"mocha test/unit/ test/unit/token/ test/unit/tracking-buffer test/integration/",build:"rimraf lib && babel src --out-dir lib --extensions .js,.ts",prepublish:"npm run build","semantic-release":"semantic-release"},babel:{sourceMaps:"both",ignore:["./src/**/*.d.ts"],presets:[["@babel/preset-env",{targets:{node:14}}],["@babel/preset-typescript",{allowDeclareFields:!0}]],plugins:[["@babel/transform-typescript",{allowDeclareFields:!0}],["@babel/plugin-proposal-class-properties",{loose:!0}],["@babel/plugin-proposal-private-methods",{loose:!0}],["@babel/plugin-proposal-private-property-in-object",{loose:!0}]]},commitlint:{extends:["@commitlint/config-conventional"],rules:{"body-max-line-length":[1,"always",100],"footer-max-line-length":[1,"always",100],"header-max-length":[1,"always",100]}},mocha:{require:"test/setup.js",timeout:5e3,extension:["js","ts"]},nyc:{sourceMap:!1,instrument:!1,extension:[".ts"]}}});var CT=S(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.UnexpectedTokenError=He.TokenHandler=He.RequestTokenHandler=He.Login7TokenHandler=He.InitialSqlTokenHandler=He.AttentionTokenHandler=void 0;var RP=LT(Ri()),wt=Sn(),LP=LT(zs());function LT(n){return n&&n.__esModule?n:{default:n}}var me=class extends Error{constructor(t,r){super("Unexpected token `"+r.name+"` in `"+t.constructor.name+"`")}};He.UnexpectedTokenError=me;var on=class{onInfoMessage(t){throw new me(this,t)}onErrorMessage(t){throw new me(this,t)}onSSPI(t){throw new me(this,t)}onDatabaseChange(t){throw new me(this,t)}onLanguageChange(t){throw new me(this,t)}onCharsetChange(t){throw new me(this,t)}onSqlCollationChange(t){throw new me(this,t)}onRoutingChange(t){throw new me(this,t)}onPacketSizeChange(t){throw new me(this,t)}onResetConnection(t){throw new me(this,t)}onBeginTransaction(t){throw new me(this,t)}onCommitTransaction(t){throw new me(this,t)}onRollbackTransaction(t){throw new me(this,t)}onFedAuthInfo(t){throw new me(this,t)}onFeatureExtAck(t){throw new me(this,t)}onLoginAck(t){throw new me(this,t)}onColMetadata(t){throw new me(this,t)}onOrder(t){throw new me(this,t)}onRow(t){throw new me(this,t)}onReturnStatus(t){throw new me(this,t)}onReturnValue(t){throw new me(this,t)}onDoneProc(t){throw new me(this,t)}onDoneInProc(t){throw new me(this,t)}onDone(t){throw new me(this,t)}onDatabaseMirroringPartner(t){throw new me(this,t)}};He.TokenHandler=on;var yc=class extends on{constructor(t){super(),this.connection=void 0,this.connection=t}onInfoMessage(t){this.connection.emit("infoMessage",t)}onErrorMessage(t){this.connection.emit("errorMessage",t)}onDatabaseChange(t){this.connection.emit("databaseChange",t.newValue)}onLanguageChange(t){this.connection.emit("languageChange",t.newValue)}onCharsetChange(t){this.connection.emit("charsetChange",t.newValue)}onSqlCollationChange(t){this.connection.databaseCollation=t.newValue}onPacketSizeChange(t){this.connection.messageIo.packetSize(t.newValue)}onBeginTransaction(t){this.connection.transactionDescriptors.push(t.newValue),this.connection.inTransaction=!0}onCommitTransaction(t){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(t){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(t){this.connection.emit("error",new Error("Received 'columnMetadata' when no sqlRequest is in progress")),this.connection.close()}onOrder(t){this.connection.emit("error",new Error("Received 'order' when no sqlRequest is in progress")),this.connection.close()}onRow(t){this.connection.emit("error",new Error("Received 'row' when no sqlRequest is in progress")),this.connection.close()}onReturnStatus(t){}onReturnValue(t){}onDoneProc(t){}onDoneInProc(t){}onDone(t){}onResetConnection(t){this.connection.emit("resetConnection")}};He.InitialSqlTokenHandler=yc;var Tc=class extends on{constructor(t){super(),this.connection=void 0,this.fedAuthInfoToken=void 0,this.routingData=void 0,this.loginAckReceived=!1,this.connection=t}onInfoMessage(t){this.connection.emit("infoMessage",t)}onErrorMessage(t){this.connection.emit("errorMessage",t);let r=new wt.ConnectionError(t.message,"ELOGIN");this.connection.transientErrorLookup.isTransientError(t.number)&&this.connection.curTransientRetryCount!==this.connection.config.options.maxRetriesOnTransientErrors&&(r.isTransient=!0),this.connection.loginError=r}onSSPI(t){t.ntlmpacket&&(this.connection.ntlmpacket=t.ntlmpacket,this.connection.ntlmpacketBuffer=t.ntlmpacketBuffer)}onDatabaseChange(t){this.connection.emit("databaseChange",t.newValue)}onLanguageChange(t){this.connection.emit("languageChange",t.newValue)}onCharsetChange(t){this.connection.emit("charsetChange",t.newValue)}onSqlCollationChange(t){this.connection.databaseCollation=t.newValue}onFedAuthInfo(t){this.fedAuthInfoToken=t}onFeatureExtAck(t){let{authentication:r}=this.connection.config;r.type==="azure-active-directory-password"||r.type==="azure-active-directory-access-token"||r.type==="azure-active-directory-msi-vm"||r.type==="azure-active-directory-msi-app-service"||r.type==="azure-active-directory-service-principal-secret"||r.type==="azure-active-directory-default"?t.fedAuth===void 0?this.connection.loginError=new wt.ConnectionError("Did not receive Active Directory authentication acknowledgement"):t.fedAuth.length!==0&&(this.connection.loginError=new wt.ConnectionError(`Active Directory authentication acknowledgment for ${r.type} authentication method includes extra data`)):t.fedAuth===void 0&&t.utf8Support===void 0?this.connection.loginError=new wt.ConnectionError("Received acknowledgement for unknown feature"):t.fedAuth&&(this.connection.loginError=new wt.ConnectionError("Did not request Active Directory authentication, but received the acknowledgment"))}onLoginAck(t){if(!t.tdsVersion){this.connection.loginError=new wt.ConnectionError("Server responded with unknown TDS version.","ETDS");return}if(!t.interface){this.connection.loginError=new wt.ConnectionError("Server responded with unsupported interface.","EINTERFACENOTSUPP");return}this.connection.config.options.tdsVersion=t.tdsVersion,this.loginAckReceived=!0}onRoutingChange(t){let[r]=t.newValue.server.split("\\");this.routingData={server:r,port:t.newValue.port}}onDoneInProc(t){}onDone(t){}onPacketSizeChange(t){this.connection.messageIo.packetSize(t.newValue)}onDatabaseMirroringPartner(t){}};He.Login7TokenHandler=Tc;var wc=class extends on{constructor(t,r){super(),this.connection=void 0,this.request=void 0,this.errors=void 0,this.connection=t,this.request=r,this.errors=[]}onInfoMessage(t){this.connection.emit("infoMessage",t)}onErrorMessage(t){if(this.connection.emit("errorMessage",t),!this.request.canceled){let r=new wt.RequestError(t.message,"EREQUEST");r.number=t.number,r.state=t.state,r.class=t.class,r.serverName=t.serverName,r.procName=t.procName,r.lineNumber=t.lineNumber,this.errors.push(r),this.request.error=r,this.request instanceof RP.default&&this.errors.length>1&&(this.request.error=new LP.default(this.errors))}}onDatabaseChange(t){this.connection.emit("databaseChange",t.newValue)}onLanguageChange(t){this.connection.emit("languageChange",t.newValue)}onCharsetChange(t){this.connection.emit("charsetChange",t.newValue)}onSqlCollationChange(t){this.connection.databaseCollation=t.newValue}onPacketSizeChange(t){this.connection.messageIo.packetSize(t.newValue)}onBeginTransaction(t){this.connection.transactionDescriptors.push(t.newValue),this.connection.inTransaction=!0}onCommitTransaction(t){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(t){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(t){if(!this.request.canceled)if(this.connection.config.options.useColumnNames){let r=Object.create(null);for(let a=0,f=t.columns.length;a<f;a++){let l=t.columns[a];r[l.colName]==null&&(r[l.colName]=l)}this.request.emit("columnMetadata",r)}else this.request.emit("columnMetadata",t.columns)}onOrder(t){this.request.canceled||this.request.emit("order",t.orderColumns)}onRow(t){this.request.canceled||(this.connection.config.options.rowCollectionOnRequestCompletion&&this.request.rows.push(t.columns),this.connection.config.options.rowCollectionOnDone&&this.request.rst.push(t.columns),this.request.emit("row",t.columns))}onReturnStatus(t){this.request.canceled||(this.connection.procReturnStatusValue=t.value)}onReturnValue(t){this.request.canceled||this.request.emit("returnValue",t.paramName,t.value,t.metadata)}onDoneProc(t){this.request.canceled||(t.sqlError&&!this.request.error&&(this.request.error=new wt.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("doneProc",t.rowCount,t.more,this.connection.procReturnStatusValue,this.request.rst),this.connection.procReturnStatusValue=void 0,t.rowCount!==void 0&&(this.request.rowCount+=t.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDoneInProc(t){this.request.canceled||(this.request.emit("doneInProc",t.rowCount,t.more,this.request.rst),t.rowCount!==void 0&&(this.request.rowCount+=t.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDone(t){this.request.canceled||(t.sqlError&&!this.request.error&&(this.request.error=new wt.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("done",t.rowCount,t.more,this.request.rst),t.rowCount!==void 0&&(this.request.rowCount+=t.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onResetConnection(t){this.connection.emit("resetConnection")}};He.RequestTokenHandler=wc;var Sc=class extends on{constructor(t,r){super(),this.connection=void 0,this.request=void 0,this.attentionReceived=void 0,this.connection=t,this.request=r,this.attentionReceived=!1}onDone(t){t.attention&&(this.attentionReceived=!0)}};He.AttentionTokenHandler=Sc});var qT=S((Qs,BT)=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.default=void 0;var CP=qe(require("crypto")),MP=qe(require("os")),PP=qe(require("dns")),FP=qe(require("constants")),Oc=require("stream"),Js=nh(),xP=qe(Ga()),UP=qe(oh()),Gn=require("events"),BP=_h(),qP=mh(),De=rr(),xT=qe(Th()),YP=qe(Oh()),kP=qe(bh()),We=qe(Ri()),Gr=qe(Fh()),MT=qe(Bh()),VP=qe(op()),HP=Mm(),Ke=al(),Oe=Sn(),PT=IT(),WP=Ec(),GP=ir(),FT=qe(Yi()),$P=AT(),KP=za(),sn=vr(),zP=bT(),UT=qe(zs()),ZP=RT(),jP=require("url"),Wn=CT();function qe(n){return n&&n.__esModule?n:{default:n}}var XP=30*1e3,JP=15*1e3,QP=15*1e3,eF=5*1e3,tF=500,nF=4*1024,rF=2147483647,iF=7,oF=1433,sF="7_4",aF="us_english",uF="mdy",$r={NORMAL:0,REDIRECT:1,RETRY:2},Kr=class extends Gn.EventEmitter{constructor(t){if(super(),this.fedAuthRequired=void 0,this.config=void 0,this.secureContextOptions=void 0,this.inTransaction=void 0,this.transactionDescriptors=void 0,this.transactionDepth=void 0,this.isSqlBatch=void 0,this.curTransientRetryCount=void 0,this.transientErrorLookup=void 0,this.closed=void 0,this.loginError=void 0,this.debug=void 0,this.ntlmpacket=void 0,this.ntlmpacketBuffer=void 0,this.routingData=void 0,this.messageIo=void 0,this.state=void 0,this.resetConnectionOnNextRequest=void 0,this.request=void 0,this.procReturnStatusValue=void 0,this.socket=void 0,this.messageBuffer=void 0,this.connectTimer=void 0,this.cancelTimer=void 0,this.requestTimer=void 0,this.retryTimer=void 0,this._cancelAfterRequestSent=void 0,this.databaseCollation=void 0,typeof t!="object"||t===null)throw new TypeError('The "config" argument is required and must be of type Object.');if(typeof t.server!="string")throw new TypeError('The "config.server" property is required and must be of type string.');this.fedAuthRequired=!1;let r;if(t.authentication!==void 0){if(typeof t.authentication!="object"||t.authentication===null)throw new TypeError('The "config.authentication" property must be of type Object.');let a=t.authentication.type,f=t.authentication.options===void 0?{}:t.authentication.options;if(typeof a!="string")throw new TypeError('The "config.authentication.type" property must be of type string.');if(a!=="default"&&a!=="ntlm"&&a!=="azure-active-directory-password"&&a!=="azure-active-directory-access-token"&&a!=="azure-active-directory-msi-vm"&&a!=="azure-active-directory-msi-app-service"&&a!=="azure-active-directory-service-principal-secret"&&a!=="azure-active-directory-default")throw new TypeError('The "type" property must one of "default", "ntlm", "azure-active-directory-password", "azure-active-directory-access-token", "azure-active-directory-default", "azure-active-directory-msi-vm" or "azure-active-directory-msi-app-service" or "azure-active-directory-service-principal-secret".');if(typeof f!="object"||f===null)throw new TypeError('The "config.authentication.options" property must be of type object.');if(a==="ntlm"){if(typeof f.domain!="string")throw new TypeError('The "config.authentication.options.domain" property must be of type string.');if(f.userName!==void 0&&typeof f.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(f.password!==void 0&&typeof f.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');r={type:"ntlm",options:{userName:f.userName,password:f.password,domain:f.domain&&f.domain.toUpperCase()}}}else if(a==="azure-active-directory-password"){if(typeof f.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');if(f.userName!==void 0&&typeof f.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(f.password!==void 0&&typeof f.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');if(f.tenantId!==void 0&&typeof f.tenantId!="string")throw new TypeError('The "config.authentication.options.tenantId" property must be of type string.');r={type:"azure-active-directory-password",options:{userName:f.userName,password:f.password,tenantId:f.tenantId,clientId:f.clientId}}}else if(a==="azure-active-directory-access-token"){if(typeof f.token!="string")throw new TypeError('The "config.authentication.options.token" property must be of type string.');r={type:"azure-active-directory-access-token",options:{token:f.token}}}else if(a==="azure-active-directory-msi-vm"){if(f.clientId!==void 0&&typeof f.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');r={type:"azure-active-directory-msi-vm",options:{clientId:f.clientId}}}else if(a==="azure-active-directory-default"){if(f.clientId!==void 0&&typeof f.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');r={type:"azure-active-directory-default",options:{clientId:f.clientId}}}else if(a==="azure-active-directory-msi-app-service"){if(f.clientId!==void 0&&typeof f.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');r={type:"azure-active-directory-msi-app-service",options:{clientId:f.clientId}}}else if(a==="azure-active-directory-service-principal-secret"){if(typeof f.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');if(typeof f.clientSecret!="string")throw new TypeError('The "config.authentication.options.clientSecret" property must be of type string.');if(typeof f.tenantId!="string")throw new TypeError('The "config.authentication.options.tenantId" property must be of type string.');r={type:"azure-active-directory-service-principal-secret",options:{clientId:f.clientId,clientSecret:f.clientSecret,tenantId:f.tenantId}}}else{if(f.userName!==void 0&&typeof f.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(f.password!==void 0&&typeof f.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');r={type:"default",options:{userName:f.userName,password:f.password}}}}else r={type:"default",options:{userName:void 0,password:void 0}};if(this.config={server:t.server,authentication:r,options:{abortTransactionOnError:!1,appName:void 0,camelCaseColumns:!1,cancelTimeout:eF,columnEncryptionKeyCacheTTL:2*60*60*1e3,columnEncryptionSetting:!1,columnNameReplacer:void 0,connectionRetryInterval:tF,connectTimeout:JP,connectionIsolationLevel:Ke.ISOLATION_LEVEL.READ_COMMITTED,cryptoCredentialsDetails:{},database:void 0,datefirst:iF,dateFormat:uF,debug:{data:!1,packet:!1,payload:!1,token:!1},enableAnsiNull:!0,enableAnsiNullDefault:!0,enableAnsiPadding:!0,enableAnsiWarnings:!0,enableArithAbort:!0,enableConcatNullYieldsNull:!0,enableCursorCloseOnCommit:null,enableImplicitTransactions:!1,enableNumericRoundabort:!1,enableQuotedIdentifier:!0,encrypt:!0,fallbackToDefaultDb:!1,encryptionKeyStoreProviders:void 0,instanceName:void 0,isolationLevel:Ke.ISOLATION_LEVEL.READ_COMMITTED,language:aF,localAddress:void 0,maxRetriesOnTransientErrors:3,multiSubnetFailover:!1,packetSize:nF,port:oF,readOnlyIntent:!1,requestTimeout:QP,rowCollectionOnDone:!1,rowCollectionOnRequestCompletion:!1,serverName:void 0,serverSupportsColumnEncryption:!1,tdsVersion:sF,textsize:rF,trustedServerNameAE:void 0,trustServerCertificate:!1,useColumnNames:!1,useUTC:!0,workstationId:void 0,lowerCaseGuids:!1}},t.options){if(t.options.port&&t.options.instanceName)throw new Error("Port and instanceName are mutually exclusive, but "+t.options.port+" and "+t.options.instanceName+" provided");if(t.options.abortTransactionOnError!==void 0){if(typeof t.options.abortTransactionOnError!="boolean"&&t.options.abortTransactionOnError!==null)throw new TypeError('The "config.options.abortTransactionOnError" property must be of type string or null.');this.config.options.abortTransactionOnError=t.options.abortTransactionOnError}if(t.options.appName!==void 0){if(typeof t.options.appName!="string")throw new TypeError('The "config.options.appName" property must be of type string.');this.config.options.appName=t.options.appName}if(t.options.camelCaseColumns!==void 0){if(typeof t.options.camelCaseColumns!="boolean")throw new TypeError('The "config.options.camelCaseColumns" property must be of type boolean.');this.config.options.camelCaseColumns=t.options.camelCaseColumns}if(t.options.cancelTimeout!==void 0){if(typeof t.options.cancelTimeout!="number")throw new TypeError('The "config.options.cancelTimeout" property must be of type number.');this.config.options.cancelTimeout=t.options.cancelTimeout}if(t.options.columnNameReplacer){if(typeof t.options.columnNameReplacer!="function")throw new TypeError('The "config.options.cancelTimeout" property must be of type function.');this.config.options.columnNameReplacer=t.options.columnNameReplacer}if(t.options.connectionIsolationLevel!==void 0&&((0,Ke.assertValidIsolationLevel)(t.options.connectionIsolationLevel,"config.options.connectionIsolationLevel"),this.config.options.connectionIsolationLevel=t.options.connectionIsolationLevel),t.options.connectTimeout!==void 0){if(typeof t.options.connectTimeout!="number")throw new TypeError('The "config.options.connectTimeout" property must be of type number.');this.config.options.connectTimeout=t.options.connectTimeout}if(t.options.cryptoCredentialsDetails!==void 0){if(typeof t.options.cryptoCredentialsDetails!="object"||t.options.cryptoCredentialsDetails===null)throw new TypeError('The "config.options.cryptoCredentialsDetails" property must be of type Object.');this.config.options.cryptoCredentialsDetails=t.options.cryptoCredentialsDetails}if(t.options.database!==void 0){if(typeof t.options.database!="string")throw new TypeError('The "config.options.database" property must be of type string.');this.config.options.database=t.options.database}if(t.options.datefirst!==void 0){if(typeof t.options.datefirst!="number"&&t.options.datefirst!==null)throw new TypeError('The "config.options.datefirst" property must be of type number.');if(t.options.datefirst!==null&&(t.options.datefirst<1||t.options.datefirst>7))throw new RangeError('The "config.options.datefirst" property must be >= 1 and <= 7');this.config.options.datefirst=t.options.datefirst}if(t.options.dateFormat!==void 0){if(typeof t.options.dateFormat!="string"&&t.options.dateFormat!==null)throw new TypeError('The "config.options.dateFormat" property must be of type string or null.');this.config.options.dateFormat=t.options.dateFormat}if(t.options.debug){if(t.options.debug.data!==void 0){if(typeof t.options.debug.data!="boolean")throw new TypeError('The "config.options.debug.data" property must be of type boolean.');this.config.options.debug.data=t.options.debug.data}if(t.options.debug.packet!==void 0){if(typeof t.options.debug.packet!="boolean")throw new TypeError('The "config.options.debug.packet" property must be of type boolean.');this.config.options.debug.packet=t.options.debug.packet}if(t.options.debug.payload!==void 0){if(typeof t.options.debug.payload!="boolean")throw new TypeError('The "config.options.debug.payload" property must be of type boolean.');this.config.options.debug.payload=t.options.debug.payload}if(t.options.debug.token!==void 0){if(typeof t.options.debug.token!="boolean")throw new TypeError('The "config.options.debug.token" property must be of type boolean.');this.config.options.debug.token=t.options.debug.token}}if(t.options.enableAnsiNull!==void 0){if(typeof t.options.enableAnsiNull!="boolean"&&t.options.enableAnsiNull!==null)throw new TypeError('The "config.options.enableAnsiNull" property must be of type boolean or null.');this.config.options.enableAnsiNull=t.options.enableAnsiNull}if(t.options.enableAnsiNullDefault!==void 0){if(typeof t.options.enableAnsiNullDefault!="boolean"&&t.options.enableAnsiNullDefault!==null)throw new TypeError('The "config.options.enableAnsiNullDefault" property must be of type boolean or null.');this.config.options.enableAnsiNullDefault=t.options.enableAnsiNullDefault}if(t.options.enableAnsiPadding!==void 0){if(typeof t.options.enableAnsiPadding!="boolean"&&t.options.enableAnsiPadding!==null)throw new TypeError('The "config.options.enableAnsiPadding" property must be of type boolean or null.');this.config.options.enableAnsiPadding=t.options.enableAnsiPadding}if(t.options.enableAnsiWarnings!==void 0){if(typeof t.options.enableAnsiWarnings!="boolean"&&t.options.enableAnsiWarnings!==null)throw new TypeError('The "config.options.enableAnsiWarnings" property must be of type boolean or null.');this.config.options.enableAnsiWarnings=t.options.enableAnsiWarnings}if(t.options.enableArithAbort!==void 0){if(typeof t.options.enableArithAbort!="boolean"&&t.options.enableArithAbort!==null)throw new TypeError('The "config.options.enableArithAbort" property must be of type boolean or null.');this.config.options.enableArithAbort=t.options.enableArithAbort}if(t.options.enableConcatNullYieldsNull!==void 0){if(typeof t.options.enableConcatNullYieldsNull!="boolean"&&t.options.enableConcatNullYieldsNull!==null)throw new TypeError('The "config.options.enableConcatNullYieldsNull" property must be of type boolean or null.');this.config.options.enableConcatNullYieldsNull=t.options.enableConcatNullYieldsNull}if(t.options.enableCursorCloseOnCommit!==void 0){if(typeof t.options.enableCursorCloseOnCommit!="boolean"&&t.options.enableCursorCloseOnCommit!==null)throw new TypeError('The "config.options.enableCursorCloseOnCommit" property must be of type boolean or null.');this.config.options.enableCursorCloseOnCommit=t.options.enableCursorCloseOnCommit}if(t.options.enableImplicitTransactions!==void 0){if(typeof t.options.enableImplicitTransactions!="boolean"&&t.options.enableImplicitTransactions!==null)throw new TypeError('The "config.options.enableImplicitTransactions" property must be of type boolean or null.');this.config.options.enableImplicitTransactions=t.options.enableImplicitTransactions}if(t.options.enableNumericRoundabort!==void 0){if(typeof t.options.enableNumericRoundabort!="boolean"&&t.options.enableNumericRoundabort!==null)throw new TypeError('The "config.options.enableNumericRoundabort" property must be of type boolean or null.');this.config.options.enableNumericRoundabort=t.options.enableNumericRoundabort}if(t.options.enableQuotedIdentifier!==void 0){if(typeof t.options.enableQuotedIdentifier!="boolean"&&t.options.enableQuotedIdentifier!==null)throw new TypeError('The "config.options.enableQuotedIdentifier" property must be of type boolean or null.');this.config.options.enableQuotedIdentifier=t.options.enableQuotedIdentifier}if(t.options.encrypt!==void 0){if(typeof t.options.encrypt!="boolean")throw new TypeError('The "config.options.encrypt" property must be of type boolean.');this.config.options.encrypt=t.options.encrypt}if(t.options.fallbackToDefaultDb!==void 0){if(typeof t.options.fallbackToDefaultDb!="boolean")throw new TypeError('The "config.options.fallbackToDefaultDb" property must be of type boolean.');this.config.options.fallbackToDefaultDb=t.options.fallbackToDefaultDb}if(t.options.instanceName!==void 0){if(typeof t.options.instanceName!="string")throw new TypeError('The "config.options.instanceName" property must be of type string.');this.config.options.instanceName=t.options.instanceName,this.config.options.port=void 0}if(t.options.isolationLevel!==void 0&&((0,Ke.assertValidIsolationLevel)(t.options.isolationLevel,"config.options.isolationLevel"),this.config.options.isolationLevel=t.options.isolationLevel),t.options.language!==void 0){if(typeof t.options.language!="string"&&t.options.language!==null)throw new TypeError('The "config.options.language" property must be of type string or null.');this.config.options.language=t.options.language}if(t.options.localAddress!==void 0){if(typeof t.options.localAddress!="string")throw new TypeError('The "config.options.localAddress" property must be of type string.');this.config.options.localAddress=t.options.localAddress}if(t.options.multiSubnetFailover!==void 0){if(typeof t.options.multiSubnetFailover!="boolean")throw new TypeError('The "config.options.multiSubnetFailover" property must be of type boolean.');this.config.options.multiSubnetFailover=t.options.multiSubnetFailover}if(t.options.packetSize!==void 0){if(typeof t.options.packetSize!="number")throw new TypeError('The "config.options.packetSize" property must be of type number.');this.config.options.packetSize=t.options.packetSize}if(t.options.port!==void 0){if(typeof t.options.port!="number")throw new TypeError('The "config.options.port" property must be of type number.');if(t.options.port<=0||t.options.port>=65536)throw new RangeError('The "config.options.port" property must be > 0 and < 65536');this.config.options.port=t.options.port,this.config.options.instanceName=void 0}if(t.options.readOnlyIntent!==void 0){if(typeof t.options.readOnlyIntent!="boolean")throw new TypeError('The "config.options.readOnlyIntent" property must be of type boolean.');this.config.options.readOnlyIntent=t.options.readOnlyIntent}if(t.options.requestTimeout!==void 0){if(typeof t.options.requestTimeout!="number")throw new TypeError('The "config.options.requestTimeout" property must be of type number.');this.config.options.requestTimeout=t.options.requestTimeout}if(t.options.maxRetriesOnTransientErrors!==void 0){if(typeof t.options.maxRetriesOnTransientErrors!="number")throw new TypeError('The "config.options.maxRetriesOnTransientErrors" property must be of type number.');if(t.options.maxRetriesOnTransientErrors<0)throw new TypeError('The "config.options.maxRetriesOnTransientErrors" property must be equal or greater than 0.');this.config.options.maxRetriesOnTransientErrors=t.options.maxRetriesOnTransientErrors}if(t.options.connectionRetryInterval!==void 0){if(typeof t.options.connectionRetryInterval!="number")throw new TypeError('The "config.options.connectionRetryInterval" property must be of type number.');if(t.options.connectionRetryInterval<=0)throw new TypeError('The "config.options.connectionRetryInterval" property must be greater than 0.');this.config.options.connectionRetryInterval=t.options.connectionRetryInterval}if(t.options.rowCollectionOnDone!==void 0){if(typeof t.options.rowCollectionOnDone!="boolean")throw new TypeError('The "config.options.rowCollectionOnDone" property must be of type boolean.');this.config.options.rowCollectionOnDone=t.options.rowCollectionOnDone}if(t.options.rowCollectionOnRequestCompletion!==void 0){if(typeof t.options.rowCollectionOnRequestCompletion!="boolean")throw new TypeError('The "config.options.rowCollectionOnRequestCompletion" property must be of type boolean.');this.config.options.rowCollectionOnRequestCompletion=t.options.rowCollectionOnRequestCompletion}if(t.options.tdsVersion!==void 0){if(typeof t.options.tdsVersion!="string")throw new TypeError('The "config.options.tdsVersion" property must be of type string.');this.config.options.tdsVersion=t.options.tdsVersion}if(t.options.textsize!==void 0){if(typeof t.options.textsize!="number"&&t.options.textsize!==null)throw new TypeError('The "config.options.textsize" property must be of type number or null.');if(t.options.textsize>2147483647)throw new TypeError(`The "config.options.textsize" can't be greater than 2147483647.`);if(t.options.textsize<-1)throw new TypeError(`The "config.options.textsize" can't be smaller than -1.`);this.config.options.textsize=t.options.textsize|0}if(t.options.trustServerCertificate!==void 0){if(typeof t.options.trustServerCertificate!="boolean")throw new TypeError('The "config.options.trustServerCertificate" property must be of type boolean.');this.config.options.trustServerCertificate=t.options.trustServerCertificate}if(t.options.useColumnNames!==void 0){if(typeof t.options.useColumnNames!="boolean")throw new TypeError('The "config.options.useColumnNames" property must be of type boolean.');this.config.options.useColumnNames=t.options.useColumnNames}if(t.options.useUTC!==void 0){if(typeof t.options.useUTC!="boolean")throw new TypeError('The "config.options.useUTC" property must be of type boolean.');this.config.options.useUTC=t.options.useUTC}if(t.options.workstationId!==void 0){if(typeof t.options.workstationId!="string")throw new TypeError('The "config.options.workstationId" property must be of type string.');this.config.options.workstationId=t.options.workstationId}if(t.options.lowerCaseGuids!==void 0){if(typeof t.options.lowerCaseGuids!="boolean")throw new TypeError('The "config.options.lowerCaseGuids" property must be of type boolean.');this.config.options.lowerCaseGuids=t.options.lowerCaseGuids}}this.secureContextOptions=this.config.options.cryptoCredentialsDetails,this.secureContextOptions.secureOptions===void 0&&(this.secureContextOptions=Object.create(this.secureContextOptions,{secureOptions:{value:FP.default.SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS}})),this.debug=this.createDebug(),this.inTransaction=!1,this.transactionDescriptors=[Buffer.from([0,0,0,0,0,0,0,0])],this.transactionDepth=0,this.isSqlBatch=!1,this.closed=!1,this.messageBuffer=Buffer.alloc(0),this.curTransientRetryCount=0,this.transientErrorLookup=new qP.TransientErrorLookup,this.state=this.STATE.INITIALIZED,this._cancelAfterRequestSent=()=>{this.messageIo.sendMessage(De.TYPE.ATTENTION),this.createCancelTimer()}}connect(t){if(this.state!==this.STATE.INITIALIZED)throw new Oe.ConnectionError("`.connect` can not be called on a Connection in `"+this.state.name+"` state.");if(t){let r=f=>{this.removeListener("error",a),t(f)},a=f=>{this.removeListener("connect",r),t(f)};this.once("connect",r),this.once("error",a)}this.transitionTo(this.STATE.CONNECTING)}on(t,r){return super.on(t,r)}emit(t,...r){return super.emit(t,...r)}close(){this.transitionTo(this.STATE.FINAL)}initialiseConnection(){let t=this.createConnectTimer();return this.config.options.port?this.connectOnPort(this.config.options.port,this.config.options.multiSubnetFailover,t):(0,BP.instanceLookup)({server:this.config.server,instanceName:this.config.options.instanceName,timeout:this.config.options.connectTimeout,signal:t}).then(r=>{process.nextTick(()=>{this.connectOnPort(r,this.config.options.multiSubnetFailover,t)})},r=>{this.clearConnectTimer(),r.name!=="AbortError"&&process.nextTick(()=>{this.emit("connect",new Oe.ConnectionError(r.message,"EINSTLOOKUP"))})})}cleanupConnection(t){if(!this.closed){this.clearConnectTimer(),this.clearRequestTimer(),this.clearRetryTimer(),this.closeConnection(),t===$r.REDIRECT?this.emit("rerouting"):t!==$r.RETRY&&process.nextTick(()=>{this.emit("end")});let r=this.request;if(r){let a=new Oe.RequestError("Connection closed before request completed.","ECLOSE");r.callback(a),this.request=void 0}this.closed=!0,this.loginError=void 0}}createDebug(){let t=new UP.default(this.config.options.debug);return t.on("debug",r=>{this.emit("debug",r)}),t}createTokenStreamParser(t,r){return new HP.Parser(t,this.debug,r,this.config.options)}connectOnPort(t,r,a){let f={host:this.routingData?this.routingData.server:this.config.server,port:this.routingData?this.routingData.port:t,localAddress:this.config.options.localAddress};(r?PT.connectInParallel:PT.connectInSequence)(f,PP.default.lookup,a).then(h=>{process.nextTick(()=>{h.on("error",E=>{this.socketError(E)}),h.on("close",()=>{this.socketClose()}),h.on("end",()=>{this.socketEnd()}),h.setKeepAlive(!0,XP),this.messageIo=new VP.default(h,this.config.options.packetSize,this.debug),this.messageIo.on("secure",E=>{this.emit("secure",E)}),this.socket=h,this.closed=!1,this.debug.log("connected to "+this.config.server+":"+this.config.options.port),this.sendPreLogin(),this.transitionTo(this.STATE.SENT_PRELOGIN)})},h=>{this.clearConnectTimer(),h.name!=="AbortError"&&process.nextTick(()=>{this.socketError(h)})})}closeConnection(){this.socket&&this.socket.destroy()}createConnectTimer(){let t=new KP.AbortController;return this.connectTimer=setTimeout(()=>{t.abort(),this.connectTimeout()},this.config.options.connectTimeout),t.signal}createCancelTimer(){this.clearCancelTimer();let t=this.config.options.cancelTimeout;t>0&&(this.cancelTimer=setTimeout(()=>{this.cancelTimeout()},t))}createRequestTimer(){this.clearRequestTimer();let t=this.request,r=t.timeout!==void 0?t.timeout:this.config.options.requestTimeout;r&&(this.requestTimer=setTimeout(()=>{this.requestTimeout()},r))}createRetryTimer(){this.clearRetryTimer(),this.retryTimer=setTimeout(()=>{this.retryTimeout()},this.config.options.connectionRetryInterval)}connectTimeout(){let t=`Failed to connect to ${this.config.server}${this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`} in ${this.config.options.connectTimeout}ms`;this.debug.log(t),this.emit("connect",new Oe.ConnectionError(t,"ETIMEOUT")),this.connectTimer=void 0,this.dispatchEvent("connectTimeout")}cancelTimeout(){let t=`Failed to cancel request in ${this.config.options.cancelTimeout}ms`;this.debug.log(t),this.dispatchEvent("socketError",new Oe.ConnectionError(t,"ETIMEOUT"))}requestTimeout(){this.requestTimer=void 0;let t=this.request;t.cancel();let a="Timeout: Request failed to complete in "+(t.timeout!==void 0?t.timeout:this.config.options.requestTimeout)+"ms";t.error=new Oe.RequestError(a,"ETIMEOUT")}retryTimeout(){this.retryTimer=void 0,this.emit("retry"),this.transitionTo(this.STATE.CONNECTING)}clearConnectTimer(){this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=void 0)}clearCancelTimer(){this.cancelTimer&&(clearTimeout(this.cancelTimer),this.cancelTimer=void 0)}clearRequestTimer(){this.requestTimer&&(clearTimeout(this.requestTimer),this.requestTimer=void 0)}clearRetryTimer(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=void 0)}transitionTo(t){if(this.state===t){this.debug.log("State is already "+t.name);return}this.state&&this.state.exit&&this.state.exit.call(this,t),this.debug.log("State change: "+(this.state?this.state.name:"undefined")+" -> "+t.name),this.state=t,this.state.enter&&this.state.enter.apply(this)}getEventHandler(t){let r=this.state.events[t];if(!r)throw new Error(`No event '${t}' in state '${this.state.name}'`);return r}dispatchEvent(t,...r){let a=this.state.events[t];a?a.apply(this,r):(this.emit("error",new Error(`No event '${t}' in state '${this.state.name}'`)),this.close())}socketError(t){if(this.state===this.STATE.CONNECTING||this.state===this.STATE.SENT_TLSSSLNEGOTIATION){let r=`Failed to connect to ${this.config.server}:${this.config.options.port} - ${t.message}`;this.debug.log(r),this.emit("connect",new Oe.ConnectionError(r,"ESOCKET"))}else{let r=`Connection lost - ${t.message}`;this.debug.log(r),this.emit("error",new Oe.ConnectionError(r,"ESOCKET"))}this.dispatchEvent("socketError",t)}socketEnd(){if(this.debug.log("socket ended"),this.state!==this.STATE.FINAL){let t=new Error("socket hang up");t.code="ECONNRESET",this.socketError(t)}}socketClose(){if(this.debug.log("connection to "+this.config.server+":"+this.config.options.port+" closed"),this.state===this.STATE.REROUTING)this.debug.log("Rerouting to "+this.routingData.server+":"+this.routingData.port),this.dispatchEvent("reconnect");else if(this.state===this.STATE.TRANSIENT_FAILURE_RETRY){let t=this.routingData?this.routingData.server:this.config.server,r=this.routingData?this.routingData.port:this.config.options.port;this.debug.log("Retry after transient failure connecting to "+t+":"+r),this.dispatchEvent("retry")}else this.transitionTo(this.STATE.FINAL)}sendPreLogin(){let[,t,r,a]=/^(\d+)\.(\d+)\.(\d+)/.exec(ZP.version)??["0.0.0","0","0","0"],f=new xT.default({encrypt:this.config.options.encrypt,version:{major:Number(t),minor:Number(r),build:Number(a),subbuild:0}});this.messageIo.sendMessage(De.TYPE.PRELOGIN,f.data),this.debug.payload(function(){return f.toString("  ")})}sendLogin7Packet(){let t=new YP.default({tdsVersion:GP.versions[this.config.options.tdsVersion],packetSize:this.config.options.packetSize,clientProgVer:0,clientPid:process.pid,connectionId:0,clientTimeZone:new Date().getTimezoneOffset(),clientLcid:1033}),{authentication:r}=this.config;switch(r.type){case"azure-active-directory-password":t.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"default"};break;case"azure-active-directory-access-token":t.fedAuth={type:"SECURITYTOKEN",echo:this.fedAuthRequired,fedAuthToken:r.options.token};break;case"azure-active-directory-msi-vm":case"azure-active-directory-default":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":t.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"integrated"};break;case"ntlm":t.sspi=(0,$P.createNTLMRequest)({domain:r.options.domain});break;default:t.userName=r.options.userName,t.password=r.options.password}t.hostname=this.config.options.workstationId||MP.default.hostname(),t.serverName=this.routingData?this.routingData.server:this.config.server,t.appName=this.config.options.appName||"Tedious",t.libraryName=WP.name,t.language=this.config.options.language,t.database=this.config.options.database,t.clientId=Buffer.from([1,2,3,4,5,6]),t.readOnlyIntent=this.config.options.readOnlyIntent,t.initDbFatal=!this.config.options.fallbackToDefaultDb,this.routingData=void 0,this.messageIo.sendMessage(De.TYPE.LOGIN7,t.toBuffer()),this.debug.payload(function(){return t.toString("  ")})}sendFedAuthTokenMessage(t){let r=Buffer.byteLength(t,"ucs2"),a=Buffer.alloc(8+r),f=0;f=a.writeUInt32LE(r+4,f),f=a.writeUInt32LE(r,f),a.write(t,f,"ucs2"),this.messageIo.sendMessage(De.TYPE.FEDAUTH_TOKEN,a),this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN)}sendInitialSql(){let t=new MT.default(this.getInitialSql(),this.currentTransactionDescriptor(),this.config.options),r=new FT.default({type:De.TYPE.SQL_BATCH});this.messageIo.outgoingMessageStream.write(r),Oc.Readable.from(t).pipe(r)}getInitialSql(){let t=[];return this.config.options.enableAnsiNull===!0?t.push("set ansi_nulls on"):this.config.options.enableAnsiNull===!1&&t.push("set ansi_nulls off"),this.config.options.enableAnsiNullDefault===!0?t.push("set ansi_null_dflt_on on"):this.config.options.enableAnsiNullDefault===!1&&t.push("set ansi_null_dflt_on off"),this.config.options.enableAnsiPadding===!0?t.push("set ansi_padding on"):this.config.options.enableAnsiPadding===!1&&t.push("set ansi_padding off"),this.config.options.enableAnsiWarnings===!0?t.push("set ansi_warnings on"):this.config.options.enableAnsiWarnings===!1&&t.push("set ansi_warnings off"),this.config.options.enableArithAbort===!0?t.push("set arithabort on"):this.config.options.enableArithAbort===!1&&t.push("set arithabort off"),this.config.options.enableConcatNullYieldsNull===!0?t.push("set concat_null_yields_null on"):this.config.options.enableConcatNullYieldsNull===!1&&t.push("set concat_null_yields_null off"),this.config.options.enableCursorCloseOnCommit===!0?t.push("set cursor_close_on_commit on"):this.config.options.enableCursorCloseOnCommit===!1&&t.push("set cursor_close_on_commit off"),this.config.options.datefirst!==null&&t.push(`set datefirst ${this.config.options.datefirst}`),this.config.options.dateFormat!==null&&t.push(`set dateformat ${this.config.options.dateFormat}`),this.config.options.enableImplicitTransactions===!0?t.push("set implicit_transactions on"):this.config.options.enableImplicitTransactions===!1&&t.push("set implicit_transactions off"),this.config.options.language!==null&&t.push(`set language ${this.config.options.language}`),this.config.options.enableNumericRoundabort===!0?t.push("set numeric_roundabort on"):this.config.options.enableNumericRoundabort===!1&&t.push("set numeric_roundabort off"),this.config.options.enableQuotedIdentifier===!0?t.push("set quoted_identifier on"):this.config.options.enableQuotedIdentifier===!1&&t.push("set quoted_identifier off"),this.config.options.textsize!==null&&t.push(`set textsize ${this.config.options.textsize}`),this.config.options.connectionIsolationLevel!==null&&t.push(`set transaction isolation level ${this.getIsolationLevelText(this.config.options.connectionIsolationLevel)}`),this.config.options.abortTransactionOnError===!0?t.push("set xact_abort on"):this.config.options.abortTransactionOnError===!1&&t.push("set xact_abort off"),t.join(`
`)}processedInitialSql(){this.clearConnectTimer(),this.emit("connect")}execSqlBatch(t){this.makeRequest(t,De.TYPE.SQL_BATCH,new MT.default(t.sqlTextOrProcedure,this.currentTransactionDescriptor(),this.config.options))}execSql(t){try{t.validateParameters(this.databaseCollation)}catch(a){t.error=a,process.nextTick(()=>{this.debug.log(a.message),t.callback(a)});return}let r=[];r.push({type:sn.TYPES.NVarChar,name:"statement",value:t.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),t.parameters.length&&(r.push({type:sn.TYPES.NVarChar,name:"params",value:t.makeParamsParameter(t.parameters),output:!1,length:void 0,precision:void 0,scale:void 0}),r.push(...t.parameters)),this.makeRequest(t,De.TYPE.RPC_REQUEST,new Gr.default("sp_executesql",r,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}newBulkLoad(t,r,a){let f;if(a===void 0?(a=r,f={}):f=r,typeof f!="object")throw new TypeError('"options" argument must be an object');return new xP.default(t,this.databaseCollation,this.config.options,f,a)}execBulkLoad(t,r){if(t.executionStarted=!0,r){if(t.streamingMode)throw new Error("Connection.execBulkLoad can't be called with a BulkLoad that was put in streaming mode.");if(t.firstRowWritten)throw new Error("Connection.execBulkLoad can't be called with a BulkLoad that already has rows written to it.");let h=Oc.Readable.from(r);h.on("error",E=>{t.rowToPacketTransform.destroy(E)}),t.rowToPacketTransform.on("error",E=>{h.destroy(E)}),h.pipe(t.rowToPacketTransform)}else t.streamingMode||t.rowToPacketTransform.end();let a=()=>{l.cancel()},f=new zP.BulkLoadPayload(t),l=new We.default(t.getBulkInsertSql(),h=>{if(t.removeListener("cancel",a),h){h.code==="UNKNOWN"&&(h.message+=" This is likely because the schema of the BulkLoad does not match the schema of the table you are attempting to insert into."),t.error=h,t.callback(h);return}this.makeRequest(t,De.TYPE.BULK_LOAD,f)});t.once("cancel",a),this.execSqlBatch(l)}prepare(t){let r=[];r.push({type:sn.TYPES.Int,name:"handle",value:void 0,output:!0,length:void 0,precision:void 0,scale:void 0}),r.push({type:sn.TYPES.NVarChar,name:"params",value:t.parameters.length?t.makeParamsParameter(t.parameters):null,output:!1,length:void 0,precision:void 0,scale:void 0}),r.push({type:sn.TYPES.NVarChar,name:"stmt",value:t.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),t.preparing=!0,t.on("returnValue",(a,f)=>{a==="handle"?t.handle=f:t.error=new Oe.RequestError(`Tedious > Unexpected output parameter ${a} from sp_prepare`)}),this.makeRequest(t,De.TYPE.RPC_REQUEST,new Gr.default("sp_prepare",r,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}unprepare(t){let r=[];r.push({type:sn.TYPES.Int,name:"handle",value:t.handle,output:!1,length:void 0,precision:void 0,scale:void 0}),this.makeRequest(t,De.TYPE.RPC_REQUEST,new Gr.default("sp_unprepare",r,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}execute(t,r){let a=[];a.push({type:sn.TYPES.Int,name:"handle",value:t.handle,output:!1,length:void 0,precision:void 0,scale:void 0});try{for(let f=0,l=t.parameters.length;f<l;f++){let h=t.parameters[f];a.push({...h,value:h.type.validate(r?r[h.name]:null,this.databaseCollation)})}}catch(f){t.error=f,process.nextTick(()=>{this.debug.log(f.message),t.callback(f)});return}this.makeRequest(t,De.TYPE.RPC_REQUEST,new Gr.default("sp_execute",a,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}callProcedure(t){try{t.validateParameters(this.databaseCollation)}catch(r){t.error=r,process.nextTick(()=>{this.debug.log(r.message),t.callback(r)});return}this.makeRequest(t,De.TYPE.RPC_REQUEST,new Gr.default(t.sqlTextOrProcedure,t.parameters,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}beginTransaction(t,r="",a=this.config.options.isolationLevel){(0,Ke.assertValidIsolationLevel)(a,"isolationLevel");let f=new Ke.Transaction(r,a);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new We.default("SET TRANSACTION ISOLATION LEVEL "+f.isolationLevelToTSQL()+";BEGIN TRAN "+f.name,h=>{this.transactionDepth++,this.transactionDepth===1&&(this.inTransaction=!0),t(h)}));let l=new We.default(void 0,h=>t(h,this.currentTransactionDescriptor()));return this.makeRequest(l,De.TYPE.TRANSACTION_MANAGER,f.beginPayload(this.currentTransactionDescriptor()))}commitTransaction(t,r=""){let a=new Ke.Transaction(r);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new We.default("COMMIT TRAN "+a.name,l=>{this.transactionDepth--,this.transactionDepth===0&&(this.inTransaction=!1),t(l)}));let f=new We.default(void 0,t);return this.makeRequest(f,De.TYPE.TRANSACTION_MANAGER,a.commitPayload(this.currentTransactionDescriptor()))}rollbackTransaction(t,r=""){let a=new Ke.Transaction(r);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new We.default("ROLLBACK TRAN "+a.name,l=>{this.transactionDepth--,this.transactionDepth===0&&(this.inTransaction=!1),t(l)}));let f=new We.default(void 0,t);return this.makeRequest(f,De.TYPE.TRANSACTION_MANAGER,a.rollbackPayload(this.currentTransactionDescriptor()))}saveTransaction(t,r){let a=new Ke.Transaction(r);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new We.default("SAVE TRAN "+a.name,l=>{this.transactionDepth++,t(l)}));let f=new We.default(void 0,t);return this.makeRequest(f,De.TYPE.TRANSACTION_MANAGER,a.savePayload(this.currentTransactionDescriptor()))}transaction(t,r){if(typeof t!="function")throw new TypeError("`cb` must be a function");let a=this.inTransaction,f="_tedious_"+CP.default.randomBytes(10).toString("hex"),l=(h,E,...v)=>{h?this.inTransaction&&this.state===this.STATE.LOGGED_IN?this.rollbackTransaction(O=>{E(O||h,...v)},f):E(h,...v):a?(this.config.options.tdsVersion<"7_2"&&this.transactionDepth--,E(null,...v)):this.commitTransaction(O=>{E(O,...v)},f)};return a?this.saveTransaction(h=>h?t(h):r?this.execSqlBatch(new We.default("SET transaction isolation level "+this.getIsolationLevelText(r),E=>t(E,l))):t(null,l),f):this.beginTransaction(h=>h?t(h):t(null,l),f,r)}makeRequest(t,r,a){if(this.state!==this.STATE.LOGGED_IN){let f="Requests can only be made in the "+this.STATE.LOGGED_IN.name+" state, not the "+this.state.name+" state";this.debug.log(f),t.callback(new Oe.RequestError(f,"EINVALIDSTATE"))}else if(t.canceled)process.nextTick(()=>{t.callback(new Oe.RequestError("Canceled.","ECANCEL"))});else{r===De.TYPE.SQL_BATCH?this.isSqlBatch=!0:this.isSqlBatch=!1,this.request=t,t.connection=this,t.rowCount=0,t.rows=[],t.rst=[];let f=()=>{h.unpipe(l),h.destroy(new Oe.RequestError("Canceled.","ECANCEL")),l.ignore=!0,l.end(),t instanceof We.default&&t.paused&&t.resume()};t.once("cancel",f),this.createRequestTimer();let l=new FT.default({type:r,resetConnection:this.resetConnectionOnNextRequest});this.messageIo.outgoingMessageStream.write(l),this.transitionTo(this.STATE.SENT_CLIENT_REQUEST),l.once("finish",()=>{t.removeListener("cancel",f),t.once("cancel",this._cancelAfterRequestSent),this.resetConnectionOnNextRequest=!1,this.debug.payload(function(){return a.toString("  ")})});let h=Oc.Readable.from(a);h.once("error",E=>{h.unpipe(l),t.error??(t.error=E),l.ignore=!0,l.end()}),h.pipe(l)}}cancel(){return!this.request||this.request.canceled?!1:(this.request.cancel(),!0)}reset(t){let r=new We.default(this.getInitialSql(),a=>{this.config.options.tdsVersion<"7_2"&&(this.inTransaction=!1),t(a)});this.resetConnectionOnNextRequest=!0,this.execSqlBatch(r)}currentTransactionDescriptor(){return this.transactionDescriptors[this.transactionDescriptors.length-1]}getIsolationLevelText(t){switch(t){case Ke.ISOLATION_LEVEL.READ_UNCOMMITTED:return"read uncommitted";case Ke.ISOLATION_LEVEL.REPEATABLE_READ:return"repeatable read";case Ke.ISOLATION_LEVEL.SERIALIZABLE:return"serializable";case Ke.ISOLATION_LEVEL.SNAPSHOT:return"snapshot";default:return"read committed"}}};function Nc(n){return n instanceof UT.default&&(n=n.errors[0]),n instanceof Oe.ConnectionError&&!!n.isTransient}var fF=Kr;Qs.default=fF;BT.exports=Kr;Kr.prototype.STATE={INITIALIZED:{name:"Initialized",events:{}},CONNECTING:{name:"Connecting",enter:function(){this.initialiseConnection()},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_PRELOGIN:{name:"SentPrelogin",enter:function(){(async()=>{let n=Buffer.alloc(0),t;try{t=await this.messageIo.readMessage()}catch(l){return this.socketError(l)}for await(let l of t)n=Buffer.concat([n,l]);let r=new xT.default(n);if(this.debug.payload(function(){return r.toString("  ")}),r.fedAuthRequired===1&&(this.fedAuthRequired=!0),r.encryptionString==="ON"||r.encryptionString==="REQ"){if(!this.config.options.encrypt)return this.emit("connect",new Oe.ConnectionError("Server requires encryption, set 'encrypt' config option to true.","EENCRYPT")),this.close();try{var a;this.transitionTo(this.STATE.SENT_TLSSSLNEGOTIATION),await this.messageIo.startTls(this.secureContextOptions,((a=this.routingData)===null||a===void 0?void 0:a.server)??this.config.server,this.config.options.trustServerCertificate)}catch(l){return this.socketError(l)}}this.sendLogin7Packet();let{authentication:f}=this.config;switch(f.type){case"azure-active-directory-password":case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":case"azure-active-directory-default":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_FEDAUTH);break;case"ntlm":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_NTLM);break;default:this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN);break}})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},REROUTING:{name:"ReRouting",enter:function(){this.cleanupConnection($r.REDIRECT)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},reconnect:function(){this.transitionTo(this.STATE.CONNECTING)}}},TRANSIENT_FAILURE_RETRY:{name:"TRANSIENT_FAILURE_RETRY",enter:function(){this.curTransientRetryCount++,this.cleanupConnection($r.RETRY)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},retry:function(){this.createRetryTimer()}}},SENT_TLSSSLNEGOTIATION:{name:"SentTLSSSLNegotiation",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_STANDARD_LOGIN:{name:"SentLogin7WithStandardLogin",enter:function(){(async()=>{let n;try{n=await this.messageIo.readMessage()}catch(a){return this.socketError(a)}let t=new Wn.Login7TokenHandler(this),r=this.createTokenStreamParser(n,t);await(0,Gn.once)(r,"end"),t.loginAckReceived?t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL):this.loginError?Nc(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new Oe.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_NTLM:{name:"SentLogin7WithNTLMLogin",enter:function(){(async()=>{for(;;){let n;try{n=await this.messageIo.readMessage()}catch(a){return this.socketError(a)}let t=new Wn.Login7TokenHandler(this),r=this.createTokenStreamParser(n,t);if(await(0,Gn.once)(r,"end"),t.loginAckReceived)return t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL);if(this.ntlmpacket){let a=this.config.authentication,f=new kP.default({domain:a.options.domain,userName:a.options.userName,password:a.options.password,ntlmpacket:this.ntlmpacket});this.messageIo.sendMessage(De.TYPE.NTLMAUTH_PKT,f.data),this.debug.payload(function(){return f.toString("  ")}),this.ntlmpacket=void 0}else return this.loginError?Nc(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new Oe.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))}})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_FEDAUTH:{name:"SentLogin7Withfedauth",enter:function(){(async()=>{let n;try{n=await this.messageIo.readMessage()}catch(f){return this.socketError(f)}let t=new Wn.Login7TokenHandler(this),r=this.createTokenStreamParser(n,t);if(await(0,Gn.once)(r,"end"),t.loginAckReceived){t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL);return}let a=t.fedAuthInfoToken;if(a&&a.stsurl&&a.spn){let f=this.config.authentication,l=new jP.URL("/.default",a.spn).toString(),h;switch(f.type){case"azure-active-directory-password":h=new Js.UsernamePasswordCredential(f.options.tenantId??"common",f.options.clientId,f.options.userName,f.options.password);break;case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":let O=f.options.clientId?[f.options.clientId,{}]:[{}];h=new Js.ManagedIdentityCredential(...O);break;case"azure-active-directory-default":let A=f.options.clientId?{managedIdentityClientId:f.options.clientId}:{};h=new Js.DefaultAzureCredential(A);break;case"azure-active-directory-service-principal-secret":h=new Js.ClientSecretCredential(f.options.tenantId,f.options.clientId,f.options.clientSecret);break}let E;try{E=await h.getToken(l)}catch(O){this.loginError=new UT.default([new Oe.ConnectionError("Security token could not be authenticated or authorized.","EFEDAUTH"),O]),this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL);return}let v=E.token;this.sendFedAuthTokenMessage(v)}else this.loginError?Nc(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new Oe.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN_SENDING_INITIAL_SQL:{name:"LoggedInSendingInitialSql",enter:function(){(async()=>{this.sendInitialSql();let n;try{n=await this.messageIo.readMessage()}catch(r){return this.socketError(r)}let t=this.createTokenStreamParser(n,new Wn.InitialSqlTokenHandler(this));await(0,Gn.once)(t,"end"),this.transitionTo(this.STATE.LOGGED_IN),this.processedInitialSql()})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN:{name:"LoggedIn",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_CLIENT_REQUEST:{name:"SentClientRequest",enter:function(){(async()=>{var n,t,r;let a;try{a=await this.messageIo.readMessage()}catch(O){return this.socketError(O)}this.clearRequestTimer();let f=this.createTokenStreamParser(a,new Wn.RequestTokenHandler(this,this.request));if((n=this.request)!==null&&n!==void 0&&n.canceled&&this.cancelTimer)return this.transitionTo(this.STATE.SENT_ATTENTION);let l=()=>{f.resume()},h=()=>{var O;f.pause(),(O=this.request)===null||O===void 0||O.once("resume",l)};(t=this.request)===null||t===void 0||t.on("pause",h),this.request instanceof We.default&&this.request.paused&&h();let E=()=>{var O,A;f.removeListener("end",v),this.request instanceof We.default&&this.request.paused&&this.request.resume(),(O=this.request)===null||O===void 0||O.removeListener("pause",h),(A=this.request)===null||A===void 0||A.removeListener("resume",l),this.transitionTo(this.STATE.SENT_ATTENTION)},v=()=>{var O,A,b,C;(O=this.request)===null||O===void 0||O.removeListener("cancel",this._cancelAfterRequestSent),(A=this.request)===null||A===void 0||A.removeListener("cancel",E),(b=this.request)===null||b===void 0||b.removeListener("pause",h),(C=this.request)===null||C===void 0||C.removeListener("resume",l),this.transitionTo(this.STATE.LOGGED_IN);let Y=this.request;this.request=void 0,this.config.options.tdsVersion<"7_2"&&Y.error&&this.isSqlBatch&&(this.inTransaction=!1),Y.callback(Y.error,Y.rowCount,Y.rows)};f.once("end",v),(r=this.request)===null||r===void 0||r.once("cancel",E)})()},exit:function(n){this.clearRequestTimer()},events:{socketError:function(n){let t=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),t.callback(n)}}},SENT_ATTENTION:{name:"SentAttention",enter:function(){(async()=>{let n;try{n=await this.messageIo.readMessage()}catch(a){return this.socketError(a)}let t=new Wn.AttentionTokenHandler(this,this.request),r=this.createTokenStreamParser(n,t);if(await(0,Gn.once)(r,"end"),t.attentionReceived){this.clearCancelTimer();let a=this.request;this.request=void 0,this.transitionTo(this.STATE.LOGGED_IN),a.error&&a.error instanceof Oe.RequestError&&a.error.code==="ETIMEOUT"?a.callback(a.error):a.callback(new Oe.RequestError("Canceled.","ECANCEL"))}})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(n){let t=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),t.callback(n)}}},FINAL:{name:"Final",enter:function(){this.cleanupConnection($r.NORMAL)},events:{connectTimeout:function(){},message:function(){},socketError:function(){}}}}});Object.defineProperty(exports,"__esModule",{value:!0});Object.defineProperty(exports,"BulkLoad",{enumerable:!0,get:function(){return lF.default}});Object.defineProperty(exports,"Connection",{enumerable:!0,get:function(){return YT.default}});Object.defineProperty(exports,"ConnectionError",{enumerable:!0,get:function(){return kT.ConnectionError}});Object.defineProperty(exports,"ISOLATION_LEVEL",{enumerable:!0,get:function(){return pF.ISOLATION_LEVEL}});Object.defineProperty(exports,"Request",{enumerable:!0,get:function(){return cF.default}});Object.defineProperty(exports,"RequestError",{enumerable:!0,get:function(){return kT.RequestError}});Object.defineProperty(exports,"TDS_VERSION",{enumerable:!0,get:function(){return _F.versions}});Object.defineProperty(exports,"TYPES",{enumerable:!0,get:function(){return dF.TYPES}});exports.connect=EF;exports.library=void 0;var lF=Ic(Ga()),YT=Ic(qT()),cF=Ic(Ri()),hF=Ec(),kT=Sn(),dF=vr(),pF=al(),_F=ir();function Ic(n){return n&&n.__esModule?n:{default:n}}var mF={name:hF.name};exports.library=mF;function EF(n,t){let r=new YT.default(n);return r.connect(t),r}
/*
 * @copyright (c) 2015-present, Philipp Thrwchter, Pattrick Hper & js-joda contributors
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thrwchter, Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/**
 * [js-md4]{@link https://github.com/emn178/js-md4}
 *
 * @namespace md4
 * @version 0.3.2
 * @author Yi-Cyuan Chen [emn178@gmail.com]
 * @copyright Yi-Cyuan Chen 2015-2027
 * @license MIT
 */
//! @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
//! @copyright (c) 2015-present, Philipp Thrwchter, Pattrick Hper & js-joda contributors
//! @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
//! @version @js-joda/core - 5.6.2
